var aS=Object.defineProperty;var rS=(t,e,n)=>e in t?aS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Sl=(t,e,n)=>rS(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function kg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Og={exports:{}},tr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uS=Symbol.for("react.transitional.element"),cS=Symbol.for("react.fragment");function Pg(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var o in e)o!=="key"&&(n[o]=e[o])}else n=e;return e=n.ref,{$$typeof:uS,type:t,key:i,ref:e!==void 0?e:null,props:n}}tr.Fragment=cS;tr.jsx=Pg;tr.jsxs=Pg;Og.exports=tr;var S=Og.exports,Hg={exports:{}},$={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zc=Symbol.for("react.transitional.element"),fS=Symbol.for("react.portal"),dS=Symbol.for("react.fragment"),pS=Symbol.for("react.strict_mode"),hS=Symbol.for("react.profiler"),gS=Symbol.for("react.consumer"),mS=Symbol.for("react.context"),yS=Symbol.for("react.forward_ref"),vS=Symbol.for("react.suspense"),SS=Symbol.for("react.memo"),Gg=Symbol.for("react.lazy"),TS=Symbol.for("react.activity"),id=Symbol.iterator;function ES(t){return t===null||typeof t!="object"?null:(t=id&&t[id]||t["@@iterator"],typeof t=="function"?t:null)}var Vg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zg=Object.assign,Bg={};function ol(t,e,n){this.props=t,this.context=e,this.refs=Bg,this.updater=n||Vg}ol.prototype.isReactComponent={};ol.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ol.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qg(){}qg.prototype=ol.prototype;function Bc(t,e,n){this.props=t,this.context=e,this.refs=Bg,this.updater=n||Vg}var qc=Bc.prototype=new qg;qc.constructor=Bc;zg(qc,ol.prototype);qc.isPureReactComponent=!0;var od=Array.isArray;function Cu(){}var ye={H:null,A:null,T:null,S:null},Fg=Object.prototype.hasOwnProperty;function Fc(t,e,n){var i=n.ref;return{$$typeof:zc,type:t,key:e,ref:i!==void 0?i:null,props:n}}function CS(t,e){return Fc(t.type,e,t.props)}function Jc(t){return typeof t=="object"&&t!==null&&t.$$typeof===zc}function AS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ld=/\/+/g;function Dr(t,e){return typeof t=="object"&&t!==null&&t.key!=null?AS(""+t.key):e.toString(36)}function _S(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Cu,Cu):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function To(t,e,n,i,o){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(l){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case zc:case fS:s=!0;break;case Gg:return s=t._init,To(s(t._payload),e,n,i,o)}}if(s)return o=o(t),s=i===""?"."+Dr(t,0):i,od(o)?(n="",s!=null&&(n=s.replace(ld,"$&/")+"/"),To(o,e,n,"",function(f){return f})):o!=null&&(Jc(o)&&(o=CS(o,n+(o.key==null||t&&t.key===o.key?"":(""+o.key).replace(ld,"$&/")+"/")+s)),e.push(o)),1;s=0;var a=i===""?".":i+":";if(od(t))for(var c=0;c<t.length;c++)i=t[c],l=a+Dr(i,c),s+=To(i,e,n,l,o);else if(c=ES(t),typeof c=="function")for(t=c.call(t),c=0;!(i=t.next()).done;)i=i.value,l=a+Dr(i,c++),s+=To(i,e,n,l,o);else if(l==="object"){if(typeof t.then=="function")return To(_S(t),e,n,i,o);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function Rs(t,e,n){if(t==null)return t;var i=[],o=0;return To(t,i,"","",function(l){return e.call(n,l,o++)}),i}function xS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sd=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},wS={map:Rs,forEach:function(t,e,n){Rs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Rs(t,function(){e++}),e},toArray:function(t){return Rs(t,function(e){return e})||[]},only:function(t){if(!Jc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$.Activity=TS;$.Children=wS;$.Component=ol;$.Fragment=dS;$.Profiler=hS;$.PureComponent=Bc;$.StrictMode=pS;$.Suspense=vS;$.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ye;$.__COMPILER_RUNTIME={__proto__:null,c:function(t){return ye.H.useMemoCache(t)}};$.cache=function(t){return function(){return t.apply(null,arguments)}};$.cacheSignal=function(){return null};$.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=zg({},t.props),o=t.key;if(e!=null)for(l in e.key!==void 0&&(o=""+e.key),e)!Fg.call(e,l)||l==="key"||l==="__self"||l==="__source"||l==="ref"&&e.ref===void 0||(i[l]=e[l]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var s=Array(l),a=0;a<l;a++)s[a]=arguments[a+2];i.children=s}return Fc(t.type,o,i)};$.createContext=function(t){return t={$$typeof:mS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:gS,_context:t},t};$.createElement=function(t,e,n){var i,o={},l=null;if(e!=null)for(i in e.key!==void 0&&(l=""+e.key),e)Fg.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(o[i]=e[i]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var a=Array(s),c=0;c<s;c++)a[c]=arguments[c+2];o.children=a}if(t&&t.defaultProps)for(i in s=t.defaultProps,s)o[i]===void 0&&(o[i]=s[i]);return Fc(t,l,o)};$.createRef=function(){return{current:null}};$.forwardRef=function(t){return{$$typeof:yS,render:t}};$.isValidElement=Jc;$.lazy=function(t){return{$$typeof:Gg,_payload:{_status:-1,_result:t},_init:xS}};$.memo=function(t,e){return{$$typeof:SS,type:t,compare:e===void 0?null:e}};$.startTransition=function(t){var e=ye.T,n={};ye.T=n;try{var i=t(),o=ye.S;o!==null&&o(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Cu,sd)}catch(l){sd(l)}finally{e!==null&&n.types!==null&&(e.types=n.types),ye.T=e}};$.unstable_useCacheRefresh=function(){return ye.H.useCacheRefresh()};$.use=function(t){return ye.H.use(t)};$.useActionState=function(t,e,n){return ye.H.useActionState(t,e,n)};$.useCallback=function(t,e){return ye.H.useCallback(t,e)};$.useContext=function(t){return ye.H.useContext(t)};$.useDebugValue=function(){};$.useDeferredValue=function(t,e){return ye.H.useDeferredValue(t,e)};$.useEffect=function(t,e){return ye.H.useEffect(t,e)};$.useEffectEvent=function(t){return ye.H.useEffectEvent(t)};$.useId=function(){return ye.H.useId()};$.useImperativeHandle=function(t,e,n){return ye.H.useImperativeHandle(t,e,n)};$.useInsertionEffect=function(t,e){return ye.H.useInsertionEffect(t,e)};$.useLayoutEffect=function(t,e){return ye.H.useLayoutEffect(t,e)};$.useMemo=function(t,e){return ye.H.useMemo(t,e)};$.useOptimistic=function(t,e){return ye.H.useOptimistic(t,e)};$.useReducer=function(t,e,n){return ye.H.useReducer(t,e,n)};$.useRef=function(t){return ye.H.useRef(t)};$.useState=function(t){return ye.H.useState(t)};$.useSyncExternalStore=function(t,e,n){return ye.H.useSyncExternalStore(t,e,n)};$.useTransition=function(){return ye.H.useTransition()};$.version="19.2.3";Hg.exports=$;var w=Hg.exports;const ad=kg(w);var Jg={exports:{}},nr={},Yg={exports:{}},Kg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,z){var O=M.length;M.push(z);e:for(;0<O;){var Q=O-1>>>1,ne=M[Q];if(0<o(ne,z))M[Q]=z,M[O]=ne,O=Q;else break e}}function n(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var z=M[0],O=M.pop();if(O!==z){M[0]=O;e:for(var Q=0,ne=M.length,xe=ne>>>1;Q<xe;){var Bt=2*(Q+1)-1,$e=M[Bt],rt=Bt+1,Wt=M[rt];if(0>o($e,O))rt<ne&&0>o(Wt,$e)?(M[Q]=Wt,M[rt]=O,Q=rt):(M[Q]=$e,M[Bt]=O,Q=Bt);else if(rt<ne&&0>o(Wt,O))M[Q]=Wt,M[rt]=O,Q=rt;else break e}}return z}function o(M,z){var O=M.sortIndex-z.sortIndex;return O!==0?O:M.id-z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var c=[],f=[],d=1,h=null,p=3,g=!1,v=!1,E=!1,A=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function C(M){for(var z=n(f);z!==null;){if(z.callback===null)i(f);else if(z.startTime<=M)i(f),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(f)}}function x(M){if(E=!1,C(M),!v)if(n(c)!==null)v=!0,N||(N=!0,ce());else{var z=n(f);z!==null&&J(x,z.startTime-M)}}var N=!1,_=-1,I=5,b=-1;function L(){return A?!0:!(t.unstable_now()-b<I)}function B(){if(A=!1,N){var M=t.unstable_now();b=M;var z=!0;try{e:{v=!1,E&&(E=!1,m(_),_=-1),g=!0;var O=p;try{t:{for(C(M),h=n(c);h!==null&&!(h.expirationTime>M&&L());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,p=h.priorityLevel;var ne=Q(h.expirationTime<=M);if(M=t.unstable_now(),typeof ne=="function"){h.callback=ne,C(M),z=!0;break t}h===n(c)&&i(c),C(M)}else i(c);h=n(c)}if(h!==null)z=!0;else{var xe=n(f);xe!==null&&J(x,xe.startTime-M),z=!1}}break e}finally{h=null,p=O,g=!1}z=void 0}}finally{z?ce():N=!1}}}var ce;if(typeof T=="function")ce=function(){T(B)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,pe=U.port2;U.port1.onmessage=B,ce=function(){pe.postMessage(null)}}else ce=function(){y(B,0)};function J(M,z){_=y(function(){M(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(M){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var O=p;p=z;try{return M()}finally{p=O}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(M,z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var O=p;p=M;try{return z()}finally{p=O}},t.unstable_scheduleCallback=function(M,z,O){var Q=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?Q+O:Q):O=Q,M){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=O+ne,M={id:d++,callback:z,priorityLevel:M,startTime:O,expirationTime:ne,sortIndex:-1},O>Q?(M.sortIndex=O,e(f,M),n(c)===null&&M===n(f)&&(E?(m(_),_=-1):E=!0,J(x,O-Q))):(M.sortIndex=ne,e(c,M),v||g||(v=!0,N||(N=!0,ce()))),M},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(M){var z=p;return function(){var O=p;p=z;try{return M.apply(this,arguments)}finally{p=O}}}})(Kg);Yg.exports=Kg;var bS=Yg.exports,$g={exports:{}},at={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RS=w;function Xg(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function qn(){}var lt={d:{f:qn,r:function(){throw Error(Xg(522))},D:qn,C:qn,L:qn,m:qn,X:qn,S:qn,M:qn},p:0,findDOMNode:null},NS=Symbol.for("react.portal");function MS(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:NS,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var Ol=RS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ir(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}at.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt;at.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(Xg(299));return MS(t,e,null,n)};at.flushSync=function(t){var e=Ol.T,n=lt.p;try{if(Ol.T=null,lt.p=2,t)return t()}finally{Ol.T=e,lt.p=n,lt.d.f()}};at.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,lt.d.C(t,e))};at.prefetchDNS=function(t){typeof t=="string"&&lt.d.D(t)};at.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=ir(n,e.crossOrigin),o=typeof e.integrity=="string"?e.integrity:void 0,l=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?lt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:o,fetchPriority:l}):n==="script"&&lt.d.X(t,{crossOrigin:i,integrity:o,fetchPriority:l,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};at.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=ir(e.as,e.crossOrigin);lt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&lt.d.M(t)};at.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=ir(n,e.crossOrigin);lt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};at.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=ir(e.as,e.crossOrigin);lt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else lt.d.m(t)};at.requestFormReset=function(t){lt.d.r(t)};at.unstable_batchedUpdates=function(t,e){return t(e)};at.useFormState=function(t,e,n){return Ol.H.useFormState(t,e,n)};at.useFormStatus=function(){return Ol.H.useHostTransitionStatus()};at.version="19.2.3";function Qg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qg)}catch(t){console.error(t)}}Qg(),$g.exports=at;var IS=$g.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ke=bS,Zg=w,DS=IS;function R(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Wg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ds(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function em(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rd(t){if(ds(t)!==t)throw Error(R(188))}function LS(t){var e=t.alternate;if(!e){if(e=ds(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,i=e;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return rd(o),t;if(l===i)return rd(o),e;l=l.sibling}throw Error(R(188))}if(n.return!==i.return)n=o,i=l;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,i=l;break}if(a===i){s=!0,i=o,n=l;break}a=a.sibling}if(!s){for(a=l.child;a;){if(a===n){s=!0,n=l,i=o;break}if(a===i){s=!0,i=l,n=o;break}a=a.sibling}if(!s)throw Error(R(189))}}if(n.alternate!==i)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function tm(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=tm(t),e!==null)return e;t=t.sibling}return null}var ve=Object.assign,US=Symbol.for("react.element"),Ns=Symbol.for("react.transitional.element"),Ml=Symbol.for("react.portal"),_o=Symbol.for("react.fragment"),nm=Symbol.for("react.strict_mode"),Au=Symbol.for("react.profiler"),im=Symbol.for("react.consumer"),_n=Symbol.for("react.context"),Yc=Symbol.for("react.forward_ref"),_u=Symbol.for("react.suspense"),xu=Symbol.for("react.suspense_list"),Kc=Symbol.for("react.memo"),Fn=Symbol.for("react.lazy"),wu=Symbol.for("react.activity"),kS=Symbol.for("react.memo_cache_sentinel"),ud=Symbol.iterator;function Tl(t){return t===null||typeof t!="object"?null:(t=ud&&t[ud]||t["@@iterator"],typeof t=="function"?t:null)}var OS=Symbol.for("react.client.reference");function bu(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===OS?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _o:return"Fragment";case Au:return"Profiler";case nm:return"StrictMode";case _u:return"Suspense";case xu:return"SuspenseList";case wu:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Ml:return"Portal";case _n:return t.displayName||"Context";case im:return(t._context.displayName||"Context")+".Consumer";case Yc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kc:return e=t.displayName||null,e!==null?e:bu(t.type)||"Memo";case Fn:e=t._payload,t=t._init;try{return bu(t(e))}catch{}}return null}var Il=Array.isArray,F=Zg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=DS.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bi={pending:!1,data:null,method:null,action:null},Ru=[],xo=-1;function un(t){return{current:t}}function Ge(t){0>xo||(t.current=Ru[xo],Ru[xo]=null,xo--)}function he(t,e){xo++,Ru[xo]=t.current,t.current=e}var rn=un(null),Zl=un(null),ti=un(null),ha=un(null);function ga(t,e){switch(he(ti,e),he(Zl,t),he(rn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?gp(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=gp(e),t=A0(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ge(rn),he(rn,t)}function Ko(){Ge(rn),Ge(Zl),Ge(ti)}function Nu(t){t.memoizedState!==null&&he(ha,t);var e=rn.current,n=A0(e,t.type);e!==n&&(he(Zl,t),he(rn,n))}function ma(t){Zl.current===t&&(Ge(rn),Ge(Zl)),ha.current===t&&(Ge(ha),rs._currentValue=bi)}var Lr,cd;function Ci(t){if(Lr===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Lr=e&&e[1]||"",cd=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lr+t+cd}var Ur=!1;function kr(t,e){if(!t||Ur)return"";Ur=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(g){var p=g}Reflect.construct(t,[],h)}else{try{h.call()}catch(g){p=g}t.call(h.prototype)}}else{try{throw Error()}catch(g){p=g}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(g){if(g&&p&&typeof g.stack=="string")return[g.stack,p.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=i.DetermineComponentFrameRoot(),s=l[0],a=l[1];if(s&&a){var c=s.split(`
`),f=a.split(`
`);for(o=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;o<f.length&&!f[o].includes("DetermineComponentFrameRoot");)o++;if(i===c.length||o===f.length)for(i=c.length-1,o=f.length-1;1<=i&&0<=o&&c[i]!==f[o];)o--;for(;1<=i&&0<=o;i--,o--)if(c[i]!==f[o]){if(i!==1||o!==1)do if(i--,o--,0>o||c[i]!==f[o]){var d=`
`+c[i].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=i&&0<=o);break}}}finally{Ur=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ci(n):""}function PS(t,e){switch(t.tag){case 26:case 27:case 5:return Ci(t.type);case 16:return Ci("Lazy");case 13:return t.child!==e&&e!==null?Ci("Suspense Fallback"):Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return kr(t.type,!1);case 11:return kr(t.type.render,!1);case 1:return kr(t.type,!0);case 31:return Ci("Activity");default:return""}}function fd(t){try{var e="",n=null;do e+=PS(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Mu=Object.prototype.hasOwnProperty,$c=ke.unstable_scheduleCallback,Or=ke.unstable_cancelCallback,HS=ke.unstable_shouldYield,GS=ke.unstable_requestPaint,Et=ke.unstable_now,VS=ke.unstable_getCurrentPriorityLevel,om=ke.unstable_ImmediatePriority,lm=ke.unstable_UserBlockingPriority,ya=ke.unstable_NormalPriority,zS=ke.unstable_LowPriority,sm=ke.unstable_IdlePriority,BS=ke.log,qS=ke.unstable_setDisableYieldValue,ps=null,Ct=null;function Qn(t){if(typeof BS=="function"&&qS(t),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(ps,t)}catch{}}var At=Math.clz32?Math.clz32:YS,FS=Math.log,JS=Math.LN2;function YS(t){return t>>>=0,t===0?32:31-(FS(t)/JS|0)|0}var Ms=256,Is=262144,Ds=4194304;function Ai(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function or(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var o=0,l=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var a=i&134217727;return a!==0?(i=a&~l,i!==0?o=Ai(i):(s&=a,s!==0?o=Ai(s):n||(n=a&~t,n!==0&&(o=Ai(n))))):(a=i&~l,a!==0?o=Ai(a):s!==0?o=Ai(s):n||(n=i&~t,n!==0&&(o=Ai(n)))),o===0?0:e!==0&&e!==o&&!(e&l)&&(l=o&-o,n=e&-e,l>=n||l===32&&(n&4194048)!==0)?e:o}function hs(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function KS(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function am(){var t=Ds;return Ds<<=1,!(Ds&62914560)&&(Ds=4194304),t}function Pr(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function gs(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function $S(t,e,n,i,o,l){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var a=t.entanglements,c=t.expirationTimes,f=t.hiddenUpdates;for(n=s&~n;0<n;){var d=31-At(n),h=1<<d;a[d]=0,c[d]=-1;var p=f[d];if(p!==null)for(f[d]=null,d=0;d<p.length;d++){var g=p[d];g!==null&&(g.lane&=-536870913)}n&=~h}i!==0&&rm(t,i,0),l!==0&&o===0&&t.tag!==0&&(t.suspendedLanes|=l&~(s&~e))}function rm(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-At(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function um(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-At(n),o=1<<i;o&e|t[i]&e&&(t[i]|=e),n&=~o}}function cm(t,e){var n=e&-e;return n=n&42?1:Xc(n),n&(t.suspendedLanes|e)?0:n}function Xc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qc(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function fm(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:U0(t.type))}function dd(t,e){var n=le.p;try{return le.p=t,e()}finally{le.p=n}}var hi=Math.random().toString(36).slice(2),Fe="__reactFiber$"+hi,ht="__reactProps$"+hi,ll="__reactContainer$"+hi,Iu="__reactEvents$"+hi,XS="__reactListeners$"+hi,QS="__reactHandles$"+hi,pd="__reactResources$"+hi,ms="__reactMarker$"+hi;function Zc(t){delete t[Fe],delete t[ht],delete t[Iu],delete t[XS],delete t[QS]}function wo(t){var e=t[Fe];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ll]||n[Fe]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Tp(t);t!==null;){if(n=t[Fe])return n;t=Tp(t)}return e}t=n,n=t.parentNode}return null}function sl(t){if(t=t[Fe]||t[ll]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Dl(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(R(33))}function Ho(t){var e=t[pd];return e||(e=t[pd]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function He(t){t[ms]=!0}var dm=new Set,pm={};function Gi(t,e){$o(t,e),$o(t+"Capture",e)}function $o(t,e){for(pm[t]=e,t=0;t<e.length;t++)dm.add(e[t])}var ZS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hd={},gd={};function WS(t){return Mu.call(gd,t)?!0:Mu.call(hd,t)?!1:ZS.test(t)?gd[t]=!0:(hd[t]=!0,!1)}function Zs(t,e,n){if(WS(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Ls(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function yn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function It(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jS(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,l=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){n=""+s,l.call(this,s)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Du(t){if(!t._valueTracker){var e=hm(t)?"checked":"value";t._valueTracker=jS(t,e,""+t[e])}}function gm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=hm(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function va(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var eT=/[\n"\\]/g;function Ut(t){return t.replace(eT,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Lu(t,e,n,i,o,l,s,a){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+It(e)):t.value!==""+It(e)&&(t.value=""+It(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?Uu(t,s,It(e)):n!=null?Uu(t,s,It(n)):i!=null&&t.removeAttribute("value"),o==null&&l!=null&&(t.defaultChecked=!!l),o!=null&&(t.checked=o&&typeof o!="function"&&typeof o!="symbol"),a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.name=""+It(a):t.removeAttribute("name")}function mm(t,e,n,i,o,l,s,a){if(l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(t.type=l),e!=null||n!=null){if(!(l!=="submit"&&l!=="reset"||e!=null)){Du(t);return}n=n!=null?""+It(n):"",e=e!=null?""+It(e):n,a||e===t.value||(t.value=e),t.defaultValue=e}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=a?t.checked:!!i,t.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s),Du(t)}function Uu(t,e,n){e==="number"&&va(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Go(t,e,n,i){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&i&&(t[n].defaultSelected=!0)}else{for(n=""+It(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,i&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function ym(t,e,n){if(e!=null&&(e=""+It(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+It(n):""}function vm(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(R(92));if(Il(i)){if(1<i.length)throw Error(R(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=It(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),Du(t)}function Xo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var tT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function md(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||tT.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Sm(t,e,n){if(e!=null&&typeof e!="object")throw Error(R(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var o in e)i=e[o],e.hasOwnProperty(o)&&n[o]!==i&&md(t,o,i)}else for(var l in e)e.hasOwnProperty(l)&&md(t,l,e[l])}function Wc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),iT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ws(t){return iT.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function xn(){}var ku=null;function jc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bo=null,Vo=null;function yd(t){var e=sl(t);if(e&&(t=e.stateNode)){var n=t[ht]||null;e:switch(t=e.stateNode,e.type){case"input":if(Lu(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ut(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var o=i[ht]||null;if(!o)throw Error(R(90));Lu(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&gm(i)}break e;case"textarea":ym(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Go(t,!!n.multiple,e,!1)}}}var Hr=!1;function Tm(t,e,n){if(Hr)return t(e,n);Hr=!0;try{var i=t(e);return i}finally{if(Hr=!1,(bo!==null||Vo!==null)&&(mr(),bo&&(e=bo,t=Vo,Vo=bo=null,yd(e),t)))for(e=0;e<t.length;e++)yd(t[e])}}function Wl(t,e){var n=t.stateNode;if(n===null)return null;var i=n[ht]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ou=!1;if(Mn)try{var El={};Object.defineProperty(El,"passive",{get:function(){Ou=!0}}),window.addEventListener("test",El,El),window.removeEventListener("test",El,El)}catch{Ou=!1}var Zn=null,ef=null,js=null;function Em(){if(js)return js;var t,e=ef,n=e.length,i,o="value"in Zn?Zn.value:Zn.textContent,l=o.length;for(t=0;t<n&&e[t]===o[t];t++);var s=n-t;for(i=1;i<=s&&e[n-i]===o[l-i];i++);return js=o.slice(t,1<i?1-i:void 0)}function ea(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Us(){return!0}function vd(){return!1}function gt(t){function e(n,i,o,l,s){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=l,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(l):l[a]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Us:vd,this.isPropagationStopped=vd,this}return ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Us)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Us)},persist:function(){},isPersistent:Us}),e}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lr=gt(Vi),ys=ve({},Vi,{view:0,detail:0}),oT=gt(ys),Gr,Vr,Cl,sr=ve({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cl&&(Cl&&t.type==="mousemove"?(Gr=t.screenX-Cl.screenX,Vr=t.screenY-Cl.screenY):Vr=Gr=0,Cl=t),Gr)},movementY:function(t){return"movementY"in t?t.movementY:Vr}}),Sd=gt(sr),lT=ve({},sr,{dataTransfer:0}),sT=gt(lT),aT=ve({},ys,{relatedTarget:0}),zr=gt(aT),rT=ve({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),uT=gt(rT),cT=ve({},Vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fT=gt(cT),dT=ve({},Vi,{data:0}),Td=gt(dT),pT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gT[t])?!!e[t]:!1}function tf(){return mT}var yT=ve({},ys,{key:function(t){if(t.key){var e=pT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ea(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tf,charCode:function(t){return t.type==="keypress"?ea(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ea(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vT=gt(yT),ST=ve({},sr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ed=gt(ST),TT=ve({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tf}),ET=gt(TT),CT=ve({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),AT=gt(CT),_T=ve({},sr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xT=gt(_T),wT=ve({},Vi,{newState:0,oldState:0}),bT=gt(wT),RT=[9,13,27,32],nf=Mn&&"CompositionEvent"in window,Pl=null;Mn&&"documentMode"in document&&(Pl=document.documentMode);var NT=Mn&&"TextEvent"in window&&!Pl,Cm=Mn&&(!nf||Pl&&8<Pl&&11>=Pl),Cd=" ",Ad=!1;function Am(t,e){switch(t){case"keyup":return RT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _m(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ro=!1;function MT(t,e){switch(t){case"compositionend":return _m(e);case"keypress":return e.which!==32?null:(Ad=!0,Cd);case"textInput":return t=e.data,t===Cd&&Ad?null:t;default:return null}}function IT(t,e){if(Ro)return t==="compositionend"||!nf&&Am(t,e)?(t=Em(),js=ef=Zn=null,Ro=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cm&&e.locale!=="ko"?null:e.data;default:return null}}var DT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _d(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!DT[t.type]:e==="textarea"}function xm(t,e,n,i){bo?Vo?Vo.push(i):Vo=[i]:bo=i,e=Oa(e,"onChange"),0<e.length&&(n=new lr("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Hl=null,jl=null;function LT(t){T0(t,0)}function ar(t){var e=Dl(t);if(gm(e))return t}function xd(t,e){if(t==="change")return e}var wm=!1;if(Mn){var Br;if(Mn){var qr="oninput"in document;if(!qr){var wd=document.createElement("div");wd.setAttribute("oninput","return;"),qr=typeof wd.oninput=="function"}Br=qr}else Br=!1;wm=Br&&(!document.documentMode||9<document.documentMode)}function bd(){Hl&&(Hl.detachEvent("onpropertychange",bm),jl=Hl=null)}function bm(t){if(t.propertyName==="value"&&ar(jl)){var e=[];xm(e,jl,t,jc(t)),Tm(LT,e)}}function UT(t,e,n){t==="focusin"?(bd(),Hl=e,jl=n,Hl.attachEvent("onpropertychange",bm)):t==="focusout"&&bd()}function kT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ar(jl)}function OT(t,e){if(t==="click")return ar(e)}function PT(t,e){if(t==="input"||t==="change")return ar(e)}function HT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xt=typeof Object.is=="function"?Object.is:HT;function es(t,e){if(xt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!Mu.call(e,o)||!xt(t[o],e[o]))return!1}return!0}function Rd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nd(t,e){var n=Rd(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rd(n)}}function Rm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Rm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Nm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=va(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=va(t.document)}return e}function of(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var GT=Mn&&"documentMode"in document&&11>=document.documentMode,No=null,Pu=null,Gl=null,Hu=!1;function Md(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hu||No==null||No!==va(i)||(i=No,"selectionStart"in i&&of(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Gl&&es(Gl,i)||(Gl=i,i=Oa(Pu,"onSelect"),0<i.length&&(e=new lr("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=No)))}function Ei(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Mo={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionrun:Ei("Transition","TransitionRun"),transitionstart:Ei("Transition","TransitionStart"),transitioncancel:Ei("Transition","TransitionCancel"),transitionend:Ei("Transition","TransitionEnd")},Fr={},Mm={};Mn&&(Mm=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function zi(t){if(Fr[t])return Fr[t];if(!Mo[t])return t;var e=Mo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Mm)return Fr[t]=e[n];return t}var Im=zi("animationend"),Dm=zi("animationiteration"),Lm=zi("animationstart"),VT=zi("transitionrun"),zT=zi("transitionstart"),BT=zi("transitioncancel"),Um=zi("transitionend"),km=new Map,Gu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gu.push("scrollEnd");function Qt(t,e){km.set(t,e),Gi(e,[t])}var Sa=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mt=[],Io=0,lf=0;function rr(){for(var t=Io,e=lf=Io=0;e<t;){var n=Mt[e];Mt[e++]=null;var i=Mt[e];Mt[e++]=null;var o=Mt[e];Mt[e++]=null;var l=Mt[e];if(Mt[e++]=null,i!==null&&o!==null){var s=i.pending;s===null?o.next=o:(o.next=s.next,s.next=o),i.pending=o}l!==0&&Om(n,o,l)}}function ur(t,e,n,i){Mt[Io++]=t,Mt[Io++]=e,Mt[Io++]=n,Mt[Io++]=i,lf|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function sf(t,e,n,i){return ur(t,e,n,i),Ta(t)}function Bi(t,e){return ur(t,null,null,e),Ta(t)}function Om(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var o=!1,l=t.return;l!==null;)l.childLanes|=n,i=l.alternate,i!==null&&(i.childLanes|=n),l.tag===22&&(t=l.stateNode,t===null||t._visibility&1||(o=!0)),t=l,l=l.return;return t.tag===3?(l=t.stateNode,o&&e!==null&&(o=31-At(n),t=l.hiddenUpdates,i=t[o],i===null?t[o]=[e]:i.push(e),e.lane=n|536870912),l):null}function Ta(t){if(50<$l)throw $l=0,sc=null,Error(R(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Do={};function qT(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(t,e,n,i){return new qT(t,e,n,i)}function af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bn(t,e){var n=t.alternate;return n===null?(n=St(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Pm(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function ta(t,e,n,i,o,l){var s=0;if(i=t,typeof t=="function")af(t)&&(s=1);else if(typeof t=="string")s=$E(t,n,rn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case wu:return t=St(31,n,e,o),t.elementType=wu,t.lanes=l,t;case _o:return Ri(n.children,o,l,e);case nm:s=8,o|=24;break;case Au:return t=St(12,n,e,o|2),t.elementType=Au,t.lanes=l,t;case _u:return t=St(13,n,e,o),t.elementType=_u,t.lanes=l,t;case xu:return t=St(19,n,e,o),t.elementType=xu,t.lanes=l,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _n:s=10;break e;case im:s=9;break e;case Yc:s=11;break e;case Kc:s=14;break e;case Fn:s=16,i=null;break e}s=29,n=Error(R(130,t===null?"null":typeof t,"")),i=null}return e=St(s,n,e,o),e.elementType=t,e.type=i,e.lanes=l,e}function Ri(t,e,n,i){return t=St(7,t,i,e),t.lanes=n,t}function Jr(t,e,n){return t=St(6,t,null,e),t.lanes=n,t}function Hm(t){var e=St(18,null,null,0);return e.stateNode=t,e}function Yr(t,e,n){return e=St(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Id=new WeakMap;function kt(t,e){if(typeof t=="object"&&t!==null){var n=Id.get(t);return n!==void 0?n:(e={value:t,source:e,stack:fd(e)},Id.set(t,e),e)}return{value:t,source:e,stack:fd(e)}}var Lo=[],Uo=0,Ea=null,ts=0,Dt=[],Lt=0,ci=null,on=1,ln="";function Cn(t,e){Lo[Uo++]=ts,Lo[Uo++]=Ea,Ea=t,ts=e}function Gm(t,e,n){Dt[Lt++]=on,Dt[Lt++]=ln,Dt[Lt++]=ci,ci=t;var i=on;t=ln;var o=32-At(i)-1;i&=~(1<<o),n+=1;var l=32-At(e)+o;if(30<l){var s=o-o%5;l=(i&(1<<s)-1).toString(32),i>>=s,o-=s,on=1<<32-At(e)+o|n<<o|i,ln=l+t}else on=1<<l|n<<o|i,ln=t}function rf(t){t.return!==null&&(Cn(t,1),Gm(t,1,0))}function uf(t){for(;t===Ea;)Ea=Lo[--Uo],Lo[Uo]=null,ts=Lo[--Uo],Lo[Uo]=null;for(;t===ci;)ci=Dt[--Lt],Dt[Lt]=null,ln=Dt[--Lt],Dt[Lt]=null,on=Dt[--Lt],Dt[Lt]=null}function Vm(t,e){Dt[Lt++]=on,Dt[Lt++]=ln,Dt[Lt++]=ci,on=e.id,ln=e.overflow,ci=t}var Je=null,me=null,te=!1,ni=null,Ot=!1,Vu=Error(R(519));function fi(t){var e=Error(R(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ns(kt(e,t)),Vu}function Dd(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Fe]=t,e[ht]=i,n){case"dialog":W("cancel",e),W("close",e);break;case"iframe":case"object":case"embed":W("load",e);break;case"video":case"audio":for(n=0;n<ss.length;n++)W(ss[n],e);break;case"source":W("error",e);break;case"img":case"image":case"link":W("error",e),W("load",e);break;case"details":W("toggle",e);break;case"input":W("invalid",e),mm(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":W("invalid",e);break;case"textarea":W("invalid",e),vm(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||C0(e.textContent,n)?(i.popover!=null&&(W("beforetoggle",e),W("toggle",e)),i.onScroll!=null&&W("scroll",e),i.onScrollEnd!=null&&W("scrollend",e),i.onClick!=null&&(e.onclick=xn),e=!0):e=!1,e||fi(t,!0)}function Ld(t){for(Je=t.return;Je;)switch(Je.tag){case 5:case 31:case 13:Ot=!1;return;case 27:case 3:Ot=!0;return;default:Je=Je.return}}function po(t){if(t!==Je)return!1;if(!te)return Ld(t),te=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||fc(t.type,t.memoizedProps)),n=!n),n&&me&&fi(t),Ld(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));me=Sp(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));me=Sp(t)}else e===27?(e=me,gi(t.type)?(t=gc,gc=null,me=t):me=e):me=Je?Ht(t.stateNode.nextSibling):null;return!0}function Ui(){me=Je=null,te=!1}function Kr(){var t=ni;return t!==null&&(dt===null?dt=t:dt.push.apply(dt,t),ni=null),t}function ns(t){ni===null?ni=[t]:ni.push(t)}var zu=un(null),qi=null,wn=null;function Yn(t,e,n){he(zu,e._currentValue),e._currentValue=n}function Rn(t){t._currentValue=zu.current,Ge(zu)}function Bu(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function qu(t,e,n,i){var o=t.child;for(o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){var s=o.child;l=l.firstContext;e:for(;l!==null;){var a=l;l=o;for(var c=0;c<e.length;c++)if(a.context===e[c]){l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),Bu(l.return,n,t),i||(s=null);break e}l=a.next}}else if(o.tag===18){if(s=o.return,s===null)throw Error(R(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Bu(s,n,t),s=null}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}}function al(t,e,n,i){t=null;for(var o=e,l=!1;o!==null;){if(!l){if(o.flags&524288)l=!0;else if(o.flags&262144)break}if(o.tag===10){var s=o.alternate;if(s===null)throw Error(R(387));if(s=s.memoizedProps,s!==null){var a=o.type;xt(o.pendingProps.value,s.value)||(t!==null?t.push(a):t=[a])}}else if(o===ha.current){if(s=o.alternate,s===null)throw Error(R(387));s.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(t!==null?t.push(rs):t=[rs])}o=o.return}t!==null&&qu(e,t,n,i),e.flags|=262144}function Ca(t){for(t=t.firstContext;t!==null;){if(!xt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ki(t){qi=t,wn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ye(t){return zm(qi,t)}function ks(t,e){return qi===null&&ki(t),zm(t,e)}function zm(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},wn===null){if(t===null)throw Error(R(308));wn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else wn=wn.next=e;return n}var FT=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},JT=ke.unstable_scheduleCallback,YT=ke.unstable_NormalPriority,De={$$typeof:_n,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new FT,data:new Map,refCount:0}}function vs(t){t.refCount--,t.refCount===0&&JT(YT,function(){t.controller.abort()})}var Vl=null,Fu=0,Qo=0,zo=null;function KT(t,e){if(Vl===null){var n=Vl=[];Fu=0,Qo=kf(),zo={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Fu++,e.then(Ud,Ud),e}function Ud(){if(--Fu===0&&Vl!==null){zo!==null&&(zo.status="fulfilled");var t=Vl;Vl=null,Qo=0,zo=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function $T(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var o=0;o<n.length;o++)(0,n[o])(e)},function(o){for(i.status="rejected",i.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),i}var kd=F.S;F.S=function(t,e){t0=Et(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&KT(t,e),kd!==null&&kd(t,e)};var Ni=un(null);function ff(){var t=Ni.current;return t!==null?t:de.pooledCache}function na(t,e){e===null?he(Ni,Ni.current):he(Ni,e.pool)}function Bm(){var t=ff();return t===null?null:{parent:De._currentValue,pool:t}}var rl=Error(R(460)),df=Error(R(474)),cr=Error(R(542)),Aa={then:function(){}};function Od(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qm(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(xn,xn),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Hd(t),t;default:if(typeof e.status=="string")e.then(xn,xn);else{if(t=de,t!==null&&100<t.shellSuspendCounter)throw Error(R(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var o=e;o.status="fulfilled",o.value=i}},function(i){if(e.status==="pending"){var o=e;o.status="rejected",o.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Hd(t),t}throw Mi=e,rl}}function _i(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Mi=n,rl):n}}var Mi=null;function Pd(){if(Mi===null)throw Error(R(459));var t=Mi;return Mi=null,t}function Hd(t){if(t===rl||t===cr)throw Error(R(483))}var Bo=null,is=0;function Os(t){var e=is;return is+=1,Bo===null&&(Bo=[]),qm(Bo,t,e)}function Al(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Ps(t,e){throw e.$$typeof===US?Error(R(525)):(t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Fm(t){function e(y,m){if(t){var T=y.deletions;T===null?(y.deletions=[m],y.flags|=16):T.push(m)}}function n(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function i(y){for(var m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function o(y,m){return y=bn(y,m),y.index=0,y.sibling=null,y}function l(y,m,T){return y.index=T,t?(T=y.alternate,T!==null?(T=T.index,T<m?(y.flags|=67108866,m):T):(y.flags|=67108866,m)):(y.flags|=1048576,m)}function s(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function a(y,m,T,C){return m===null||m.tag!==6?(m=Jr(T,y.mode,C),m.return=y,m):(m=o(m,T),m.return=y,m)}function c(y,m,T,C){var x=T.type;return x===_o?d(y,m,T.props.children,C,T.key):m!==null&&(m.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Fn&&_i(x)===m.type)?(m=o(m,T.props),Al(m,T),m.return=y,m):(m=ta(T.type,T.key,T.props,null,y.mode,C),Al(m,T),m.return=y,m)}function f(y,m,T,C){return m===null||m.tag!==4||m.stateNode.containerInfo!==T.containerInfo||m.stateNode.implementation!==T.implementation?(m=Yr(T,y.mode,C),m.return=y,m):(m=o(m,T.children||[]),m.return=y,m)}function d(y,m,T,C,x){return m===null||m.tag!==7?(m=Ri(T,y.mode,C,x),m.return=y,m):(m=o(m,T),m.return=y,m)}function h(y,m,T){if(typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint")return m=Jr(""+m,y.mode,T),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ns:return T=ta(m.type,m.key,m.props,null,y.mode,T),Al(T,m),T.return=y,T;case Ml:return m=Yr(m,y.mode,T),m.return=y,m;case Fn:return m=_i(m),h(y,m,T)}if(Il(m)||Tl(m))return m=Ri(m,y.mode,T,null),m.return=y,m;if(typeof m.then=="function")return h(y,Os(m),T);if(m.$$typeof===_n)return h(y,ks(y,m),T);Ps(y,m)}return null}function p(y,m,T,C){var x=m!==null?m.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return x!==null?null:a(y,m,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ns:return T.key===x?c(y,m,T,C):null;case Ml:return T.key===x?f(y,m,T,C):null;case Fn:return T=_i(T),p(y,m,T,C)}if(Il(T)||Tl(T))return x!==null?null:d(y,m,T,C,null);if(typeof T.then=="function")return p(y,m,Os(T),C);if(T.$$typeof===_n)return p(y,m,ks(y,T),C);Ps(y,T)}return null}function g(y,m,T,C,x){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return y=y.get(T)||null,a(m,y,""+C,x);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ns:return y=y.get(C.key===null?T:C.key)||null,c(m,y,C,x);case Ml:return y=y.get(C.key===null?T:C.key)||null,f(m,y,C,x);case Fn:return C=_i(C),g(y,m,T,C,x)}if(Il(C)||Tl(C))return y=y.get(T)||null,d(m,y,C,x,null);if(typeof C.then=="function")return g(y,m,T,Os(C),x);if(C.$$typeof===_n)return g(y,m,T,ks(m,C),x);Ps(m,C)}return null}function v(y,m,T,C){for(var x=null,N=null,_=m,I=m=0,b=null;_!==null&&I<T.length;I++){_.index>I?(b=_,_=null):b=_.sibling;var L=p(y,_,T[I],C);if(L===null){_===null&&(_=b);break}t&&_&&L.alternate===null&&e(y,_),m=l(L,m,I),N===null?x=L:N.sibling=L,N=L,_=b}if(I===T.length)return n(y,_),te&&Cn(y,I),x;if(_===null){for(;I<T.length;I++)_=h(y,T[I],C),_!==null&&(m=l(_,m,I),N===null?x=_:N.sibling=_,N=_);return te&&Cn(y,I),x}for(_=i(_);I<T.length;I++)b=g(_,y,I,T[I],C),b!==null&&(t&&b.alternate!==null&&_.delete(b.key===null?I:b.key),m=l(b,m,I),N===null?x=b:N.sibling=b,N=b);return t&&_.forEach(function(B){return e(y,B)}),te&&Cn(y,I),x}function E(y,m,T,C){if(T==null)throw Error(R(151));for(var x=null,N=null,_=m,I=m=0,b=null,L=T.next();_!==null&&!L.done;I++,L=T.next()){_.index>I?(b=_,_=null):b=_.sibling;var B=p(y,_,L.value,C);if(B===null){_===null&&(_=b);break}t&&_&&B.alternate===null&&e(y,_),m=l(B,m,I),N===null?x=B:N.sibling=B,N=B,_=b}if(L.done)return n(y,_),te&&Cn(y,I),x;if(_===null){for(;!L.done;I++,L=T.next())L=h(y,L.value,C),L!==null&&(m=l(L,m,I),N===null?x=L:N.sibling=L,N=L);return te&&Cn(y,I),x}for(_=i(_);!L.done;I++,L=T.next())L=g(_,y,I,L.value,C),L!==null&&(t&&L.alternate!==null&&_.delete(L.key===null?I:L.key),m=l(L,m,I),N===null?x=L:N.sibling=L,N=L);return t&&_.forEach(function(ce){return e(y,ce)}),te&&Cn(y,I),x}function A(y,m,T,C){if(typeof T=="object"&&T!==null&&T.type===_o&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Ns:e:{for(var x=T.key;m!==null;){if(m.key===x){if(x=T.type,x===_o){if(m.tag===7){n(y,m.sibling),C=o(m,T.props.children),C.return=y,y=C;break e}}else if(m.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Fn&&_i(x)===m.type){n(y,m.sibling),C=o(m,T.props),Al(C,T),C.return=y,y=C;break e}n(y,m);break}else e(y,m);m=m.sibling}T.type===_o?(C=Ri(T.props.children,y.mode,C,T.key),C.return=y,y=C):(C=ta(T.type,T.key,T.props,null,y.mode,C),Al(C,T),C.return=y,y=C)}return s(y);case Ml:e:{for(x=T.key;m!==null;){if(m.key===x)if(m.tag===4&&m.stateNode.containerInfo===T.containerInfo&&m.stateNode.implementation===T.implementation){n(y,m.sibling),C=o(m,T.children||[]),C.return=y,y=C;break e}else{n(y,m);break}else e(y,m);m=m.sibling}C=Yr(T,y.mode,C),C.return=y,y=C}return s(y);case Fn:return T=_i(T),A(y,m,T,C)}if(Il(T))return v(y,m,T,C);if(Tl(T)){if(x=Tl(T),typeof x!="function")throw Error(R(150));return T=x.call(T),E(y,m,T,C)}if(typeof T.then=="function")return A(y,m,Os(T),C);if(T.$$typeof===_n)return A(y,m,ks(y,T),C);Ps(y,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,m!==null&&m.tag===6?(n(y,m.sibling),C=o(m,T),C.return=y,y=C):(n(y,m),C=Jr(T,y.mode,C),C.return=y,y=C),s(y)):n(y,m)}return function(y,m,T,C){try{is=0;var x=A(y,m,T,C);return Bo=null,x}catch(_){if(_===rl||_===cr)throw _;var N=St(29,_,null,y.mode);return N.lanes=C,N.return=y,N}finally{}}}var Oi=Fm(!0),Jm=Fm(!1),Jn=!1;function pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ju(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ii(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function oi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,oe&2){var o=i.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),i.pending=e,e=Ta(t),Om(t,null,n),e}return ur(t,i,e,n),Ta(t)}function zl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,um(t,n)}}function $r(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};l===null?o=l=s:l=l.next=s,n=n.next}while(n!==null);l===null?o=l=e:l=l.next=e}else o=l=e;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Yu=!1;function Bl(){if(Yu){var t=zo;if(t!==null)throw t}}function ql(t,e,n,i){Yu=!1;var o=t.updateQueue;Jn=!1;var l=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var c=a,f=c.next;c.next=null,s===null?l=f:s.next=f,s=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=f:a.next=f,d.lastBaseUpdate=c))}if(l!==null){var h=o.baseState;s=0,d=f=c=null,a=l;do{var p=a.lane&-536870913,g=p!==a.lane;if(g?(ee&p)===p:(i&p)===p){p!==0&&p===Qo&&(Yu=!0),d!==null&&(d=d.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var v=t,E=a;p=e;var A=n;switch(E.tag){case 1:if(v=E.payload,typeof v=="function"){h=v.call(A,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=E.payload,p=typeof v=="function"?v.call(A,h,p):v,p==null)break e;h=ve({},h,p);break e;case 2:Jn=!0}}p=a.callback,p!==null&&(t.flags|=64,g&&(t.flags|=8192),g=o.callbacks,g===null?o.callbacks=[p]:g.push(p))}else g={lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(f=d=g,c=h):d=d.next=g,s|=p;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;g=a,a=g.next,g.next=null,o.lastBaseUpdate=g,o.shared.pending=null}}while(!0);d===null&&(c=h),o.baseState=c,o.firstBaseUpdate=f,o.lastBaseUpdate=d,l===null&&(o.shared.lanes=0),pi|=s,t.lanes=s,t.memoizedState=h}}function Ym(t,e){if(typeof t!="function")throw Error(R(191,t));t.call(e)}function Km(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Ym(n[t],e)}var Zo=un(null),_a=un(0);function Gd(t,e){t=Un,he(_a,t),he(Zo,e),Un=t|e.baseLanes}function Ku(){he(_a,Un),he(Zo,Zo.current)}function hf(){Un=_a.current,Ge(Zo),Ge(_a)}var wt=un(null),Pt=null;function Kn(t){var e=t.alternate;he(be,be.current&1),he(wt,t),Pt===null&&(e===null||Zo.current!==null||e.memoizedState!==null)&&(Pt=t)}function $u(t){he(be,be.current),he(wt,t),Pt===null&&(Pt=t)}function $m(t){t.tag===22?(he(be,be.current),he(wt,t),Pt===null&&(Pt=t)):$n()}function $n(){he(be,be.current),he(wt,wt.current)}function vt(t){Ge(wt),Pt===t&&(Pt=null),Ge(be)}var be=un(0);function xa(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||pc(n)||hc(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var In=0,X=null,ue=null,Me=null,wa=!1,qo=!1,Pi=!1,ba=0,os=0,Fo=null,XT=0;function Ae(){throw Error(R(321))}function gf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xt(t[n],e[n]))return!1;return!0}function mf(t,e,n,i,o,l){return In=l,X=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,F.H=t===null||t.memoizedState===null?xy:bf,Pi=!1,l=n(i,o),Pi=!1,qo&&(l=Qm(e,n,i,o)),Xm(t),l}function Xm(t){F.H=ls;var e=ue!==null&&ue.next!==null;if(In=0,Me=ue=X=null,wa=!1,os=0,Fo=null,e)throw Error(R(300));t===null||Le||(t=t.dependencies,t!==null&&Ca(t)&&(Le=!0))}function Qm(t,e,n,i){X=t;var o=0;do{if(qo&&(Fo=null),os=0,qo=!1,25<=o)throw Error(R(301));if(o+=1,Me=ue=null,t.updateQueue!=null){var l=t.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}F.H=wy,l=e(n,i)}while(qo);return l}function QT(){var t=F.H,e=t.useState()[0];return e=typeof e.then=="function"?Ss(e):e,t=t.useState()[0],(ue!==null?ue.memoizedState:null)!==t&&(X.flags|=1024),e}function yf(){var t=ba!==0;return ba=0,t}function vf(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Sf(t){if(wa){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}wa=!1}In=0,Me=ue=X=null,qo=!1,os=ba=0,Fo=null}function it(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?X.memoizedState=Me=t:Me=Me.next=t,Me}function Re(){if(ue===null){var t=X.alternate;t=t!==null?t.memoizedState:null}else t=ue.next;var e=Me===null?X.memoizedState:Me.next;if(e!==null)Me=e,ue=t;else{if(t===null)throw X.alternate===null?Error(R(467)):Error(R(310));ue=t,t={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},Me===null?X.memoizedState=Me=t:Me=Me.next=t}return Me}function fr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ss(t){var e=os;return os+=1,Fo===null&&(Fo=[]),t=qm(Fo,t,e),e=X,(Me===null?e.memoizedState:Me.next)===null&&(e=e.alternate,F.H=e===null||e.memoizedState===null?xy:bf),t}function dr(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ss(t);if(t.$$typeof===_n)return Ye(t)}throw Error(R(438,String(t)))}function Tf(t){var e=null,n=X.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=X.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(o){return o.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=fr(),X.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=kS;return e.index++,n}function Dn(t,e){return typeof e=="function"?e(t):e}function ia(t){var e=Re();return Ef(e,ue,t)}function Ef(t,e,n){var i=t.queue;if(i===null)throw Error(R(311));i.lastRenderedReducer=n;var o=t.baseQueue,l=i.pending;if(l!==null){if(o!==null){var s=o.next;o.next=l.next,l.next=s}e.baseQueue=o=l,i.pending=null}if(l=t.baseState,o===null)t.memoizedState=l;else{e=o.next;var a=s=null,c=null,f=e,d=!1;do{var h=f.lane&-536870913;if(h!==f.lane?(ee&h)===h:(In&h)===h){var p=f.revertLane;if(p===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),h===Qo&&(d=!0);else if((In&p)===p){f=f.next,p===Qo&&(d=!0);continue}else h={lane:0,revertLane:f.revertLane,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(a=c=h,s=l):c=c.next=h,X.lanes|=p,pi|=p;h=f.action,Pi&&n(l,h),l=f.hasEagerState?f.eagerState:n(l,h)}else p={lane:h,revertLane:f.revertLane,gesture:f.gesture,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(a=c=p,s=l):c=c.next=p,X.lanes|=h,pi|=h;f=f.next}while(f!==null&&f!==e);if(c===null?s=l:c.next=a,!xt(l,t.memoizedState)&&(Le=!0,d&&(n=zo,n!==null)))throw n;t.memoizedState=l,t.baseState=s,t.baseQueue=c,i.lastRenderedState=l}return o===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Xr(t){var e=Re(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var i=n.dispatch,o=n.pending,l=e.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do l=t(l,s.action),s=s.next;while(s!==o);xt(l,e.memoizedState)||(Le=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),n.lastRenderedState=l}return[l,i]}function Zm(t,e,n){var i=X,o=Re(),l=te;if(l){if(n===void 0)throw Error(R(407));n=n()}else n=e();var s=!xt((ue||o).memoizedState,n);if(s&&(o.memoizedState=n,Le=!0),o=o.queue,Cf(ey.bind(null,i,o,t),[t]),o.getSnapshot!==e||s||Me!==null&&Me.memoizedState.tag&1){if(i.flags|=2048,Wo(9,{destroy:void 0},jm.bind(null,i,o,n,e),null),de===null)throw Error(R(349));l||In&127||Wm(i,e,n)}return n}function Wm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=X.updateQueue,e===null?(e=fr(),X.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function jm(t,e,n,i){e.value=n,e.getSnapshot=i,ty(e)&&ny(t)}function ey(t,e,n){return n(function(){ty(e)&&ny(t)})}function ty(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xt(t,n)}catch{return!0}}function ny(t){var e=Bi(t,2);e!==null&&pt(e,t,2)}function Xu(t){var e=it();if(typeof t=="function"){var n=t;if(t=n(),Pi){Qn(!0);try{n()}finally{Qn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:t},e}function iy(t,e,n,i){return t.baseState=n,Ef(t,ue,typeof i=="function"?i:Dn)}function ZT(t,e,n,i,o){if(hr(t))throw Error(R(485));if(t=e.action,t!==null){var l={payload:o,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){l.listeners.push(s)}};F.T!==null?n(!0):l.isTransition=!1,i(l),n=e.pending,n===null?(l.next=e.pending=l,oy(e,l)):(l.next=n.next,e.pending=n.next=l)}}function oy(t,e){var n=e.action,i=e.payload,o=t.state;if(e.isTransition){var l=F.T,s={};F.T=s;try{var a=n(o,i),c=F.S;c!==null&&c(s,a),Vd(t,e,a)}catch(f){Qu(t,e,f)}finally{l!==null&&s.types!==null&&(l.types=s.types),F.T=l}}else try{l=n(o,i),Vd(t,e,l)}catch(f){Qu(t,e,f)}}function Vd(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){zd(t,e,i)},function(i){return Qu(t,e,i)}):zd(t,e,n)}function zd(t,e,n){e.status="fulfilled",e.value=n,ly(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,oy(t,n)))}function Qu(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,ly(e),e=e.next;while(e!==i)}t.action=null}function ly(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function sy(t,e){return e}function Bd(t,e){if(te){var n=de.formState;if(n!==null){e:{var i=X;if(te){if(me){t:{for(var o=me,l=Ot;o.nodeType!==8;){if(!l){o=null;break t}if(o=Ht(o.nextSibling),o===null){o=null;break t}}l=o.data,o=l==="F!"||l==="F"?o:null}if(o){me=Ht(o.nextSibling),i=o.data==="F!";break e}}fi(i)}i=!1}i&&(e=n[0])}}return n=it(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sy,lastRenderedState:e},n.queue=i,n=Cy.bind(null,X,i),i.dispatch=n,i=Xu(!1),l=wf.bind(null,X,!1,i.queue),i=it(),o={state:e,dispatch:null,action:t,pending:null},i.queue=o,n=ZT.bind(null,X,o,l,n),o.dispatch=n,i.memoizedState=t,[e,n,!1]}function qd(t){var e=Re();return ay(e,ue,t)}function ay(t,e,n){if(e=Ef(t,e,sy)[0],t=ia(Dn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Ss(e)}catch(s){throw s===rl?cr:s}else i=e;e=Re();var o=e.queue,l=o.dispatch;return n!==e.memoizedState&&(X.flags|=2048,Wo(9,{destroy:void 0},WT.bind(null,o,n),null)),[i,l,t]}function WT(t,e){t.action=e}function Fd(t){var e=Re(),n=ue;if(n!==null)return ay(e,n,t);Re(),e=e.memoizedState,n=Re();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function Wo(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=X.updateQueue,e===null&&(e=fr(),X.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function ry(){return Re().memoizedState}function oa(t,e,n,i){var o=it();X.flags|=t,o.memoizedState=Wo(1|e,{destroy:void 0},n,i===void 0?null:i)}function pr(t,e,n,i){var o=Re();i=i===void 0?null:i;var l=o.memoizedState.inst;ue!==null&&i!==null&&gf(i,ue.memoizedState.deps)?o.memoizedState=Wo(e,l,n,i):(X.flags|=t,o.memoizedState=Wo(1|e,l,n,i))}function Jd(t,e){oa(8390656,8,t,e)}function Cf(t,e){pr(2048,8,t,e)}function jT(t){X.flags|=4;var e=X.updateQueue;if(e===null)e=fr(),X.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function uy(t){var e=Re().memoizedState;return jT({ref:e,nextImpl:t}),function(){if(oe&2)throw Error(R(440));return e.impl.apply(void 0,arguments)}}function cy(t,e){return pr(4,2,t,e)}function fy(t,e){return pr(4,4,t,e)}function dy(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function py(t,e,n){n=n!=null?n.concat([t]):null,pr(4,4,dy.bind(null,e,t),n)}function Af(){}function hy(t,e){var n=Re();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&gf(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function gy(t,e){var n=Re();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&gf(e,i[1]))return i[0];if(i=t(),Pi){Qn(!0);try{t()}finally{Qn(!1)}}return n.memoizedState=[i,e],i}function _f(t,e,n){return n===void 0||In&1073741824&&!(ee&261930)?t.memoizedState=e:(t.memoizedState=n,t=i0(),X.lanes|=t,pi|=t,n)}function my(t,e,n,i){return xt(n,e)?n:Zo.current!==null?(t=_f(t,n,i),xt(t,e)||(Le=!0),t):!(In&42)||In&1073741824&&!(ee&261930)?(Le=!0,t.memoizedState=n):(t=i0(),X.lanes|=t,pi|=t,e)}function yy(t,e,n,i,o){var l=le.p;le.p=l!==0&&8>l?l:8;var s=F.T,a={};F.T=a,wf(t,!1,e,n);try{var c=o(),f=F.S;if(f!==null&&f(a,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=$T(c,i);Fl(t,e,d,_t(t))}else Fl(t,e,i,_t(t))}catch(h){Fl(t,e,{then:function(){},status:"rejected",reason:h},_t())}finally{le.p=l,s!==null&&a.types!==null&&(s.types=a.types),F.T=s}}function eE(){}function Zu(t,e,n,i){if(t.tag!==5)throw Error(R(476));var o=vy(t).queue;yy(t,o,e,bi,n===null?eE:function(){return Sy(t),n(i)})}function vy(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:bi,baseState:bi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:bi},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Sy(t){var e=vy(t);e.next===null&&(e=t.alternate.memoizedState),Fl(t,e.next.queue,{},_t())}function xf(){return Ye(rs)}function Ty(){return Re().memoizedState}function Ey(){return Re().memoizedState}function tE(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=_t();t=ii(n);var i=oi(e,t,n);i!==null&&(pt(i,e,n),zl(i,e,n)),e={cache:cf()},t.payload=e;return}e=e.return}}function nE(t,e,n){var i=_t();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},hr(t)?Ay(e,n):(n=sf(t,e,n,i),n!==null&&(pt(n,t,i),_y(n,e,i)))}function Cy(t,e,n){var i=_t();Fl(t,e,n,i)}function Fl(t,e,n,i){var o={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(hr(t))Ay(e,o);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=e.lastRenderedReducer,l!==null))try{var s=e.lastRenderedState,a=l(s,n);if(o.hasEagerState=!0,o.eagerState=a,xt(a,s))return ur(t,e,o,0),de===null&&rr(),!1}catch{}finally{}if(n=sf(t,e,o,i),n!==null)return pt(n,t,i),_y(n,e,i),!0}return!1}function wf(t,e,n,i){if(i={lane:2,revertLane:kf(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},hr(t)){if(e)throw Error(R(479))}else e=sf(t,n,i,2),e!==null&&pt(e,t,2)}function hr(t){var e=t.alternate;return t===X||e!==null&&e===X}function Ay(t,e){qo=wa=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _y(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,um(t,n)}}var ls={readContext:Ye,use:dr,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useLayoutEffect:Ae,useInsertionEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useSyncExternalStore:Ae,useId:Ae,useHostTransitionStatus:Ae,useFormState:Ae,useActionState:Ae,useOptimistic:Ae,useMemoCache:Ae,useCacheRefresh:Ae};ls.useEffectEvent=Ae;var xy={readContext:Ye,use:dr,useCallback:function(t,e){return it().memoizedState=[t,e===void 0?null:e],t},useContext:Ye,useEffect:Jd,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,oa(4194308,4,dy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return oa(4194308,4,t,e)},useInsertionEffect:function(t,e){oa(4,2,t,e)},useMemo:function(t,e){var n=it();e=e===void 0?null:e;var i=t();if(Pi){Qn(!0);try{t()}finally{Qn(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=it();if(n!==void 0){var o=n(e);if(Pi){Qn(!0);try{n(e)}finally{Qn(!1)}}}else o=e;return i.memoizedState=i.baseState=o,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},i.queue=t,t=t.dispatch=nE.bind(null,X,t),[i.memoizedState,t]},useRef:function(t){var e=it();return t={current:t},e.memoizedState=t},useState:function(t){t=Xu(t);var e=t.queue,n=Cy.bind(null,X,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Af,useDeferredValue:function(t,e){var n=it();return _f(n,t,e)},useTransition:function(){var t=Xu(!1);return t=yy.bind(null,X,t.queue,!0,!1),it().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=X,o=it();if(te){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),de===null)throw Error(R(349));ee&127||Wm(i,e,n)}o.memoizedState=n;var l={value:n,getSnapshot:e};return o.queue=l,Jd(ey.bind(null,i,l,t),[t]),i.flags|=2048,Wo(9,{destroy:void 0},jm.bind(null,i,l,n,e),null),n},useId:function(){var t=it(),e=de.identifierPrefix;if(te){var n=ln,i=on;n=(i&~(1<<32-At(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=ba++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=XT++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:xf,useFormState:Bd,useActionState:Bd,useOptimistic:function(t){var e=it();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=wf.bind(null,X,!0,n),n.dispatch=e,[t,e]},useMemoCache:Tf,useCacheRefresh:function(){return it().memoizedState=tE.bind(null,X)},useEffectEvent:function(t){var e=it(),n={impl:t};return e.memoizedState=n,function(){if(oe&2)throw Error(R(440));return n.impl.apply(void 0,arguments)}}},bf={readContext:Ye,use:dr,useCallback:hy,useContext:Ye,useEffect:Cf,useImperativeHandle:py,useInsertionEffect:cy,useLayoutEffect:fy,useMemo:gy,useReducer:ia,useRef:ry,useState:function(){return ia(Dn)},useDebugValue:Af,useDeferredValue:function(t,e){var n=Re();return my(n,ue.memoizedState,t,e)},useTransition:function(){var t=ia(Dn)[0],e=Re().memoizedState;return[typeof t=="boolean"?t:Ss(t),e]},useSyncExternalStore:Zm,useId:Ty,useHostTransitionStatus:xf,useFormState:qd,useActionState:qd,useOptimistic:function(t,e){var n=Re();return iy(n,ue,t,e)},useMemoCache:Tf,useCacheRefresh:Ey};bf.useEffectEvent=uy;var wy={readContext:Ye,use:dr,useCallback:hy,useContext:Ye,useEffect:Cf,useImperativeHandle:py,useInsertionEffect:cy,useLayoutEffect:fy,useMemo:gy,useReducer:Xr,useRef:ry,useState:function(){return Xr(Dn)},useDebugValue:Af,useDeferredValue:function(t,e){var n=Re();return ue===null?_f(n,t,e):my(n,ue.memoizedState,t,e)},useTransition:function(){var t=Xr(Dn)[0],e=Re().memoizedState;return[typeof t=="boolean"?t:Ss(t),e]},useSyncExternalStore:Zm,useId:Ty,useHostTransitionStatus:xf,useFormState:Fd,useActionState:Fd,useOptimistic:function(t,e){var n=Re();return ue!==null?iy(n,ue,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Tf,useCacheRefresh:Ey};wy.useEffectEvent=uy;function Qr(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wu={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=_t(),o=ii(i);o.payload=e,n!=null&&(o.callback=n),e=oi(t,o,i),e!==null&&(pt(e,t,i),zl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=_t(),o=ii(i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=oi(t,o,i),e!==null&&(pt(e,t,i),zl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_t(),i=ii(n);i.tag=2,e!=null&&(i.callback=e),e=oi(t,i,n),e!==null&&(pt(e,t,n),zl(e,t,n))}};function Yd(t,e,n,i,o,l,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,l,s):e.prototype&&e.prototype.isPureReactComponent?!es(n,i)||!es(o,l):!0}function Kd(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Wu.enqueueReplaceState(e,e.state,null)}function Hi(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=ve({},n));for(var o in t)n[o]===void 0&&(n[o]=t[o])}return n}function by(t){Sa(t)}function Ry(t){console.error(t)}function Ny(t){Sa(t)}function Ra(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function $d(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function ju(t,e,n){return n=ii(n),n.tag=3,n.payload={element:null},n.callback=function(){Ra(t,e)},n}function My(t){return t=ii(t),t.tag=3,t}function Iy(t,e,n,i){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var l=i.value;t.payload=function(){return o(l)},t.callback=function(){$d(e,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){$d(e,n,i),typeof o!="function"&&(li===null?li=new Set([this]):li.add(this));var a=i.stack;this.componentDidCatch(i.value,{componentStack:a!==null?a:""})})}function iE(t,e,n,i,o){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&al(e,n,o,!0),n=wt.current,n!==null){switch(n.tag){case 31:case 13:return Pt===null?La():n.alternate===null&&_e===0&&(_e=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===Aa?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),au(t,i,o)),!1;case 22:return n.flags|=65536,i===Aa?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),au(t,i,o)),!1}throw Error(R(435,n.tag))}return au(t,i,o),La(),!1}if(te)return e=wt.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=o,i!==Vu&&(t=Error(R(422),{cause:i}),ns(kt(t,n)))):(i!==Vu&&(e=Error(R(423),{cause:i}),ns(kt(e,n))),t=t.current.alternate,t.flags|=65536,o&=-o,t.lanes|=o,i=kt(i,n),o=ju(t.stateNode,i,o),$r(t,o),_e!==4&&(_e=2)),!1;var l=Error(R(520),{cause:i});if(l=kt(l,n),Kl===null?Kl=[l]:Kl.push(l),_e!==4&&(_e=2),e===null)return!0;i=kt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=o&-o,n.lanes|=t,t=ju(n.stateNode,i,t),$r(n,t),!1;case 1:if(e=n.type,l=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(li===null||!li.has(l))))return n.flags|=65536,o&=-o,n.lanes|=o,o=My(o),Iy(o,t,n,i),$r(n,o),!1}n=n.return}while(n!==null);return!1}var Rf=Error(R(461)),Le=!1;function qe(t,e,n,i){e.child=t===null?Jm(e,null,n,i):Oi(e,t.child,n,i)}function Xd(t,e,n,i,o){n=n.render;var l=e.ref;if("ref"in i){var s={};for(var a in i)a!=="ref"&&(s[a]=i[a])}else s=i;return ki(e),i=mf(t,e,n,s,l,o),a=yf(),t!==null&&!Le?(vf(t,e,o),Ln(t,e,o)):(te&&a&&rf(e),e.flags|=1,qe(t,e,i,o),e.child)}function Qd(t,e,n,i,o){if(t===null){var l=n.type;return typeof l=="function"&&!af(l)&&l.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=l,Dy(t,e,l,i,o)):(t=ta(n.type,null,i,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(l=t.child,!Nf(t,o)){var s=l.memoizedProps;if(n=n.compare,n=n!==null?n:es,n(s,i)&&t.ref===e.ref)return Ln(t,e,o)}return e.flags|=1,t=bn(l,i),t.ref=e.ref,t.return=e,e.child=t}function Dy(t,e,n,i,o){if(t!==null){var l=t.memoizedProps;if(es(l,i)&&t.ref===e.ref)if(Le=!1,e.pendingProps=i=l,Nf(t,o))t.flags&131072&&(Le=!0);else return e.lanes=t.lanes,Ln(t,e,o)}return ec(t,e,n,i,o)}function Ly(t,e,n,i){var o=i.children,l=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(l=l!==null?l.baseLanes|n:n,t!==null){for(i=e.child=t.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~l}else i=0,e.child=null;return Zd(t,e,l,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&na(e,l!==null?l.cachePool:null),l!==null?Gd(e,l):Ku(),$m(e);else return i=e.lanes=536870912,Zd(t,e,l!==null?l.baseLanes|n:n,n,i)}else l!==null?(na(e,l.cachePool),Gd(e,l),$n(),e.memoizedState=null):(t!==null&&na(e,null),Ku(),$n());return qe(t,e,o,n),e.child}function Ll(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Zd(t,e,n,i,o){var l=ff();return l=l===null?null:{parent:De._currentValue,pool:l},e.memoizedState={baseLanes:n,cachePool:l},t!==null&&na(e,null),Ku(),$m(e),t!==null&&al(t,e,i,!0),e.childLanes=o,null}function la(t,e){return e=Na({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Wd(t,e,n){return Oi(e,t.child,null,n),t=la(e,e.pendingProps),t.flags|=2,vt(e),e.memoizedState=null,t}function oE(t,e,n){var i=e.pendingProps,o=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(te){if(i.mode==="hidden")return t=la(e,i),e.lanes=536870912,Ll(null,t);if($u(e),(t=me)?(t=x0(t,Ot),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ci!==null?{id:on,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},n=Hm(t),n.return=e,e.child=n,Je=e,me=null)):t=null,t===null)throw fi(e);return e.lanes=536870912,null}return la(e,i)}var l=t.memoizedState;if(l!==null){var s=l.dehydrated;if($u(e),o)if(e.flags&256)e.flags&=-257,e=Wd(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(R(558));else if(Le||al(t,e,n,!1),o=(n&t.childLanes)!==0,Le||o){if(i=de,i!==null&&(s=cm(i,n),s!==0&&s!==l.retryLane))throw l.retryLane=s,Bi(t,s),pt(i,t,s),Rf;La(),e=Wd(t,e,n)}else t=l.treeContext,me=Ht(s.nextSibling),Je=e,te=!0,ni=null,Ot=!1,t!==null&&Vm(e,t),e=la(e,i),e.flags|=4096;return e}return t=bn(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function sa(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(R(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function ec(t,e,n,i,o){return ki(e),n=mf(t,e,n,i,void 0,o),i=yf(),t!==null&&!Le?(vf(t,e,o),Ln(t,e,o)):(te&&i&&rf(e),e.flags|=1,qe(t,e,n,o),e.child)}function jd(t,e,n,i,o,l){return ki(e),e.updateQueue=null,n=Qm(e,i,n,o),Xm(t),i=yf(),t!==null&&!Le?(vf(t,e,l),Ln(t,e,l)):(te&&i&&rf(e),e.flags|=1,qe(t,e,n,l),e.child)}function ep(t,e,n,i,o){if(ki(e),e.stateNode===null){var l=Do,s=n.contextType;typeof s=="object"&&s!==null&&(l=Ye(s)),l=new n(i,l),e.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Wu,e.stateNode=l,l._reactInternals=e,l=e.stateNode,l.props=i,l.state=e.memoizedState,l.refs={},pf(e),s=n.contextType,l.context=typeof s=="object"&&s!==null?Ye(s):Do,l.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Qr(e,n,s,i),l.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(s=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),s!==l.state&&Wu.enqueueReplaceState(l,l.state,null),ql(e,i,l,o),Bl(),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){l=e.stateNode;var a=e.memoizedProps,c=Hi(n,a);l.props=c;var f=l.context,d=n.contextType;s=Do,typeof d=="object"&&d!==null&&(s=Ye(d));var h=n.getDerivedStateFromProps;d=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function",a=e.pendingProps!==a,d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a||f!==s)&&Kd(e,l,i,s),Jn=!1;var p=e.memoizedState;l.state=p,ql(e,i,l,o),Bl(),f=e.memoizedState,a||p!==f||Jn?(typeof h=="function"&&(Qr(e,n,h,i),f=e.memoizedState),(c=Jn||Yd(e,n,c,i,p,f,s))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=f),l.props=i,l.state=f,l.context=s,i=c):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{l=e.stateNode,Ju(t,e),s=e.memoizedProps,d=Hi(n,s),l.props=d,h=e.pendingProps,p=l.context,f=n.contextType,c=Do,typeof f=="object"&&f!==null&&(c=Ye(f)),a=n.getDerivedStateFromProps,(f=typeof a=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==h||p!==c)&&Kd(e,l,i,c),Jn=!1,p=e.memoizedState,l.state=p,ql(e,i,l,o),Bl();var g=e.memoizedState;s!==h||p!==g||Jn||t!==null&&t.dependencies!==null&&Ca(t.dependencies)?(typeof a=="function"&&(Qr(e,n,a,i),g=e.memoizedState),(d=Jn||Yd(e,n,d,i,p,g,c)||t!==null&&t.dependencies!==null&&Ca(t.dependencies))?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,g,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,g,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),l.props=i,l.state=g,l.context=c,i=d):(typeof l.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return l=i,sa(t,e),i=(e.flags&128)!==0,l||i?(l=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:l.render(),e.flags|=1,t!==null&&i?(e.child=Oi(e,t.child,null,o),e.child=Oi(e,null,n,o)):qe(t,e,n,o),e.memoizedState=l.state,t=e.child):t=Ln(t,e,o),t}function tp(t,e,n,i){return Ui(),e.flags|=256,qe(t,e,n,i),e.child}var Zr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wr(t){return{baseLanes:t,cachePool:Bm()}}function jr(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Tt),t}function Uy(t,e,n){var i=e.pendingProps,o=!1,l=(e.flags&128)!==0,s;if((s=l)||(s=t!==null&&t.memoizedState===null?!1:(be.current&2)!==0),s&&(o=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(te){if(o?Kn(e):$n(),(t=me)?(t=x0(t,Ot),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ci!==null?{id:on,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},n=Hm(t),n.return=e,e.child=n,Je=e,me=null)):t=null,t===null)throw fi(e);return hc(t)?e.lanes=32:e.lanes=536870912,null}var a=i.children;return i=i.fallback,o?($n(),o=e.mode,a=Na({mode:"hidden",children:a},o),i=Ri(i,o,n,null),a.return=e,i.return=e,a.sibling=i,e.child=a,i=e.child,i.memoizedState=Wr(n),i.childLanes=jr(t,s,n),e.memoizedState=Zr,Ll(null,i)):(Kn(e),tc(e,a))}var c=t.memoizedState;if(c!==null&&(a=c.dehydrated,a!==null)){if(l)e.flags&256?(Kn(e),e.flags&=-257,e=eu(t,e,n)):e.memoizedState!==null?($n(),e.child=t.child,e.flags|=128,e=null):($n(),a=i.fallback,o=e.mode,i=Na({mode:"visible",children:i.children},o),a=Ri(a,o,n,null),a.flags|=2,i.return=e,a.return=e,i.sibling=a,e.child=i,Oi(e,t.child,null,n),i=e.child,i.memoizedState=Wr(n),i.childLanes=jr(t,s,n),e.memoizedState=Zr,e=Ll(null,i));else if(Kn(e),hc(a)){if(s=a.nextSibling&&a.nextSibling.dataset,s)var f=s.dgst;s=f,i=Error(R(419)),i.stack="",i.digest=s,ns({value:i,source:null,stack:null}),e=eu(t,e,n)}else if(Le||al(t,e,n,!1),s=(n&t.childLanes)!==0,Le||s){if(s=de,s!==null&&(i=cm(s,n),i!==0&&i!==c.retryLane))throw c.retryLane=i,Bi(t,i),pt(s,t,i),Rf;pc(a)||La(),e=eu(t,e,n)}else pc(a)?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,me=Ht(a.nextSibling),Je=e,te=!0,ni=null,Ot=!1,t!==null&&Vm(e,t),e=tc(e,i.children),e.flags|=4096);return e}return o?($n(),a=i.fallback,o=e.mode,c=t.child,f=c.sibling,i=bn(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,f!==null?a=bn(f,a):(a=Ri(a,o,n,null),a.flags|=2),a.return=e,i.return=e,i.sibling=a,e.child=i,Ll(null,i),i=e.child,a=t.child.memoizedState,a===null?a=Wr(n):(o=a.cachePool,o!==null?(c=De._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=Bm(),a={baseLanes:a.baseLanes|n,cachePool:o}),i.memoizedState=a,i.childLanes=jr(t,s,n),e.memoizedState=Zr,Ll(t.child,i)):(Kn(e),n=t.child,t=n.sibling,n=bn(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function tc(t,e){return e=Na({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Na(t,e){return t=St(22,t,null,e),t.lanes=0,t}function eu(t,e,n){return Oi(e,t.child,null,n),t=tc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function np(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Bu(t.return,e,n)}function tu(t,e,n,i,o,l){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o,treeForkCount:l}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=o,s.treeForkCount=l)}function ky(t,e,n){var i=e.pendingProps,o=i.revealOrder,l=i.tail;i=i.children;var s=be.current,a=(s&2)!==0;if(a?(s=s&1|2,e.flags|=128):s&=1,he(be,s),qe(t,e,i,n),i=te?ts:0,!a&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&np(t,n,e);else if(t.tag===19)np(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&xa(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),tu(e,!1,o,n,l,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&xa(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}tu(e,!0,n,null,l,i);break;case"together":tu(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function Ln(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pi|=e.lanes,!(n&e.childLanes))if(t!==null){if(al(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=bn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Nf(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Ca(t)))}function lE(t,e,n){switch(e.tag){case 3:ga(e,e.stateNode.containerInfo),Yn(e,De,t.memoizedState.cache),Ui();break;case 27:case 5:Nu(e);break;case 4:ga(e,e.stateNode.containerInfo);break;case 10:Yn(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,$u(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Kn(e),e.flags|=128,null):n&e.child.childLanes?Uy(t,e,n):(Kn(e),t=Ln(t,e,n),t!==null?t.sibling:null);Kn(e);break;case 19:var o=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(al(t,e,n,!1),i=(n&e.childLanes)!==0),o){if(i)return ky(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),he(be,be.current),i)break;return null;case 22:return e.lanes=0,Ly(t,e,n,e.pendingProps);case 24:Yn(e,De,t.memoizedState.cache)}return Ln(t,e,n)}function Oy(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Le=!0;else{if(!Nf(t,n)&&!(e.flags&128))return Le=!1,lE(t,e,n);Le=!!(t.flags&131072)}else Le=!1,te&&e.flags&1048576&&Gm(e,ts,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=_i(e.elementType),e.type=t,typeof t=="function")af(t)?(i=Hi(t,i),e.tag=1,e=ep(null,e,t,i,n)):(e.tag=0,e=ec(null,e,t,i,n));else{if(t!=null){var o=t.$$typeof;if(o===Yc){e.tag=11,e=Xd(null,e,t,i,n);break e}else if(o===Kc){e.tag=14,e=Qd(null,e,t,i,n);break e}}throw e=bu(t)||t,Error(R(306,e,""))}}return e;case 0:return ec(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,o=Hi(i,e.pendingProps),ep(t,e,i,o,n);case 3:e:{if(ga(e,e.stateNode.containerInfo),t===null)throw Error(R(387));i=e.pendingProps;var l=e.memoizedState;o=l.element,Ju(t,e),ql(e,i,null,n);var s=e.memoizedState;if(i=s.cache,Yn(e,De,i),i!==l.cache&&qu(e,[De],n,!0),Bl(),i=s.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=l,e.memoizedState=l,e.flags&256){e=tp(t,e,i,n);break e}else if(i!==o){o=kt(Error(R(424)),e),ns(o),e=tp(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(me=Ht(t.firstChild),Je=e,te=!0,ni=null,Ot=!0,n=Jm(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ui(),i===o){e=Ln(t,e,n);break e}qe(t,e,i,n)}e=e.child}return e;case 26:return sa(t,e),t===null?(n=Cp(e.type,null,e.pendingProps,null))?e.memoizedState=n:te||(n=e.type,t=e.pendingProps,i=Pa(ti.current).createElement(n),i[Fe]=e,i[ht]=t,Ke(i,n,t),He(i),e.stateNode=i):e.memoizedState=Cp(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Nu(e),t===null&&te&&(i=e.stateNode=w0(e.type,e.pendingProps,ti.current),Je=e,Ot=!0,o=me,gi(e.type)?(gc=o,me=Ht(i.firstChild)):me=o),qe(t,e,e.pendingProps.children,n),sa(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&te&&((o=i=me)&&(i=kE(i,e.type,e.pendingProps,Ot),i!==null?(e.stateNode=i,Je=e,me=Ht(i.firstChild),Ot=!1,o=!0):o=!1),o||fi(e)),Nu(e),o=e.type,l=e.pendingProps,s=t!==null?t.memoizedProps:null,i=l.children,fc(o,l)?i=null:s!==null&&fc(o,s)&&(e.flags|=32),e.memoizedState!==null&&(o=mf(t,e,QT,null,null,n),rs._currentValue=o),sa(t,e),qe(t,e,i,n),e.child;case 6:return t===null&&te&&((t=n=me)&&(n=OE(n,e.pendingProps,Ot),n!==null?(e.stateNode=n,Je=e,me=null,t=!0):t=!1),t||fi(e)),null;case 13:return Uy(t,e,n);case 4:return ga(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Oi(e,null,i,n):qe(t,e,i,n),e.child;case 11:return Xd(t,e,e.type,e.pendingProps,n);case 7:return qe(t,e,e.pendingProps,n),e.child;case 8:return qe(t,e,e.pendingProps.children,n),e.child;case 12:return qe(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,Yn(e,e.type,i.value),qe(t,e,i.children,n),e.child;case 9:return o=e.type._context,i=e.pendingProps.children,ki(e),o=Ye(o),i=i(o),e.flags|=1,qe(t,e,i,n),e.child;case 14:return Qd(t,e,e.type,e.pendingProps,n);case 15:return Dy(t,e,e.type,e.pendingProps,n);case 19:return ky(t,e,n);case 31:return oE(t,e,n);case 22:return Ly(t,e,n,e.pendingProps);case 24:return ki(e),i=Ye(De),t===null?(o=ff(),o===null&&(o=de,l=cf(),o.pooledCache=l,l.refCount++,l!==null&&(o.pooledCacheLanes|=n),o=l),e.memoizedState={parent:i,cache:o},pf(e),Yn(e,De,o)):(t.lanes&n&&(Ju(t,e),ql(e,null,null,n),Bl()),o=t.memoizedState,l=e.memoizedState,o.parent!==i?(o={parent:i,cache:i},e.memoizedState=o,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=o),Yn(e,De,i)):(i=l.cache,Yn(e,De,i),i!==o.cache&&qu(e,[De],n,!0))),qe(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(R(156,e.tag))}function vn(t){t.flags|=4}function nu(t,e,n,i,o){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(o&335544128)===o)if(t.stateNode.complete)t.flags|=8192;else if(s0())t.flags|=8192;else throw Mi=Aa,df}else t.flags&=-16777217}function ip(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!N0(e))if(s0())t.flags|=8192;else throw Mi=Aa,df}function Hs(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?am():536870912,t.lanes|=e,jo|=e)}function _l(t,e){if(!te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function ge(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function sE(t,e,n){var i=e.pendingProps;switch(uf(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(e),null;case 1:return ge(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Rn(De),Ko(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(po(e)?vn(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kr())),ge(e),null;case 26:var o=e.type,l=e.memoizedState;return t===null?(vn(e),l!==null?(ge(e),ip(e,l)):(ge(e),nu(e,o,null,i,n))):l?l!==t.memoizedState?(vn(e),ge(e),ip(e,l)):(ge(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&vn(e),ge(e),nu(e,o,t,i,n)),null;case 27:if(ma(e),n=ti.current,o=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&vn(e);else{if(!i){if(e.stateNode===null)throw Error(R(166));return ge(e),null}t=rn.current,po(e)?Dd(e):(t=w0(o,i,n),e.stateNode=t,vn(e))}return ge(e),null;case 5:if(ma(e),o=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&vn(e);else{if(!i){if(e.stateNode===null)throw Error(R(166));return ge(e),null}if(l=rn.current,po(e))Dd(e);else{var s=Pa(ti.current);switch(l){case 1:l=s.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:l=s.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":l=s.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":l=s.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":l=s.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?l.multiple=!0:i.size&&(l.size=i.size);break;default:l=typeof i.is=="string"?s.createElement(o,{is:i.is}):s.createElement(o)}}l[Fe]=e,l[ht]=i;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)l.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=l;e:switch(Ke(l,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&vn(e)}}return ge(e),nu(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&vn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(R(166));if(t=ti.current,po(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,o=Je,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}t[Fe]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||C0(t.nodeValue,n)),t||fi(e,!0)}else t=Pa(t).createTextNode(i),t[Fe]=e,e.stateNode=t}return ge(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=po(e),n!==null){if(t===null){if(!i)throw Error(R(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(557));t[Fe]=e}else Ui(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ge(e),t=!1}else n=Kr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(vt(e),e):(vt(e),null);if(e.flags&128)throw Error(R(558))}return ge(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(o=po(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(R(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(R(317));o[Fe]=e}else Ui(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ge(e),o=!1}else o=Kr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),o=!0;if(!o)return e.flags&256?(vt(e),e):(vt(e),null)}return vt(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==o&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Hs(e,e.updateQueue),ge(e),null);case 4:return Ko(),t===null&&Of(e.stateNode.containerInfo),ge(e),null;case 10:return Rn(e.type),ge(e),null;case 19:if(Ge(be),i=e.memoizedState,i===null)return ge(e),null;if(o=(e.flags&128)!==0,l=i.rendering,l===null)if(o)_l(i,!1);else{if(_e!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=xa(t),l!==null){for(e.flags|=128,_l(i,!1),t=l.updateQueue,e.updateQueue=t,Hs(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Pm(n,t),n=n.sibling;return he(be,be.current&1|2),te&&Cn(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&Et()>Ia&&(e.flags|=128,o=!0,_l(i,!1),e.lanes=4194304)}else{if(!o)if(t=xa(l),t!==null){if(e.flags|=128,o=!0,t=t.updateQueue,e.updateQueue=t,Hs(e,t),_l(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!te)return ge(e),null}else 2*Et()-i.renderingStartTime>Ia&&n!==536870912&&(e.flags|=128,o=!0,_l(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(t=i.last,t!==null?t.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Et(),t.sibling=null,n=be.current,he(be,o?n&1|2:n&1),te&&Cn(e,i.treeForkCount),t):(ge(e),null);case 22:case 23:return vt(e),hf(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(ge(e),e.subtreeFlags&6&&(e.flags|=8192)):ge(e),n=e.updateQueue,n!==null&&Hs(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&Ge(Ni),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Rn(De),ge(e),null;case 25:return null;case 30:return null}throw Error(R(156,e.tag))}function aE(t,e){switch(uf(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rn(De),Ko(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return ma(e),null;case 31:if(e.memoizedState!==null){if(vt(e),e.alternate===null)throw Error(R(340));Ui()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(vt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));Ui()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ge(be),null;case 4:return Ko(),null;case 10:return Rn(e.type),null;case 22:case 23:return vt(e),hf(),t!==null&&Ge(Ni),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Rn(De),null;case 25:return null;default:return null}}function Py(t,e){switch(uf(e),e.tag){case 3:Rn(De),Ko();break;case 26:case 27:case 5:ma(e);break;case 4:Ko();break;case 31:e.memoizedState!==null&&vt(e);break;case 13:vt(e);break;case 19:Ge(be);break;case 10:Rn(e.type);break;case 22:case 23:vt(e),hf(),t!==null&&Ge(Ni);break;case 24:Rn(De)}}function Ts(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&t)===t){i=void 0;var l=n.create,s=n.inst;i=l(),s.destroy=i}n=n.next}while(n!==o)}}catch(a){ae(e,e.return,a)}}function di(t,e,n){try{var i=e.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var l=o.next;i=l;do{if((i.tag&t)===t){var s=i.inst,a=s.destroy;if(a!==void 0){s.destroy=void 0,o=e;var c=n,f=a;try{f()}catch(d){ae(o,c,d)}}}i=i.next}while(i!==l)}}catch(d){ae(e,e.return,d)}}function Hy(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Km(e,n)}catch(i){ae(t,t.return,i)}}}function Gy(t,e,n){n.props=Hi(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){ae(t,e,i)}}function Jl(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(o){ae(t,e,o)}}function sn(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(o){ae(t,e,o)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){ae(t,e,o)}else n.current=null}function Vy(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(o){ae(t,t.return,o)}}function iu(t,e,n){try{var i=t.stateNode;NE(i,t.type,n,e),i[ht]=e}catch(o){ae(t,t.return,o)}}function zy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&gi(t.type)||t.tag===4}function ou(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&gi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nc(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xn));else if(i!==4&&(i===27&&gi(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(nc(t,e,n),t=t.sibling;t!==null;)nc(t,e,n),t=t.sibling}function Ma(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&gi(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Ma(t,e,n),t=t.sibling;t!==null;)Ma(t,e,n),t=t.sibling}function By(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,o=e.attributes;o.length;)e.removeAttributeNode(o[0]);Ke(e,i,n),e[Fe]=t,e[ht]=n}catch(l){ae(t,t.return,l)}}var An=!1,Ie=!1,lu=!1,op=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function rE(t,e){if(t=t.containerInfo,uc=za,t=Nm(t),of(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,f=0,d=0,h=t,p=null;t:for(;;){for(var g;h!==n||o!==0&&h.nodeType!==3||(a=s+o),h!==l||i!==0&&h.nodeType!==3||(c=s+i),h.nodeType===3&&(s+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===t)break t;if(p===n&&++f===o&&(a=s),p===l&&++d===i&&(c=s),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(cc={focusedElem:t,selectionRange:n},za=!1,Pe=e;Pe!==null;)if(e=Pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Pe=t;else for(;Pe!==null;){switch(e=Pe,l=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)o=t[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&l!==null){t=void 0,n=e,o=l.memoizedProps,l=l.memoizedState,i=n.stateNode;try{var v=Hi(n.type,o);t=i.getSnapshotBeforeUpdate(v,l),i.__reactInternalSnapshotBeforeUpdate=t}catch(E){ae(n,n.return,E)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)dc(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":dc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(R(163))}if(t=e.sibling,t!==null){t.return=e.return,Pe=t;break}Pe=e.return}}function qy(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Tn(t,n),i&4&&Ts(5,n);break;case 1:if(Tn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){ae(n,n.return,s)}else{var o=Hi(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(o,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){ae(n,n.return,s)}}i&64&&Hy(n),i&512&&Jl(n,n.return);break;case 3:if(Tn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Km(t,e)}catch(s){ae(n,n.return,s)}}break;case 27:e===null&&i&4&&By(n);case 26:case 5:Tn(t,n),e===null&&i&4&&Vy(n),i&512&&Jl(n,n.return);break;case 12:Tn(t,n);break;case 31:Tn(t,n),i&4&&Yy(t,n);break;case 13:Tn(t,n),i&4&&Ky(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=yE.bind(null,n),PE(t,n))));break;case 22:if(i=n.memoizedState!==null||An,!i){e=e!==null&&e.memoizedState!==null||Ie,o=An;var l=Ie;An=i,(Ie=e)&&!l?En(t,n,(n.subtreeFlags&8772)!==0):Tn(t,n),An=o,Ie=l}break;case 30:break;default:Tn(t,n)}}function Fy(t){var e=t.alternate;e!==null&&(t.alternate=null,Fy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Zc(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Se=null,ft=!1;function Sn(t,e,n){for(n=n.child;n!==null;)Jy(t,e,n),n=n.sibling}function Jy(t,e,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(ps,n)}catch{}switch(n.tag){case 26:Ie||sn(n,e),Sn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ie||sn(n,e);var i=Se,o=ft;gi(n.type)&&(Se=n.stateNode,ft=!1),Sn(t,e,n),Xl(n.stateNode),Se=i,ft=o;break;case 5:Ie||sn(n,e);case 6:if(i=Se,o=ft,Se=null,Sn(t,e,n),Se=i,ft=o,Se!==null)if(ft)try{(Se.nodeType===9?Se.body:Se.nodeName==="HTML"?Se.ownerDocument.body:Se).removeChild(n.stateNode)}catch(l){ae(n,e,l)}else try{Se.removeChild(n.stateNode)}catch(l){ae(n,e,l)}break;case 18:Se!==null&&(ft?(t=Se,yp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),il(t)):yp(Se,n.stateNode));break;case 4:i=Se,o=ft,Se=n.stateNode.containerInfo,ft=!0,Sn(t,e,n),Se=i,ft=o;break;case 0:case 11:case 14:case 15:di(2,n,e),Ie||di(4,n,e),Sn(t,e,n);break;case 1:Ie||(sn(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Gy(n,e,i)),Sn(t,e,n);break;case 21:Sn(t,e,n);break;case 22:Ie=(i=Ie)||n.memoizedState!==null,Sn(t,e,n),Ie=i;break;default:Sn(t,e,n)}}function Yy(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{il(t)}catch(n){ae(e,e.return,n)}}}function Ky(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{il(t)}catch(n){ae(e,e.return,n)}}function uE(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new op),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new op),e;default:throw Error(R(435,t.tag))}}function Gs(t,e){var n=uE(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var o=vE.bind(null,t,i);i.then(o,o)}})}function ut(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i],l=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 27:if(gi(a.type)){Se=a.stateNode,ft=!1;break e}break;case 5:Se=a.stateNode,ft=!1;break e;case 3:case 4:Se=a.stateNode.containerInfo,ft=!0;break e}a=a.return}if(Se===null)throw Error(R(160));Jy(l,s,o),Se=null,ft=!1,l=o.alternate,l!==null&&(l.return=null),o.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)$y(e,t),e=e.sibling}var Yt=null;function $y(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ut(e,t),ct(t),i&4&&(di(3,t,t.return),Ts(3,t),di(5,t,t.return));break;case 1:ut(e,t),ct(t),i&512&&(Ie||n===null||sn(n,n.return)),i&64&&An&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var o=Yt;if(ut(e,t),ct(t),i&512&&(Ie||n===null||sn(n,n.return)),i&4){var l=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":l=o.getElementsByTagName("title")[0],(!l||l[ms]||l[Fe]||l.namespaceURI==="http://www.w3.org/2000/svg"||l.hasAttribute("itemprop"))&&(l=o.createElement(i),o.head.insertBefore(l,o.querySelector("head > title"))),Ke(l,i,n),l[Fe]=t,He(l),i=l;break e;case"link":var s=_p("link","href",o).get(i+(n.href||""));if(s){for(var a=0;a<s.length;a++)if(l=s[a],l.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&l.getAttribute("rel")===(n.rel==null?null:n.rel)&&l.getAttribute("title")===(n.title==null?null:n.title)&&l.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(a,1);break t}}l=o.createElement(i),Ke(l,i,n),o.head.appendChild(l);break;case"meta":if(s=_p("meta","content",o).get(i+(n.content||""))){for(a=0;a<s.length;a++)if(l=s[a],l.getAttribute("content")===(n.content==null?null:""+n.content)&&l.getAttribute("name")===(n.name==null?null:n.name)&&l.getAttribute("property")===(n.property==null?null:n.property)&&l.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&l.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(a,1);break t}}l=o.createElement(i),Ke(l,i,n),o.head.appendChild(l);break;default:throw Error(R(468,i))}l[Fe]=t,He(l),i=l}t.stateNode=i}else xp(o,t.type,t.stateNode);else t.stateNode=Ap(o,i,t.memoizedProps);else l!==i?(l===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):l.count--,i===null?xp(o,t.type,t.stateNode):Ap(o,i,t.memoizedProps)):i===null&&t.stateNode!==null&&iu(t,t.memoizedProps,n.memoizedProps)}break;case 27:ut(e,t),ct(t),i&512&&(Ie||n===null||sn(n,n.return)),n!==null&&i&4&&iu(t,t.memoizedProps,n.memoizedProps);break;case 5:if(ut(e,t),ct(t),i&512&&(Ie||n===null||sn(n,n.return)),t.flags&32){o=t.stateNode;try{Xo(o,"")}catch(v){ae(t,t.return,v)}}i&4&&t.stateNode!=null&&(o=t.memoizedProps,iu(t,o,n!==null?n.memoizedProps:o)),i&1024&&(lu=!0);break;case 6:if(ut(e,t),ct(t),i&4){if(t.stateNode===null)throw Error(R(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(v){ae(t,t.return,v)}}break;case 3:if(ua=null,o=Yt,Yt=Ha(e.containerInfo),ut(e,t),Yt=o,ct(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{il(e.containerInfo)}catch(v){ae(t,t.return,v)}lu&&(lu=!1,Xy(t));break;case 4:i=Yt,Yt=Ha(t.stateNode.containerInfo),ut(e,t),ct(t),Yt=i;break;case 12:ut(e,t),ct(t);break;case 31:ut(e,t),ct(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Gs(t,i)));break;case 13:ut(e,t),ct(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(gr=Et()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Gs(t,i)));break;case 22:o=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,f=An,d=Ie;if(An=f||o,Ie=d||c,ut(e,t),Ie=d,An=f,ct(t),i&8192)e:for(e=t.stateNode,e._visibility=o?e._visibility&-2:e._visibility|1,o&&(n===null||c||An||Ie||xi(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(l=c.stateNode,o)s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{a=c.stateNode;var h=c.memoizedProps.style,p=h!=null&&h.hasOwnProperty("display")?h.display:null;a.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(v){ae(c,c.return,v)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(v){ae(c,c.return,v)}}}else if(e.tag===18){if(n===null){c=e;try{var g=c.stateNode;o?vp(g,!0):vp(c.stateNode,!1)}catch(v){ae(c,c.return,v)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Gs(t,n))));break;case 19:ut(e,t),ct(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Gs(t,i)));break;case 30:break;case 21:break;default:ut(e,t),ct(t)}}function ct(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(zy(i)){n=i;break}i=i.return}if(n==null)throw Error(R(160));switch(n.tag){case 27:var o=n.stateNode,l=ou(t);Ma(t,l,o);break;case 5:var s=n.stateNode;n.flags&32&&(Xo(s,""),n.flags&=-33);var a=ou(t);Ma(t,a,s);break;case 3:case 4:var c=n.stateNode.containerInfo,f=ou(t);nc(t,f,c);break;default:throw Error(R(161))}}catch(d){ae(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Xy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Xy(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Tn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)qy(t,e.alternate,e),e=e.sibling}function xi(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:di(4,e,e.return),xi(e);break;case 1:sn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Gy(e,e.return,n),xi(e);break;case 27:Xl(e.stateNode);case 26:case 5:sn(e,e.return),xi(e);break;case 22:e.memoizedState===null&&xi(e);break;case 30:xi(e);break;default:xi(e)}t=t.sibling}}function En(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,o=t,l=e,s=l.flags;switch(l.tag){case 0:case 11:case 15:En(o,l,n),Ts(4,l);break;case 1:if(En(o,l,n),i=l,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(f){ae(i,i.return,f)}if(i=l,o=i.updateQueue,o!==null){var a=i.stateNode;try{var c=o.shared.hiddenCallbacks;if(c!==null)for(o.shared.hiddenCallbacks=null,o=0;o<c.length;o++)Ym(c[o],a)}catch(f){ae(i,i.return,f)}}n&&s&64&&Hy(l),Jl(l,l.return);break;case 27:By(l);case 26:case 5:En(o,l,n),n&&i===null&&s&4&&Vy(l),Jl(l,l.return);break;case 12:En(o,l,n);break;case 31:En(o,l,n),n&&s&4&&Yy(o,l);break;case 13:En(o,l,n),n&&s&4&&Ky(o,l);break;case 22:l.memoizedState===null&&En(o,l,n),Jl(l,l.return);break;case 30:break;default:En(o,l,n)}e=e.sibling}}function Mf(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&vs(n))}function If(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&vs(t))}function Jt(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qy(t,e,n,i),e=e.sibling}function Qy(t,e,n,i){var o=e.flags;switch(e.tag){case 0:case 11:case 15:Jt(t,e,n,i),o&2048&&Ts(9,e);break;case 1:Jt(t,e,n,i);break;case 3:Jt(t,e,n,i),o&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&vs(t)));break;case 12:if(o&2048){Jt(t,e,n,i),t=e.stateNode;try{var l=e.memoizedProps,s=l.id,a=l.onPostCommit;typeof a=="function"&&a(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){ae(e,e.return,c)}}else Jt(t,e,n,i);break;case 31:Jt(t,e,n,i);break;case 13:Jt(t,e,n,i);break;case 23:break;case 22:l=e.stateNode,s=e.alternate,e.memoizedState!==null?l._visibility&2?Jt(t,e,n,i):Yl(t,e):l._visibility&2?Jt(t,e,n,i):(l._visibility|=2,Eo(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),o&2048&&Mf(s,e);break;case 24:Jt(t,e,n,i),o&2048&&If(e.alternate,e);break;default:Jt(t,e,n,i)}}function Eo(t,e,n,i,o){for(o=o&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var l=t,s=e,a=n,c=i,f=s.flags;switch(s.tag){case 0:case 11:case 15:Eo(l,s,a,c,o),Ts(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?Eo(l,s,a,c,o):Yl(l,s):(d._visibility|=2,Eo(l,s,a,c,o)),o&&f&2048&&Mf(s.alternate,s);break;case 24:Eo(l,s,a,c,o),o&&f&2048&&If(s.alternate,s);break;default:Eo(l,s,a,c,o)}e=e.sibling}}function Yl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,o=i.flags;switch(i.tag){case 22:Yl(n,i),o&2048&&Mf(i.alternate,i);break;case 24:Yl(n,i),o&2048&&If(i.alternate,i);break;default:Yl(n,i)}e=e.sibling}}var Ul=8192;function ho(t,e,n){if(t.subtreeFlags&Ul)for(t=t.child;t!==null;)Zy(t,e,n),t=t.sibling}function Zy(t,e,n){switch(t.tag){case 26:ho(t,e,n),t.flags&Ul&&t.memoizedState!==null&&XE(n,Yt,t.memoizedState,t.memoizedProps);break;case 5:ho(t,e,n);break;case 3:case 4:var i=Yt;Yt=Ha(t.stateNode.containerInfo),ho(t,e,n),Yt=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Ul,Ul=16777216,ho(t,e,n),Ul=i):ho(t,e,n));break;default:ho(t,e,n)}}function Wy(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function xl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Pe=i,e0(i,t)}Wy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jy(t),t=t.sibling}function jy(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&di(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,aa(t)):xl(t);break;default:xl(t)}}function aa(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Pe=i,e0(i,t)}Wy(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:di(8,e,e.return),aa(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,aa(e));break;default:aa(e)}t=t.sibling}}function e0(t,e){for(;Pe!==null;){var n=Pe;switch(n.tag){case 0:case 11:case 15:di(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:vs(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Pe=i;else e:for(n=t;Pe!==null;){i=Pe;var o=i.sibling,l=i.return;if(Fy(i),i===n){Pe=null;break e}if(o!==null){o.return=l,Pe=o;break e}Pe=l}}}var cE={getCacheForType:function(t){var e=Ye(De),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Ye(De).controller.signal}},fE=typeof WeakMap=="function"?WeakMap:Map,oe=0,de=null,j=null,ee=0,se=0,yt=null,Wn=!1,ul=!1,Df=!1,Un=0,_e=0,pi=0,Ii=0,Lf=0,Tt=0,jo=0,Kl=null,dt=null,ic=!1,gr=0,t0=0,Ia=1/0,Da=null,li=null,Ue=0,si=null,el=null,Nn=0,oc=0,lc=null,n0=null,$l=0,sc=null;function _t(){return oe&2&&ee!==0?ee&-ee:F.T!==null?kf():fm()}function i0(){if(Tt===0)if(!(ee&536870912)||te){var t=Is;Is<<=1,!(Is&3932160)&&(Is=262144),Tt=t}else Tt=536870912;return t=wt.current,t!==null&&(t.flags|=32),Tt}function pt(t,e,n){(t===de&&(se===2||se===9)||t.cancelPendingCommit!==null)&&(tl(t,0),jn(t,ee,Tt,!1)),gs(t,n),(!(oe&2)||t!==de)&&(t===de&&(!(oe&2)&&(Ii|=n),_e===4&&jn(t,ee,Tt,!1)),cn(t))}function o0(t,e,n){if(oe&6)throw Error(R(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||hs(t,e),o=i?hE(t,e):su(t,e,!0),l=i;do{if(o===0){ul&&!i&&jn(t,e,0,!1);break}else{if(n=t.current.alternate,l&&!dE(n)){o=su(t,e,!1),l=!1;continue}if(o===2){if(l=e,t.errorRecoveryDisabledLanes&l)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var a=t;o=Kl;var c=a.current.memoizedState.isDehydrated;if(c&&(tl(a,s).flags|=256),s=su(a,s,!1),s!==2){if(Df&&!c){a.errorRecoveryDisabledLanes|=l,Ii|=l,o=4;break e}l=dt,dt=o,l!==null&&(dt===null?dt=l:dt.push.apply(dt,l))}o=s}if(l=!1,o!==2)continue}}if(o===1){tl(t,0),jn(t,e,0,!0);break}e:{switch(i=t,l=o,l){case 0:case 1:throw Error(R(345));case 4:if((e&4194048)!==e)break;case 6:jn(i,e,Tt,!Wn);break e;case 2:dt=null;break;case 3:case 5:break;default:throw Error(R(329))}if((e&62914560)===e&&(o=gr+300-Et(),10<o)){if(jn(i,e,Tt,!Wn),or(i,0,!0)!==0)break e;Nn=e,i.timeoutHandle=_0(lp.bind(null,i,n,dt,Da,ic,e,Tt,Ii,jo,Wn,l,"Throttled",-0,0),o);break e}lp(i,n,dt,Da,ic,e,Tt,Ii,jo,Wn,l,null,-0,0)}}break}while(!0);cn(t)}function lp(t,e,n,i,o,l,s,a,c,f,d,h,p,g){if(t.timeoutHandle=-1,h=e.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xn},Zy(e,l,h);var v=(l&62914560)===l?gr-Et():(l&4194048)===l?t0-Et():0;if(v=QE(h,v),v!==null){Nn=l,t.cancelPendingCommit=v(ap.bind(null,t,e,l,n,i,o,s,a,c,d,h,null,p,g)),jn(t,l,s,!f);return}}ap(t,e,l,n,i,o,s,a,c)}function dE(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var o=n[i],l=o.getSnapshot;o=o.value;try{if(!xt(l(),o))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jn(t,e,n,i){e&=~Lf,e&=~Ii,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var o=e;0<o;){var l=31-At(o),s=1<<l;i[l]=-1,o&=~s}n!==0&&rm(t,n,e)}function mr(){return oe&6?!0:(Es(0),!1)}function Uf(){if(j!==null){if(se===0)var t=j.return;else t=j,wn=qi=null,Sf(t),Bo=null,is=0,t=j;for(;t!==null;)Py(t.alternate,t),t=t.return;j=null}}function tl(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,DE(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Nn=0,Uf(),de=t,j=n=bn(t.current,null),ee=e,se=0,yt=null,Wn=!1,ul=hs(t,e),Df=!1,jo=Tt=Lf=Ii=pi=_e=0,dt=Kl=null,ic=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var o=31-At(i),l=1<<o;e|=t[o],i&=~l}return Un=e,rr(),n}function l0(t,e){X=null,F.H=ls,e===rl||e===cr?(e=Pd(),se=3):e===df?(e=Pd(),se=4):se=e===Rf?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,yt=e,j===null&&(_e=1,Ra(t,kt(e,t.current)))}function s0(){var t=wt.current;return t===null?!0:(ee&4194048)===ee?Pt===null:(ee&62914560)===ee||ee&536870912?t===Pt:!1}function a0(){var t=F.H;return F.H=ls,t===null?ls:t}function r0(){var t=F.A;return F.A=cE,t}function La(){_e=4,Wn||(ee&4194048)!==ee&&wt.current!==null||(ul=!0),!(pi&134217727)&&!(Ii&134217727)||de===null||jn(de,ee,Tt,!1)}function su(t,e,n){var i=oe;oe|=2;var o=a0(),l=r0();(de!==t||ee!==e)&&(Da=null,tl(t,e)),e=!1;var s=_e;e:do try{if(se!==0&&j!==null){var a=j,c=yt;switch(se){case 8:Uf(),s=6;break e;case 3:case 2:case 9:case 6:wt.current===null&&(e=!0);var f=se;if(se=0,yt=null,ko(t,a,c,f),n&&ul){s=0;break e}break;default:f=se,se=0,yt=null,ko(t,a,c,f)}}pE(),s=_e;break}catch(d){l0(t,d)}while(!0);return e&&t.shellSuspendCounter++,wn=qi=null,oe=i,F.H=o,F.A=l,j===null&&(de=null,ee=0,rr()),s}function pE(){for(;j!==null;)u0(j)}function hE(t,e){var n=oe;oe|=2;var i=a0(),o=r0();de!==t||ee!==e?(Da=null,Ia=Et()+500,tl(t,e)):ul=hs(t,e);e:do try{if(se!==0&&j!==null){e=j;var l=yt;t:switch(se){case 1:se=0,yt=null,ko(t,e,l,1);break;case 2:case 9:if(Od(l)){se=0,yt=null,sp(e);break}e=function(){se!==2&&se!==9||de!==t||(se=7),cn(t)},l.then(e,e);break e;case 3:se=7;break e;case 4:se=5;break e;case 7:Od(l)?(se=0,yt=null,sp(e)):(se=0,yt=null,ko(t,e,l,7));break;case 5:var s=null;switch(j.tag){case 26:s=j.memoizedState;case 5:case 27:var a=j;if(s?N0(s):a.stateNode.complete){se=0,yt=null;var c=a.sibling;if(c!==null)j=c;else{var f=a.return;f!==null?(j=f,yr(f)):j=null}break t}}se=0,yt=null,ko(t,e,l,5);break;case 6:se=0,yt=null,ko(t,e,l,6);break;case 8:Uf(),_e=6;break e;default:throw Error(R(462))}}gE();break}catch(d){l0(t,d)}while(!0);return wn=qi=null,F.H=i,F.A=o,oe=n,j!==null?0:(de=null,ee=0,rr(),_e)}function gE(){for(;j!==null&&!HS();)u0(j)}function u0(t){var e=Oy(t.alternate,t,Un);t.memoizedProps=t.pendingProps,e===null?yr(t):j=e}function sp(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=jd(n,e,e.pendingProps,e.type,void 0,ee);break;case 11:e=jd(n,e,e.pendingProps,e.type.render,e.ref,ee);break;case 5:Sf(e);default:Py(n,e),e=j=Pm(e,Un),e=Oy(n,e,Un)}t.memoizedProps=t.pendingProps,e===null?yr(t):j=e}function ko(t,e,n,i){wn=qi=null,Sf(e),Bo=null,is=0;var o=e.return;try{if(iE(t,o,e,n,ee)){_e=1,Ra(t,kt(n,t.current)),j=null;return}}catch(l){if(o!==null)throw j=o,l;_e=1,Ra(t,kt(n,t.current)),j=null;return}e.flags&32768?(te||i===1?t=!0:ul||ee&536870912?t=!1:(Wn=t=!0,(i===2||i===9||i===3||i===6)&&(i=wt.current,i!==null&&i.tag===13&&(i.flags|=16384))),c0(e,t)):yr(e)}function yr(t){var e=t;do{if(e.flags&32768){c0(e,Wn);return}t=e.return;var n=sE(e.alternate,e,Un);if(n!==null){j=n;return}if(e=e.sibling,e!==null){j=e;return}j=e=t}while(e!==null);_e===0&&(_e=5)}function c0(t,e){do{var n=aE(t.alternate,t);if(n!==null){n.flags&=32767,j=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){j=t;return}j=t=n}while(t!==null);_e=6,j=null}function ap(t,e,n,i,o,l,s,a,c){t.cancelPendingCommit=null;do vr();while(Ue!==0);if(oe&6)throw Error(R(327));if(e!==null){if(e===t.current)throw Error(R(177));if(l=e.lanes|e.childLanes,l|=lf,$S(t,n,l,s,a,c),t===de&&(j=de=null,ee=0),el=e,si=t,Nn=n,oc=l,lc=o,n0=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,SE(ya,function(){return g0(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=F.T,F.T=null,o=le.p,le.p=2,s=oe,oe|=4;try{rE(t,e,n)}finally{oe=s,le.p=o,F.T=i}}Ue=1,f0(),d0(),p0()}}function f0(){if(Ue===1){Ue=0;var t=si,e=el,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=F.T,F.T=null;var i=le.p;le.p=2;var o=oe;oe|=4;try{$y(e,t);var l=cc,s=Nm(t.containerInfo),a=l.focusedElem,c=l.selectionRange;if(s!==a&&a&&a.ownerDocument&&Rm(a.ownerDocument.documentElement,a)){if(c!==null&&of(a)){var f=c.start,d=c.end;if(d===void 0&&(d=f),"selectionStart"in a)a.selectionStart=f,a.selectionEnd=Math.min(d,a.value.length);else{var h=a.ownerDocument||document,p=h&&h.defaultView||window;if(p.getSelection){var g=p.getSelection(),v=a.textContent.length,E=Math.min(c.start,v),A=c.end===void 0?E:Math.min(c.end,v);!g.extend&&E>A&&(s=A,A=E,E=s);var y=Nd(a,E),m=Nd(a,A);if(y&&m&&(g.rangeCount!==1||g.anchorNode!==y.node||g.anchorOffset!==y.offset||g.focusNode!==m.node||g.focusOffset!==m.offset)){var T=h.createRange();T.setStart(y.node,y.offset),g.removeAllRanges(),E>A?(g.addRange(T),g.extend(m.node,m.offset)):(T.setEnd(m.node,m.offset),g.addRange(T))}}}}for(h=[],g=a;g=g.parentNode;)g.nodeType===1&&h.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<h.length;a++){var C=h[a];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}za=!!uc,cc=uc=null}finally{oe=o,le.p=i,F.T=n}}t.current=e,Ue=2}}function d0(){if(Ue===2){Ue=0;var t=si,e=el,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=F.T,F.T=null;var i=le.p;le.p=2;var o=oe;oe|=4;try{qy(t,e.alternate,e)}finally{oe=o,le.p=i,F.T=n}}Ue=3}}function p0(){if(Ue===4||Ue===3){Ue=0,GS();var t=si,e=el,n=Nn,i=n0;e.subtreeFlags&10256||e.flags&10256?Ue=5:(Ue=0,el=si=null,h0(t,t.pendingLanes));var o=t.pendingLanes;if(o===0&&(li=null),Qc(n),e=e.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(ps,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=F.T,o=le.p,le.p=2,F.T=null;try{for(var l=t.onRecoverableError,s=0;s<i.length;s++){var a=i[s];l(a.value,{componentStack:a.stack})}}finally{F.T=e,le.p=o}}Nn&3&&vr(),cn(t),o=t.pendingLanes,n&261930&&o&42?t===sc?$l++:($l=0,sc=t):$l=0,Es(0)}}function h0(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,vs(e)))}function vr(){return f0(),d0(),p0(),g0()}function g0(){if(Ue!==5)return!1;var t=si,e=oc;oc=0;var n=Qc(Nn),i=F.T,o=le.p;try{le.p=32>n?32:n,F.T=null,n=lc,lc=null;var l=si,s=Nn;if(Ue=0,el=si=null,Nn=0,oe&6)throw Error(R(331));var a=oe;if(oe|=4,jy(l.current),Qy(l,l.current,s,n),oe=a,Es(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(ps,l)}catch{}return!0}finally{le.p=o,F.T=i,h0(t,e)}}function rp(t,e,n){e=kt(n,e),e=ju(t.stateNode,e,2),t=oi(t,e,2),t!==null&&(gs(t,2),cn(t))}function ae(t,e,n){if(t.tag===3)rp(t,t,n);else for(;e!==null;){if(e.tag===3){rp(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(li===null||!li.has(i))){t=kt(n,t),n=My(2),i=oi(e,n,2),i!==null&&(Iy(n,i,e,t),gs(i,2),cn(i));break}}e=e.return}}function au(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new fE;var o=new Set;i.set(e,o)}else o=i.get(e),o===void 0&&(o=new Set,i.set(e,o));o.has(n)||(Df=!0,o.add(n),t=mE.bind(null,t,e,n),e.then(t,t))}function mE(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,de===t&&(ee&n)===n&&(_e===4||_e===3&&(ee&62914560)===ee&&300>Et()-gr?!(oe&2)&&tl(t,0):Lf|=n,jo===ee&&(jo=0)),cn(t)}function m0(t,e){e===0&&(e=am()),t=Bi(t,e),t!==null&&(gs(t,e),cn(t))}function yE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),m0(t,n)}function vE(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(R(314))}i!==null&&i.delete(e),m0(t,n)}function SE(t,e){return $c(t,e)}var Ua=null,Co=null,ac=!1,ka=!1,ru=!1,ei=0;function cn(t){t!==Co&&t.next===null&&(Co===null?Ua=Co=t:Co=Co.next=t),ka=!0,ac||(ac=!0,EE())}function Es(t,e){if(!ru&&ka){ru=!0;do for(var n=!1,i=Ua;i!==null;){if(t!==0){var o=i.pendingLanes;if(o===0)var l=0;else{var s=i.suspendedLanes,a=i.pingedLanes;l=(1<<31-At(42|t)+1)-1,l&=o&~(s&~a),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(n=!0,up(i,l))}else l=ee,l=or(i,i===de?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(l&3)||hs(i,l)||(n=!0,up(i,l));i=i.next}while(n);ru=!1}}function TE(){y0()}function y0(){ka=ac=!1;var t=0;ei!==0&&IE()&&(t=ei);for(var e=Et(),n=null,i=Ua;i!==null;){var o=i.next,l=v0(i,e);l===0?(i.next=null,n===null?Ua=o:n.next=o,o===null&&(Co=n)):(n=i,(t!==0||l&3)&&(ka=!0)),i=o}Ue!==0&&Ue!==5||Es(t),ei!==0&&(ei=0)}function v0(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,l=t.pendingLanes&-62914561;0<l;){var s=31-At(l),a=1<<s,c=o[s];c===-1?(!(a&n)||a&i)&&(o[s]=KS(a,e)):c<=e&&(t.expiredLanes|=a),l&=~a}if(e=de,n=ee,n=or(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(se===2||se===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Or(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||hs(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Or(i),Qc(n)){case 2:case 8:n=lm;break;case 32:n=ya;break;case 268435456:n=sm;break;default:n=ya}return i=S0.bind(null,t),n=$c(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Or(i),t.callbackPriority=2,t.callbackNode=null,2}function S0(t,e){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(vr()&&t.callbackNode!==n)return null;var i=ee;return i=or(t,t===de?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(o0(t,i,e),v0(t,Et()),t.callbackNode!=null&&t.callbackNode===n?S0.bind(null,t):null)}function up(t,e){if(vr())return null;o0(t,e,!0)}function EE(){LE(function(){oe&6?$c(om,TE):y0()})}function kf(){if(ei===0){var t=Qo;t===0&&(t=Ms,Ms<<=1,!(Ms&261888)&&(Ms=256)),ei=t}return ei}function cp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ws(""+t)}function fp(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function CE(t,e,n,i,o){if(e==="submit"&&n&&n.stateNode===o){var l=cp((o[ht]||null).action),s=i.submitter;s&&(e=(e=s[ht]||null)?cp(e.formAction):s.getAttribute("formAction"),e!==null&&(l=e,s=null));var a=new lr("action","action",null,i,o);t.push({event:a,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ei!==0){var c=s?fp(o,s):new FormData(o);Zu(n,{pending:!0,data:c,method:o.method,action:l},null,c)}}else typeof l=="function"&&(a.preventDefault(),c=s?fp(o,s):new FormData(o),Zu(n,{pending:!0,data:c,method:o.method,action:l},l,c))},currentTarget:o}]})}}for(var uu=0;uu<Gu.length;uu++){var cu=Gu[uu],AE=cu.toLowerCase(),_E=cu[0].toUpperCase()+cu.slice(1);Qt(AE,"on"+_E)}Qt(Im,"onAnimationEnd");Qt(Dm,"onAnimationIteration");Qt(Lm,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt(VT,"onTransitionRun");Qt(zT,"onTransitionStart");Qt(BT,"onTransitionCancel");Qt(Um,"onTransitionEnd");$o("onMouseEnter",["mouseout","mouseover"]);$o("onMouseLeave",["mouseout","mouseover"]);$o("onPointerEnter",["pointerout","pointerover"]);$o("onPointerLeave",["pointerout","pointerover"]);Gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ss));function T0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],o=i.event;i=i.listeners;e:{var l=void 0;if(e)for(var s=i.length-1;0<=s;s--){var a=i[s],c=a.instance,f=a.currentTarget;if(a=a.listener,c!==l&&o.isPropagationStopped())break e;l=a,o.currentTarget=f;try{l(o)}catch(d){Sa(d)}o.currentTarget=null,l=c}else for(s=0;s<i.length;s++){if(a=i[s],c=a.instance,f=a.currentTarget,a=a.listener,c!==l&&o.isPropagationStopped())break e;l=a,o.currentTarget=f;try{l(o)}catch(d){Sa(d)}o.currentTarget=null,l=c}}}}function W(t,e){var n=e[Iu];n===void 0&&(n=e[Iu]=new Set);var i=t+"__bubble";n.has(i)||(E0(e,t,2,!1),n.add(i))}function fu(t,e,n){var i=0;e&&(i|=4),E0(n,t,i,e)}var Vs="_reactListening"+Math.random().toString(36).slice(2);function Of(t){if(!t[Vs]){t[Vs]=!0,dm.forEach(function(n){n!=="selectionchange"&&(xE.has(n)||fu(n,!1,t),fu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vs]||(e[Vs]=!0,fu("selectionchange",!1,e))}}function E0(t,e,n,i){switch(U0(e)){case 2:var o=jE;break;case 8:o=eC;break;default:o=Vf}n=o.bind(null,e,n,t),o=void 0,!Ou||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),i?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function du(t,e,n,i,o){var l=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var a=i.stateNode.containerInfo;if(a===o)break;if(s===4)for(s=i.return;s!==null;){var c=s.tag;if((c===3||c===4)&&s.stateNode.containerInfo===o)return;s=s.return}for(;a!==null;){if(s=wo(a),s===null)return;if(c=s.tag,c===5||c===6||c===26||c===27){i=l=s;continue e}a=a.parentNode}}i=i.return}Tm(function(){var f=l,d=jc(n),h=[];e:{var p=km.get(t);if(p!==void 0){var g=lr,v=t;switch(t){case"keypress":if(ea(n)===0)break e;case"keydown":case"keyup":g=vT;break;case"focusin":v="focus",g=zr;break;case"focusout":v="blur",g=zr;break;case"beforeblur":case"afterblur":g=zr;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=sT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=ET;break;case Im:case Dm:case Lm:g=uT;break;case Um:g=AT;break;case"scroll":case"scrollend":g=oT;break;case"wheel":g=xT;break;case"copy":case"cut":case"paste":g=fT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ed;break;case"toggle":case"beforetoggle":g=bT}var E=(e&4)!==0,A=!E&&(t==="scroll"||t==="scrollend"),y=E?p!==null?p+"Capture":null:p;E=[];for(var m=f,T;m!==null;){var C=m;if(T=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||T===null||y===null||(C=Wl(m,y),C!=null&&E.push(as(m,C,T))),A)break;m=m.return}0<E.length&&(p=new g(p,v,null,n,d),h.push({event:p,listeners:E}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==ku&&(v=n.relatedTarget||n.fromElement)&&(wo(v)||v[ll]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=f,v=v?wo(v):null,v!==null&&(A=ds(v),E=v.tag,v!==A||E!==5&&E!==27&&E!==6)&&(v=null)):(g=null,v=f),g!==v)){if(E=Sd,C="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(E=Ed,C="onPointerLeave",y="onPointerEnter",m="pointer"),A=g==null?p:Dl(g),T=v==null?p:Dl(v),p=new E(C,m+"leave",g,n,d),p.target=A,p.relatedTarget=T,C=null,wo(d)===f&&(E=new E(y,m+"enter",v,n,d),E.target=T,E.relatedTarget=A,C=E),A=C,g&&v)t:{for(E=wE,y=g,m=v,T=0,C=y;C;C=E(C))T++;C=0;for(var x=m;x;x=E(x))C++;for(;0<T-C;)y=E(y),T--;for(;0<C-T;)m=E(m),C--;for(;T--;){if(y===m||m!==null&&y===m.alternate){E=y;break t}y=E(y),m=E(m)}E=null}else E=null;g!==null&&dp(h,p,g,E,!1),v!==null&&A!==null&&dp(h,A,v,E,!0)}}e:{if(p=f?Dl(f):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var N=xd;else if(_d(p))if(wm)N=PT;else{N=kT;var _=UT}else g=p.nodeName,!g||g.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?f&&Wc(f.elementType)&&(N=xd):N=OT;if(N&&(N=N(t,f))){xm(h,N,n,d);break e}_&&_(t,p,f),t==="focusout"&&f&&p.type==="number"&&f.memoizedProps.value!=null&&Uu(p,"number",p.value)}switch(_=f?Dl(f):window,t){case"focusin":(_d(_)||_.contentEditable==="true")&&(No=_,Pu=f,Gl=null);break;case"focusout":Gl=Pu=No=null;break;case"mousedown":Hu=!0;break;case"contextmenu":case"mouseup":case"dragend":Hu=!1,Md(h,n,d);break;case"selectionchange":if(GT)break;case"keydown":case"keyup":Md(h,n,d)}var I;if(nf)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ro?Am(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Cm&&n.locale!=="ko"&&(Ro||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ro&&(I=Em()):(Zn=d,ef="value"in Zn?Zn.value:Zn.textContent,Ro=!0)),_=Oa(f,b),0<_.length&&(b=new Td(b,t,null,n,d),h.push({event:b,listeners:_}),I?b.data=I:(I=_m(n),I!==null&&(b.data=I)))),(I=NT?MT(t,n):IT(t,n))&&(b=Oa(f,"onBeforeInput"),0<b.length&&(_=new Td("onBeforeInput","beforeinput",null,n,d),h.push({event:_,listeners:b}),_.data=I)),CE(h,t,f,n,d)}T0(h,e)})}function as(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Oa(t,e){for(var n=e+"Capture",i=[];t!==null;){var o=t,l=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||l===null||(o=Wl(t,n),o!=null&&i.unshift(as(t,o,l)),o=Wl(t,e),o!=null&&i.push(as(t,o,l))),t.tag===3)return i;t=t.return}return[]}function wE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function dp(t,e,n,i,o){for(var l=e._reactName,s=[];n!==null&&n!==i;){var a=n,c=a.alternate,f=a.stateNode;if(a=a.tag,c!==null&&c===i)break;a!==5&&a!==26&&a!==27||f===null||(c=f,o?(f=Wl(n,l),f!=null&&s.unshift(as(n,f,c))):o||(f=Wl(n,l),f!=null&&s.push(as(n,f,c)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var bE=/\r\n?/g,RE=/\u0000|\uFFFD/g;function pp(t){return(typeof t=="string"?t:""+t).replace(bE,`
`).replace(RE,"")}function C0(t,e){return e=pp(e),pp(t)===e}function re(t,e,n,i,o,l){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Xo(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Xo(t,""+i);break;case"className":Ls(t,"class",i);break;case"tabIndex":Ls(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ls(t,n,i);break;case"style":Sm(t,i,l);break;case"data":if(e!=="object"){Ls(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Ws(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof l=="function"&&(n==="formAction"?(e!=="input"&&re(t,e,"name",o.name,o,null),re(t,e,"formEncType",o.formEncType,o,null),re(t,e,"formMethod",o.formMethod,o,null),re(t,e,"formTarget",o.formTarget,o,null)):(re(t,e,"encType",o.encType,o,null),re(t,e,"method",o.method,o,null),re(t,e,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Ws(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=xn);break;case"onScroll":i!=null&&W("scroll",t);break;case"onScrollEnd":i!=null&&W("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(R(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(R(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=Ws(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":W("beforetoggle",t),W("toggle",t),Zs(t,"popover",i);break;case"xlinkActuate":yn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":yn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":yn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":yn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":yn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":yn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":yn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":yn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":yn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Zs(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=nT.get(n)||n,Zs(t,n,i))}}function rc(t,e,n,i,o,l){switch(n){case"style":Sm(t,i,l);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(R(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(R(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Xo(t,i):(typeof i=="number"||typeof i=="bigint")&&Xo(t,""+i);break;case"onScroll":i!=null&&W("scroll",t);break;case"onScrollEnd":i!=null&&W("scrollend",t);break;case"onClick":i!=null&&(t.onclick=xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pm.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),e=n.slice(2,o?n.length-7:void 0),l=t[ht]||null,l=l!=null?l[n]:null,typeof l=="function"&&t.removeEventListener(e,l,o),typeof i=="function")){typeof l!="function"&&l!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,o);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):Zs(t,n,i)}}}function Ke(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":W("error",t),W("load",t);var i=!1,o=!1,l;for(l in n)if(n.hasOwnProperty(l)){var s=n[l];if(s!=null)switch(l){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(R(137,e));default:re(t,e,l,s,n,null)}}o&&re(t,e,"srcSet",n.srcSet,n,null),i&&re(t,e,"src",n.src,n,null);return;case"input":W("invalid",t);var a=l=s=o=null,c=null,f=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":o=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":f=d;break;case"value":l=d;break;case"defaultValue":a=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(R(137,e));break;default:re(t,e,i,d,n,null)}}mm(t,l,a,c,f,s,o,!1);return;case"select":W("invalid",t),i=s=l=null;for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"value":l=a;break;case"defaultValue":s=a;break;case"multiple":i=a;default:re(t,e,o,a,n,null)}e=l,n=s,t.multiple=!!i,e!=null?Go(t,!!i,e,!1):n!=null&&Go(t,!!i,n,!0);return;case"textarea":W("invalid",t),l=o=i=null;for(s in n)if(n.hasOwnProperty(s)&&(a=n[s],a!=null))switch(s){case"value":i=a;break;case"defaultValue":o=a;break;case"children":l=a;break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(R(91));break;default:re(t,e,s,a,n,null)}vm(t,i,o,l);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:re(t,e,c,i,n,null)}return;case"dialog":W("beforetoggle",t),W("toggle",t),W("cancel",t),W("close",t);break;case"iframe":case"object":W("load",t);break;case"video":case"audio":for(i=0;i<ss.length;i++)W(ss[i],t);break;case"image":W("error",t),W("load",t);break;case"details":W("toggle",t);break;case"embed":case"source":case"link":W("error",t),W("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in n)if(n.hasOwnProperty(f)&&(i=n[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(R(137,e));default:re(t,e,f,i,n,null)}return;default:if(Wc(e)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&rc(t,e,d,i,n,void 0));return}}for(a in n)n.hasOwnProperty(a)&&(i=n[a],i!=null&&re(t,e,a,i,n,null))}function NE(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,l=null,s=null,a=null,c=null,f=null,d=null;for(g in n){var h=n[g];if(n.hasOwnProperty(g)&&h!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":c=h;default:i.hasOwnProperty(g)||re(t,e,g,null,i,h)}}for(var p in i){var g=i[p];if(h=n[p],i.hasOwnProperty(p)&&(g!=null||h!=null))switch(p){case"type":l=g;break;case"name":o=g;break;case"checked":f=g;break;case"defaultChecked":d=g;break;case"value":s=g;break;case"defaultValue":a=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(R(137,e));break;default:g!==h&&re(t,e,p,g,i,h)}}Lu(t,s,a,c,f,d,l,o);return;case"select":g=s=a=p=null;for(l in n)if(c=n[l],n.hasOwnProperty(l)&&c!=null)switch(l){case"value":break;case"multiple":g=c;default:i.hasOwnProperty(l)||re(t,e,l,null,i,c)}for(o in i)if(l=i[o],c=n[o],i.hasOwnProperty(o)&&(l!=null||c!=null))switch(o){case"value":p=l;break;case"defaultValue":a=l;break;case"multiple":s=l;default:l!==c&&re(t,e,o,l,i,c)}e=a,n=s,i=g,p!=null?Go(t,!!n,p,!1):!!i!=!!n&&(e!=null?Go(t,!!n,e,!0):Go(t,!!n,n?[]:"",!1));return;case"textarea":g=p=null;for(a in n)if(o=n[a],n.hasOwnProperty(a)&&o!=null&&!i.hasOwnProperty(a))switch(a){case"value":break;case"children":break;default:re(t,e,a,null,i,o)}for(s in i)if(o=i[s],l=n[s],i.hasOwnProperty(s)&&(o!=null||l!=null))switch(s){case"value":p=o;break;case"defaultValue":g=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(R(91));break;default:o!==l&&re(t,e,s,o,i,l)}ym(t,p,g);return;case"option":for(var v in n)if(p=n[v],n.hasOwnProperty(v)&&p!=null&&!i.hasOwnProperty(v))switch(v){case"selected":t.selected=!1;break;default:re(t,e,v,null,i,p)}for(c in i)if(p=i[c],g=n[c],i.hasOwnProperty(c)&&p!==g&&(p!=null||g!=null))switch(c){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:re(t,e,c,p,i,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var E in n)p=n[E],n.hasOwnProperty(E)&&p!=null&&!i.hasOwnProperty(E)&&re(t,e,E,null,i,p);for(f in i)if(p=i[f],g=n[f],i.hasOwnProperty(f)&&p!==g&&(p!=null||g!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(R(137,e));break;default:re(t,e,f,p,i,g)}return;default:if(Wc(e)){for(var A in n)p=n[A],n.hasOwnProperty(A)&&p!==void 0&&!i.hasOwnProperty(A)&&rc(t,e,A,void 0,i,p);for(d in i)p=i[d],g=n[d],!i.hasOwnProperty(d)||p===g||p===void 0&&g===void 0||rc(t,e,d,p,i,g);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&p!=null&&!i.hasOwnProperty(y)&&re(t,e,y,null,i,p);for(h in i)p=i[h],g=n[h],!i.hasOwnProperty(h)||p===g||p==null&&g==null||re(t,e,h,p,i,g)}function hp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ME(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var o=n[i],l=o.transferSize,s=o.initiatorType,a=o.duration;if(l&&a&&hp(s)){for(s=0,a=o.responseEnd,i+=1;i<n.length;i++){var c=n[i],f=c.startTime;if(f>a)break;var d=c.transferSize,h=c.initiatorType;d&&hp(h)&&(c=c.responseEnd,s+=d*(c<a?1:(a-f)/(c-f)))}if(--i,e+=8*(l+s)/(o.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var uc=null,cc=null;function Pa(t){return t.nodeType===9?t:t.ownerDocument}function gp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A0(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function fc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pu=null;function IE(){var t=window.event;return t&&t.type==="popstate"?t===pu?!1:(pu=t,!0):(pu=null,!1)}var _0=typeof setTimeout=="function"?setTimeout:void 0,DE=typeof clearTimeout=="function"?clearTimeout:void 0,mp=typeof Promise=="function"?Promise:void 0,LE=typeof queueMicrotask=="function"?queueMicrotask:typeof mp<"u"?function(t){return mp.resolve(null).then(t).catch(UE)}:_0;function UE(t){setTimeout(function(){throw t})}function gi(t){return t==="head"}function yp(t,e){var n=e,i=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(o),il(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Xl(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Xl(n);for(var l=n.firstChild;l;){var s=l.nextSibling,a=l.nodeName;l[ms]||a==="SCRIPT"||a==="STYLE"||a==="LINK"&&l.rel.toLowerCase()==="stylesheet"||n.removeChild(l),l=s}}else n==="body"&&Xl(t.ownerDocument.body);n=o}while(n);il(e)}function vp(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function dc(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":dc(n),Zc(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function kE(t,e,n,i){for(;t.nodeType===1;){var o=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[ms])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(l=t.getAttribute("rel"),l==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(l!==o.rel||t.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||t.getAttribute("title")!==(o.title==null?null:o.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(l=t.getAttribute("src"),(l!==(o.src==null?null:o.src)||t.getAttribute("type")!==(o.type==null?null:o.type)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&l&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var l=o.name==null?null:""+o.name;if(o.type==="hidden"&&t.getAttribute("name")===l)return t}else return t;if(t=Ht(t.nextSibling),t===null)break}return null}function OE(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ht(t.nextSibling),t===null))return null;return t}function x0(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Ht(t.nextSibling),t===null))return null;return t}function pc(t){return t.data==="$?"||t.data==="$~"}function hc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function PE(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Ht(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var gc=null;function Sp(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Ht(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Tp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function w0(t,e,n){switch(e=Pa(n),t){case"html":if(t=e.documentElement,!t)throw Error(R(452));return t;case"head":if(t=e.head,!t)throw Error(R(453));return t;case"body":if(t=e.body,!t)throw Error(R(454));return t;default:throw Error(R(451))}}function Xl(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Zc(t)}var Vt=new Map,Ep=new Set;function Ha(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var On=le.d;le.d={f:HE,r:GE,D:VE,C:zE,L:BE,m:qE,X:JE,S:FE,M:YE};function HE(){var t=On.f(),e=mr();return t||e}function GE(t){var e=sl(t);e!==null&&e.tag===5&&e.type==="form"?Sy(e):On.r(t)}var cl=typeof document>"u"?null:document;function b0(t,e,n){var i=cl;if(i&&typeof e=="string"&&e){var o=Ut(e);o='link[rel="'+t+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),Ep.has(o)||(Ep.add(o),t={rel:t,crossOrigin:n,href:e},i.querySelector(o)===null&&(e=i.createElement("link"),Ke(e,"link",t),He(e),i.head.appendChild(e)))}}function VE(t){On.D(t),b0("dns-prefetch",t,null)}function zE(t,e){On.C(t,e),b0("preconnect",t,e)}function BE(t,e,n){On.L(t,e,n);var i=cl;if(i&&t&&e){var o='link[rel="preload"][as="'+Ut(e)+'"]';e==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Ut(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Ut(n.imageSizes)+'"]')):o+='[href="'+Ut(t)+'"]';var l=o;switch(e){case"style":l=nl(t);break;case"script":l=fl(t)}Vt.has(l)||(t=ve({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Vt.set(l,t),i.querySelector(o)!==null||e==="style"&&i.querySelector(Cs(l))||e==="script"&&i.querySelector(As(l))||(e=i.createElement("link"),Ke(e,"link",t),He(e),i.head.appendChild(e)))}}function qE(t,e){On.m(t,e);var n=cl;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",o='link[rel="modulepreload"][as="'+Ut(i)+'"][href="'+Ut(t)+'"]',l=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=fl(t)}if(!Vt.has(l)&&(t=ve({rel:"modulepreload",href:t},e),Vt.set(l,t),n.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(As(l)))return}i=n.createElement("link"),Ke(i,"link",t),He(i),n.head.appendChild(i)}}}function FE(t,e,n){On.S(t,e,n);var i=cl;if(i&&t){var o=Ho(i).hoistableStyles,l=nl(t);e=e||"default";var s=o.get(l);if(!s){var a={loading:0,preload:null};if(s=i.querySelector(Cs(l)))a.loading=5;else{t=ve({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Vt.get(l))&&Pf(t,n);var c=s=i.createElement("link");He(c),Ke(c,"link",t),c._p=new Promise(function(f,d){c.onload=f,c.onerror=d}),c.addEventListener("load",function(){a.loading|=1}),c.addEventListener("error",function(){a.loading|=2}),a.loading|=4,ra(s,e,i)}s={type:"stylesheet",instance:s,count:1,state:a},o.set(l,s)}}}function JE(t,e){On.X(t,e);var n=cl;if(n&&t){var i=Ho(n).hoistableScripts,o=fl(t),l=i.get(o);l||(l=n.querySelector(As(o)),l||(t=ve({src:t,async:!0},e),(e=Vt.get(o))&&Hf(t,e),l=n.createElement("script"),He(l),Ke(l,"link",t),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},i.set(o,l))}}function YE(t,e){On.M(t,e);var n=cl;if(n&&t){var i=Ho(n).hoistableScripts,o=fl(t),l=i.get(o);l||(l=n.querySelector(As(o)),l||(t=ve({src:t,async:!0,type:"module"},e),(e=Vt.get(o))&&Hf(t,e),l=n.createElement("script"),He(l),Ke(l,"link",t),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},i.set(o,l))}}function Cp(t,e,n,i){var o=(o=ti.current)?Ha(o):null;if(!o)throw Error(R(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=nl(n.href),n=Ho(o).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=nl(n.href);var l=Ho(o).hoistableStyles,s=l.get(t);if(s||(o=o.ownerDocument||o,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},l.set(t,s),(l=o.querySelector(Cs(t)))&&!l._p&&(s.instance=l,s.state.loading=5),Vt.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Vt.set(t,n),l||KE(o,t,n,s.state))),e&&i===null)throw Error(R(528,""));return s}if(e&&i!==null)throw Error(R(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=fl(n),n=Ho(o).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(R(444,t))}}function nl(t){return'href="'+Ut(t)+'"'}function Cs(t){return'link[rel="stylesheet"]['+t+"]"}function R0(t){return ve({},t,{"data-precedence":t.precedence,precedence:null})}function KE(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),Ke(e,"link",n),He(e),t.head.appendChild(e))}function fl(t){return'[src="'+Ut(t)+'"]'}function As(t){return"script[async]"+t}function Ap(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+Ut(n.href)+'"]');if(i)return e.instance=i,He(i),i;var o=ve({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),He(i),Ke(i,"style",o),ra(i,n.precedence,t),e.instance=i;case"stylesheet":o=nl(n.href);var l=t.querySelector(Cs(o));if(l)return e.state.loading|=4,e.instance=l,He(l),l;i=R0(n),(o=Vt.get(o))&&Pf(i,o),l=(t.ownerDocument||t).createElement("link"),He(l);var s=l;return s._p=new Promise(function(a,c){s.onload=a,s.onerror=c}),Ke(l,"link",i),e.state.loading|=4,ra(l,n.precedence,t),e.instance=l;case"script":return l=fl(n.src),(o=t.querySelector(As(l)))?(e.instance=o,He(o),o):(i=n,(o=Vt.get(l))&&(i=ve({},n),Hf(i,o)),t=t.ownerDocument||t,o=t.createElement("script"),He(o),Ke(o,"link",i),t.head.appendChild(o),e.instance=o);case"void":return null;default:throw Error(R(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,ra(i,n.precedence,t));return e.instance}function ra(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,l=o,s=0;s<i.length;s++){var a=i[s];if(a.dataset.precedence===e)l=a;else if(l!==o)break}l?l.parentNode.insertBefore(t,l.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Pf(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Hf(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var ua=null;function _p(t,e,n){if(ua===null){var i=new Map,o=ua=new Map;o.set(n,i)}else o=ua,i=o.get(n),i||(i=new Map,o.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),o=0;o<n.length;o++){var l=n[o];if(!(l[ms]||l[Fe]||t==="link"&&l.getAttribute("rel")==="stylesheet")&&l.namespaceURI!=="http://www.w3.org/2000/svg"){var s=l.getAttribute(e)||"";s=t+s;var a=i.get(s);a?a.push(l):i.set(s,[l])}}return i}function xp(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function $E(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function N0(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function XE(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var o=nl(i.href),l=e.querySelector(Cs(o));if(l){e=l._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Ga.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=l,He(l);return}l=e.ownerDocument||e,i=R0(i),(o=Vt.get(o))&&Pf(i,o),l=l.createElement("link"),He(l);var s=l;s._p=new Promise(function(a,c){s.onload=a,s.onerror=c}),Ke(l,"link",i),n.instance=l}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Ga.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var hu=0;function QE(t,e){return t.stylesheets&&t.count===0&&ca(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&ca(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4+e);0<t.imgBytes&&hu===0&&(hu=62500*ME());var o=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ca(t,t.stylesheets),t.unsuspend)){var l=t.unsuspend;t.unsuspend=null,l()}},(t.imgBytes>hu?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function Ga(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ca(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Va=null;function ca(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Va=new Map,e.forEach(ZE,t),Va=null,Ga.call(t))}function ZE(t,e){if(!(e.state.loading&4)){var n=Va.get(t);if(n)var i=n.get(null);else{n=new Map,Va.set(t,n);for(var o=t.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<o.length;l++){var s=o[l];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}o=e.instance,s=o.getAttribute("data-precedence"),l=n.get(s)||i,l===i&&n.set(null,o),n.set(s,o),this.count++,i=Ga.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),l?l.parentNode.insertBefore(o,l.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(o,t.firstChild)),e.state.loading|=4}}var rs={$$typeof:_n,Provider:null,Consumer:null,_currentValue:bi,_currentValue2:bi,_threadCount:0};function WE(t,e,n,i,o,l,s,a,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pr(0),this.hiddenUpdates=Pr(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=l,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function M0(t,e,n,i,o,l,s,a,c,f,d,h){return t=new WE(t,e,n,s,c,f,d,h,a),e=1,l===!0&&(e|=24),l=St(3,null,null,e),t.current=l,l.stateNode=t,e=cf(),e.refCount++,t.pooledCache=e,e.refCount++,l.memoizedState={element:i,isDehydrated:n,cache:e},pf(l),t}function I0(t){return t?(t=Do,t):Do}function D0(t,e,n,i,o,l){o=I0(o),i.context===null?i.context=o:i.pendingContext=o,i=ii(e),i.payload={element:n},l=l===void 0?null:l,l!==null&&(i.callback=l),n=oi(t,i,e),n!==null&&(pt(n,t,e),zl(n,t,e))}function wp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Gf(t,e){wp(t,e),(t=t.alternate)&&wp(t,e)}function L0(t){if(t.tag===13||t.tag===31){var e=Bi(t,67108864);e!==null&&pt(e,t,67108864),Gf(t,67108864)}}function bp(t){if(t.tag===13||t.tag===31){var e=_t();e=Xc(e);var n=Bi(t,e);n!==null&&pt(n,t,e),Gf(t,e)}}var za=!0;function jE(t,e,n,i){var o=F.T;F.T=null;var l=le.p;try{le.p=2,Vf(t,e,n,i)}finally{le.p=l,F.T=o}}function eC(t,e,n,i){var o=F.T;F.T=null;var l=le.p;try{le.p=8,Vf(t,e,n,i)}finally{le.p=l,F.T=o}}function Vf(t,e,n,i){if(za){var o=mc(i);if(o===null)du(t,e,i,Ba,n),Rp(t,i);else if(nC(o,t,e,n,i))i.stopPropagation();else if(Rp(t,i),e&4&&-1<tC.indexOf(t)){for(;o!==null;){var l=sl(o);if(l!==null)switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var s=Ai(l.pendingLanes);if(s!==0){var a=l;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var c=1<<31-At(s);a.entanglements[1]|=c,s&=~c}cn(l),!(oe&6)&&(Ia=Et()+500,Es(0))}}break;case 31:case 13:a=Bi(l,2),a!==null&&pt(a,l,2),mr(),Gf(l,2)}if(l=mc(i),l===null&&du(t,e,i,Ba,n),l===o)break;o=l}o!==null&&i.stopPropagation()}else du(t,e,i,null,n)}}function mc(t){return t=jc(t),zf(t)}var Ba=null;function zf(t){if(Ba=null,t=wo(t),t!==null){var e=ds(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=jg(e),t!==null)return t;t=null}else if(n===31){if(t=em(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Ba=t,null}function U0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(VS()){case om:return 2;case lm:return 8;case ya:case zS:return 32;case sm:return 268435456;default:return 32}default:return 32}}var yc=!1,ai=null,ri=null,ui=null,us=new Map,cs=new Map,Xn=[],tC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rp(t,e){switch(t){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":us.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cs.delete(e.pointerId)}}function wl(t,e,n,i,o,l){return t===null||t.nativeEvent!==l?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:l,targetContainers:[o]},e!==null&&(e=sl(e),e!==null&&L0(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function nC(t,e,n,i,o){switch(e){case"focusin":return ai=wl(ai,t,e,n,i,o),!0;case"dragenter":return ri=wl(ri,t,e,n,i,o),!0;case"mouseover":return ui=wl(ui,t,e,n,i,o),!0;case"pointerover":var l=o.pointerId;return us.set(l,wl(us.get(l)||null,t,e,n,i,o)),!0;case"gotpointercapture":return l=o.pointerId,cs.set(l,wl(cs.get(l)||null,t,e,n,i,o)),!0}return!1}function k0(t){var e=wo(t.target);if(e!==null){var n=ds(e);if(n!==null){if(e=n.tag,e===13){if(e=jg(n),e!==null){t.blockedOn=e,dd(t.priority,function(){bp(n)});return}}else if(e===31){if(e=em(n),e!==null){t.blockedOn=e,dd(t.priority,function(){bp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mc(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);ku=i,n.target.dispatchEvent(i),ku=null}else return e=sl(n),e!==null&&L0(e),t.blockedOn=n,!1;e.shift()}return!0}function Np(t,e,n){fa(t)&&n.delete(e)}function iC(){yc=!1,ai!==null&&fa(ai)&&(ai=null),ri!==null&&fa(ri)&&(ri=null),ui!==null&&fa(ui)&&(ui=null),us.forEach(Np),cs.forEach(Np)}function zs(t,e){t.blockedOn===e&&(t.blockedOn=null,yc||(yc=!0,ke.unstable_scheduleCallback(ke.unstable_NormalPriority,iC)))}var Bs=null;function Mp(t){Bs!==t&&(Bs=t,ke.unstable_scheduleCallback(ke.unstable_NormalPriority,function(){Bs===t&&(Bs=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],o=t[e+2];if(typeof i!="function"){if(zf(i||n)===null)continue;break}var l=sl(n);l!==null&&(t.splice(e,3),e-=3,Zu(l,{pending:!0,data:o,method:n.method,action:i},i,o))}}))}function il(t){function e(c){return zs(c,t)}ai!==null&&zs(ai,t),ri!==null&&zs(ri,t),ui!==null&&zs(ui,t),us.forEach(e),cs.forEach(e);for(var n=0;n<Xn.length;n++){var i=Xn[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Xn.length&&(n=Xn[0],n.blockedOn===null);)k0(n),n.blockedOn===null&&Xn.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var o=n[i],l=n[i+1],s=o[ht]||null;if(typeof l=="function")s||Mp(n);else if(s){var a=null;if(l&&l.hasAttribute("formAction")){if(o=l,s=l[ht]||null)a=s.formAction;else if(zf(o)!==null)continue}else a=s.action;typeof a=="function"?n[i+1]=a:(n.splice(i,3),i-=3),Mp(n)}}}function O0(){function t(l){l.canIntercept&&l.info==="react-transition"&&l.intercept({handler:function(){return new Promise(function(s){return o=s})},focusReset:"manual",scroll:"manual"})}function e(){o!==null&&(o(),o=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var l=navigation.currentEntry;l&&l.url!=null&&navigation.navigate(l.url,{state:l.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),o!==null&&(o(),o=null)}}}function Bf(t){this._internalRoot=t}Sr.prototype.render=Bf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));var n=e.current,i=_t();D0(n,i,t,e,null,null)};Sr.prototype.unmount=Bf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;D0(t.current,2,null,t,null,null),mr(),e[ll]=null}};function Sr(t){this._internalRoot=t}Sr.prototype.unstable_scheduleHydration=function(t){if(t){var e=fm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xn.length&&e!==0&&e<Xn[n].priority;n++);Xn.splice(n,0,t),n===0&&k0(t)}};var Ip=Zg.version;if(Ip!=="19.2.3")throw Error(R(527,Ip,"19.2.3"));le.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=LS(e),t=t!==null?tm(t):null,t=t===null?null:t.stateNode,t};var oC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qs.isDisabled&&qs.supportsFiber)try{ps=qs.inject(oC),Ct=qs}catch{}}nr.createRoot=function(t,e){if(!Wg(t))throw Error(R(299));var n=!1,i="",o=by,l=Ry,s=Ny;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(o=e.onUncaughtError),e.onCaughtError!==void 0&&(l=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=M0(t,1,!1,null,null,n,i,null,o,l,s,O0),t[ll]=e.current,Of(t),new Bf(e)};nr.hydrateRoot=function(t,e,n){if(!Wg(t))throw Error(R(299));var i=!1,o="",l=by,s=Ry,a=Ny,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(l=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(a=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),e=M0(t,1,!0,e,n??null,i,o,c,l,s,a,O0),e.context=I0(null),n=e.current,i=_t(),i=Xc(i),o=ii(i),o.callback=null,oi(n,o,i),n=i,e.current.lanes=n,gs(e,n),cn(e),t[ll]=e.current,Of(t),new Sr(e)};nr.version="19.2.3";function P0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P0)}catch(t){console.error(t)}}P0(),Jg.exports=nr;var lC=Jg.exports;const sC=kg(lC),aC=(t,e,n,i)=>{var l,s,a,c;const o=[n,{code:e,...i||{}}];if((s=(l=t==null?void 0:t.services)==null?void 0:l.logger)!=null&&s.forward)return t.services.logger.forward(o,"warn","react-i18next::",!0);Di(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),(c=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&c.warn?t.services.logger.warn(...o):console!=null&&console.warn&&console.warn(...o)},Dp={},vc=(t,e,n,i)=>{Di(n)&&Dp[n]||(Di(n)&&(Dp[n]=new Date),aC(t,e,n,i))},H0=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Sc=(t,e,n)=>{t.loadNamespaces(e,H0(t,n))},Lp=(t,e,n,i)=>{if(Di(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Sc(t,n,i);n.forEach(o=>{t.options.ns.indexOf(o)<0&&t.options.ns.push(o)}),t.loadLanguages(e,H0(t,i))},rC=(t,e,n={})=>!e.languages||!e.languages.length?(vc(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(i,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!o(i.isLanguageChangingTo,t))return!1}}),Di=t=>typeof t=="string",uC=t=>typeof t=="object"&&t!==null,cC=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,fC={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},dC=t=>fC[t],pC=t=>t.replace(cC,dC);let Tc={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:pC};const hC=(t={})=>{Tc={...Tc,...t}},gC=()=>Tc;let G0;const mC=t=>{G0=t},yC=()=>G0,vC={type:"3rdParty",init(t){hC(t.options.react),mC(t)}},SC=w.createContext();class TC{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const EC=(t,e)=>{const n=w.useRef();return w.useEffect(()=>{n.current=t},[t,e]),n.current},V0=(t,e,n,i)=>t.getFixedT(e,n,i),CC=(t,e,n,i)=>w.useCallback(V0(t,e,n,i),[t,e,n,i]),Fi=(t,e={})=>{var C,x,N,_;const{i18n:n}=e,{i18n:i,defaultNS:o}=w.useContext(SC)||{},l=n||i||yC();if(l&&!l.reportNamespaces&&(l.reportNamespaces=new TC),!l){vc(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const I=(L,B)=>Di(B)?B:uC(B)&&Di(B.defaultValue)?B.defaultValue:Array.isArray(L)?L[L.length-1]:L,b=[I,{},!1];return b.t=I,b.i18n={},b.ready=!1,b}(C=l.options.react)!=null&&C.wait&&vc(l,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...gC(),...l.options.react,...e},{useSuspense:a,keyPrefix:c}=s;let f=o||((x=l.options)==null?void 0:x.defaultNS);f=Di(f)?[f]:f||["translation"],(_=(N=l.reportNamespaces).addUsedNamespaces)==null||_.call(N,f);const d=(l.isInitialized||l.initializedStoreOnce)&&f.every(I=>rC(I,l,s)),h=CC(l,e.lng||null,s.nsMode==="fallback"?f:f[0],c),p=()=>h,g=()=>V0(l,e.lng||null,s.nsMode==="fallback"?f:f[0],c),[v,E]=w.useState(p);let A=f.join();e.lng&&(A=`${e.lng}${A}`);const y=EC(A),m=w.useRef(!0);w.useEffect(()=>{const{bindI18n:I,bindI18nStore:b}=s;m.current=!0,!d&&!a&&(e.lng?Lp(l,e.lng,f,()=>{m.current&&E(g)}):Sc(l,f,()=>{m.current&&E(g)})),d&&y&&y!==A&&m.current&&E(g);const L=()=>{m.current&&E(g)};return I&&(l==null||l.on(I,L)),b&&(l==null||l.store.on(b,L)),()=>{m.current=!1,l&&I&&(I==null||I.split(" ").forEach(B=>l.off(B,L))),b&&l&&b.split(" ").forEach(B=>l.store.off(B,L))}},[l,A]),w.useEffect(()=>{m.current&&d&&E(p)},[l,c,d]);const T=[v,l,d];if(T.t=v,T.i18n=l,T.ready=d,d||!d&&!a)return T;throw new Promise(I=>{e.lng?Lp(l,e.lng,f,()=>I()):Sc(l,f,()=>I())})},qa=[{code:"auto",name:"languages.autoDetect"},{code:"en",name:"languages.english"},{code:"zh-TW",name:"languages.chineseTraditional"},{code:"zh-HK",name:"languages.chineseTraditionalHK"},{code:"zh-CN",name:"languages.chineseSimplified"},{code:"es",name:"languages.spanish"},{code:"ja",name:"languages.japanese"},{code:"fr",name:"languages.french"},{code:"de",name:"languages.german"},{code:"ko",name:"languages.korean"},{code:"ru",name:"languages.russian"},{code:"pt",name:"languages.portuguese"},{code:"it",name:"languages.italian"}],Fa=[{name:"Gemma-3n-E2B (3.04 GB)",value:"gemma-3n-E2B-it-int4-Web.litertlm",url:"https://huggingface.co/willopcbeta/Gemma-3n-Web/resolve/main/gemma-3n-E2B-it-int4-Web.litertlm"},{name:"Gemma-3n-E4B (4.28 GB)",value:"gemma-3n-E4B-it-int4-Web.litertlm",url:"https://huggingface.co/willopcbeta/Gemma-3n-Web/resolve/main/gemma-3n-E4B-it-int4-Web.litertlm"}],AC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})}),_C=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4a4 4 0 100 8 4 4 0 000-8zM8 21v-2a4 4 0 014-4h0a4 4 0 014 4v2"})}),xC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4a4 4 0 100 8 4 4 0 000-8zM6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"})}),wC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),bC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),RC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),NC=t=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),MC=t=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),IC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5h12M9 3v2m4 13-4-4-4 4M5 11h10a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2a2 2 0 012-2zM19 9l-2 2-2-2"})}),_s=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),DC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16V4m0 12L4 9m3 3l3-3m6 8V4m0 12l3-3m-3 3l-3-3"})}),LC=t=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 1l4 4-4 4"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 11V9a4 4 0 014-4h14"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 23l-4-4 4-4"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13v2a4 4 0 01-4 4H3"})]}),z0=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),B0=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),UC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),kC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825L10 14h- hkmet 3L13 10V3L5.125 10.125m13.75 3.75L15 10m-2.125 8.825L18 14h-3l-1.875 4.825zM1 1l22 22"})}),OC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),PC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.111 16.222c1.733-1.733 4.589-1.733 6.322 0M5.444 13.556c3.222-3.222 8.444-3.222 11.667 0M2.778 10.889c4.711-4.711 12.333-4.711 17.044 0"})}),HC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.111 16.222c1.733-1.733 4.589-1.733 6.322 0M5.444 13.556c.9-1.033 2.022-1.9 3.222-2.589m5.667.122c.711.389 1.356.844 1.933 1.389M2.778 10.889a14.838 14.838 0 012.667-3.022m11.6.022a14.833 14.833 0 012.667 3.022M1 1l22 22"})}),GC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 017.5 5.25h9a2.25 2.25 0 012.25 2.25v9a2.25 2.25 0 01-2.25 2.25h-9a2.25 2.25 0 01-2.25-2.25v-9z"})}),q0=({selectedLang:t,setSelectedLang:e,languages:n})=>{const{t:i}=Fi(),[o,l]=w.useState(!1),[s,a]=w.useState("bottom"),c=w.useRef(null),f=w.useRef(null),d=p=>{e(p),l(!1)};w.useEffect(()=>{if(o&&f.current){const p=f.current.getBoundingClientRect(),g=240;window.innerHeight-p.bottom<g&&p.top>g?a("top"):a("bottom")}},[o]),w.useEffect(()=>{const p=g=>{c.current&&!c.current.contains(g.target)&&l(!1)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]);const h=s==="top"?"bottom-full mb-2":"mt-2";return S.jsxs("div",{className:"relative",ref:c,children:[S.jsxs("button",{ref:f,onClick:()=>l(!o),className:"flex items-center space-x-2 text-lg font-semibold text-gray-700 hover:text-blue-600",children:[S.jsx("span",{children:i(t.name)}),S.jsx(RC,{className:`h-2.5 w-2.5 transition-transform ${o?"rotate-180":""}`})]}),o&&S.jsx("div",{className:`absolute z-10 ${h} w-56 bg-white rounded-md shadow-lg border border-gray-100 max-h-60 overflow-y-auto`,children:S.jsx("ul",{className:"py-1",children:n.map(p=>S.jsx("li",{children:S.jsx("button",{onClick:()=>d(p),className:`w-full text-left px-4 py-2 text-sm ${t.code===p.code?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-100"}`,children:i(p.name)})},p.code))})})]})},Up=2500,VC=({inputText:t,setInputText:e,sourceLang:n,setSourceLang:i,isLoading:o,onTranslate:l,onCancel:s,isRecording:a,onToggleRecording:c,onOpenCamera:f,onOpenSettings:d,isOnline:h,isOfflineModeEnabled:p,isOfflineModelReady:g,recordingCountdown:v})=>{const{t:E}=Fi(),A=T=>{T.target.value.length<=Up&&e(T.target.value)},y=!t.trim()||a||(p?!g:!h),m=()=>{o?s():l()};return S.jsxs("div",{className:"bg-white rounded-xl shadow-md h-full flex flex-col p-4",children:[S.jsxs("div",{className:"flex justify-between items-center mb-2",children:[S.jsx(q0,{selectedLang:n,setSelectedLang:i,languages:qa}),S.jsxs("div",{className:"flex items-center space-x-4 text-gray-500",children:[S.jsx("div",{title:E(h?"translationInput.online":"translationInput.offline"),children:h?S.jsx(PC,{className:"text-green-500"}):S.jsx(HC,{className:"text-gray-400"})}),S.jsx("button",{onClick:f,className:"hover:text-blue-500","aria-label":E("translationInput.cameraAriaLabel"),children:S.jsx(NC,{})}),S.jsx("button",{onClick:d,className:"hover:text-blue-500","aria-label":E("translationInput.settingsAriaLabel"),children:S.jsx(MC,{})})]})]}),S.jsxs("div",{className:"relative border border-gray-200 rounded-lg flex-grow",children:[S.jsx("textarea",{value:t,onChange:A,placeholder:E(a?"translationInput.placeholderListening":"translationInput.placeholderEnterText"),className:"w-full h-full p-4 pr-12 text-lg border-none focus:ring-0 resize-none bg-transparent",disabled:a}),t&&!a&&S.jsx("button",{onClick:()=>e(""),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600","aria-label":E("translationInput.clearText"),children:S.jsx(_s,{})})]}),S.jsxs("div",{className:"flex justify-between items-center mt-2",children:[S.jsx("p",{className:"text-sm text-gray-400 w-20",children:a&&p&&v!==null?S.jsxs("span",{className:"text-red-500 font-semibold text-base tabular-nums",children:[E("translationInput.countdownPrefix"),String(v).padStart(2,"0")]}):`${t.length}/${Up}`}),S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("button",{onClick:c,className:`p-3 rounded-lg flex items-center justify-center transition-colors ${a?"bg-red-500 text-white animate-pulse":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,"aria-label":E(a?"translationInput.recordingStop":"translationInput.recordingStart"),children:S.jsx(z0,{})}),S.jsx("button",{onClick:m,disabled:!o&&y,title:E(o?"translationInput.cancelTranslation":p?"translationInput.translateOffline":"translationInput.translate"),className:`text-white rounded-lg p-3 flex items-center justify-center transition-colors ${o?"bg-red-500 hover:bg-red-600":"bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 disabled:cursor-not-allowed"}`,children:o?S.jsx(GC,{}):S.jsx(IC,{})})]})]})]})},zC=({translatedText:t,targetLang:e,setTargetLang:n,isLoading:i,onSpeak:o,onSwapLanguages:l,onOpenHistory:s,onClearText:a,isOfflineModeEnabled:c,isOfflineModelInitializing:f,isOfflineModelReady:d,offlineModelName:h,isSpeaking:p,speakingGender:g,onlineProvider:v,isOfflineTtsEnabled:E,isAstRecording:A,onToggleAstRecording:y})=>{const{t:m}=Fi(),[T,C]=w.useState(!1),x=()=>{t&&navigator.clipboard.writeText(t)},N=()=>{C(I=>!I)},_=()=>{if(!c){const L=v.charAt(0).toUpperCase()+v.slice(1);return m("translationOutput.modeOnline",{provider:L})}const I=Fa.find(L=>L.value===h),b=I?I.name.split(" ")[0]:"";return f?m("translationOutput.modeOfflineInitializing",{modelName:b}):d?m("translationOutput.modeOfflineReady",{modelName:b}):h?m("translationOutput.modeOfflineNotReady",{modelName:b}):m("translationOutput.modeOfflineNoModel")};return S.jsxs("div",{className:`bg-white rounded-xl shadow-md p-4 h-full flex flex-col transition-transform duration-500 ease-in-out ${T?"rotate-180":""}`,children:[S.jsxs("div",{className:"flex-shrink-0",children:[S.jsxs("div",{className:"flex justify-between items-center mb-1",children:[S.jsx(q0,{selectedLang:e,setSelectedLang:n,languages:qa.filter(I=>I.code!=="auto")}),S.jsx("button",{onClick:l,className:"p-2 rounded-full hover:bg-gray-100 transition-colors text-gray-500",children:S.jsx(DC,{})}),S.jsxs("div",{className:"flex items-center space-x-4 text-gray-500",children:[S.jsx("button",{onClick:N,className:"hover:text-blue-500","aria-label":m("translationOutput.flipScreenAriaLabel"),children:S.jsx(LC,{})}),S.jsx("button",{onClick:x,disabled:!t,className:"hover:text-blue-500 disabled:text-gray-300 disabled:cursor-not-allowed","aria-label":m("translationOutput.copyAriaLabel"),children:S.jsx(wC,{})}),S.jsx("button",{onClick:s,className:"hover:text-blue-500","aria-label":m("translationOutput.historyAriaLabel"),children:S.jsx(bC,{})}),S.jsx("button",{onClick:a,disabled:!t,className:"hover:text-red-500 disabled:text-gray-300 disabled:cursor-not-allowed","aria-label":m("translationOutput.clearAriaLabel"),children:S.jsx(_s,{})})]})]}),S.jsx("div",{className:"text-right text-xs text-gray-400 mb-2 px-1",children:_()})]}),S.jsx("div",{className:"text-2xl text-gray-800 break-words flex-grow overflow-y-auto min-h-0 whitespace-pre-wrap",children:i&&!t?S.jsxs("div",{className:"space-y-2 animate-pulse",children:[S.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),S.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2"})]}):t||S.jsx("span",{className:"text-gray-400",children:m("translationOutput.placeholder")})}),S.jsxs("div",{className:"flex items-center justify-start mt-4 space-x-2 flex-shrink-0",children:[E?S.jsx("button",{onClick:()=>o("female"),disabled:!t,className:`text-white rounded-lg p-3 flex items-center justify-center disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors ${p?"bg-indigo-600 animate-pulse":"bg-indigo-500 hover:bg-indigo-600"}`,"aria-label":m(p?"translationOutput.speakStop":"translationOutput.speakCustomVoice"),children:S.jsx(AC,{})}):S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>o("female"),disabled:!t,className:`text-white rounded-lg p-3 flex items-center justify-center disabled:bg-pink-200 disabled:cursor-not-allowed transition-colors ${p&&g==="female"?"bg-pink-600 animate-pulse":"bg-pink-400 hover:bg-pink-500"}`,"aria-label":m(p&&g==="female"?"translationOutput.speakStop":"translationOutput.speakFemale"),children:S.jsx(_C,{})}),S.jsx("button",{onClick:()=>o("male"),disabled:!t,className:`text-white rounded-lg p-3 flex items-center justify-center disabled:bg-blue-300 disabled:cursor-not-allowed transition-colors ${p&&g==="male"?"bg-blue-700 animate-pulse":"bg-blue-500 hover:bg-blue-600"}`,"aria-label":m(p&&g==="male"?"translationOutput.speakStop":"translationOutput.speakMale"),children:S.jsx(xC,{})})]}),S.jsx("button",{onClick:y,disabled:i,className:`text-white rounded-lg p-3 flex items-center justify-center transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed ${A?"bg-red-500 animate-pulse":"bg-indigo-500 hover:bg-indigo-600"}`,"aria-label":m(A?"translationOutput.astStop":"translationOutput.astStart"),title:m("translationOutput.astTitle"),children:S.jsx(z0,{})})]})]})},BC=({onClose:t,onImageCaptured:e})=>{const{t:n}=Fi(),i=w.useRef(null),o=w.useRef(null),l=w.useRef(null),[s,a]=w.useState(null),[c,f]=w.useState(null),[d,h]=w.useState(!1),[p,g]=w.useState(!1),[v,E]=w.useState(!1),[A,y]=w.useState(1),[m,T]=w.useState(!1),[C,x]=w.useState(1),[N,_]=w.useState(1),[I,b]=w.useState(.1);w.useEffect(()=>{let J=null;return(async()=>{try{J=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),a(J),i.current&&(i.current.srcObject=J);const O=J.getVideoTracks()[0].getCapabilities();O.torch&&E(!0),O.zoom&&(T(!0),x(O.zoom.min),_(O.zoom.max),b(O.zoom.step||.1),y(O.zoom.min))}catch(z){console.error("Error accessing camera:",z),f(n("camera.errorAccess"))}})(),()=>{J&&J.getTracks().forEach(z=>z.stop())}},[n]);const L=async()=>{if(!(!i.current||!o.current||d)){h(!0),f(null);try{const J=i.current,M=o.current;M.width=J.videoWidth,M.height=J.videoHeight;const z=M.getContext("2d");if(!z)throw new Error("Could not get canvas context.");z.drawImage(J,0,0,M.width,M.height);const O=M.toDataURL("image/jpeg",.9);e(O)}catch(J){const M=J instanceof Error?J.message:"An unknown error occurred.";f(n("camera.errorCapture",{message:M})),h(!1)}}},B=async J=>{var z;const M=(z=J.target.files)==null?void 0:z[0];if(!(!M||d)){h(!0),f(null);try{const O=new FileReader;O.onload=Q=>{var xe;const ne=(xe=Q.target)==null?void 0:xe.result;if(ne)e(ne);else throw new Error("Could not read the selected file.")},O.onerror=()=>{throw new Error("Error reading the file.")},O.readAsDataURL(M)}catch(O){const Q=O instanceof Error?O.message:"An unknown error occurred.";f(n("camera.errorLoad",{message:Q})),h(!1)}}},ce=()=>{var J;(J=l.current)==null||J.click()},U=async()=>{if(!s||!v)return;const J=s.getVideoTracks()[0];try{await J.applyConstraints({advanced:[{torch:!p}]}),g(!p)}catch(M){console.error("Failed to toggle torch:",M)}},pe=async J=>{if(!s||!m)return;const M=parseFloat(J.target.value);y(M);const z=s.getVideoTracks()[0];try{await z.applyConstraints({advanced:[{zoom:M}]})}catch(O){console.error("Failed to apply zoom:",O)}};return S.jsx("div",{className:"fixed inset-0 bg-black z-50 flex flex-col items-center justify-center",role:"dialog","aria-modal":"true","aria-labelledby":"camera-view-title",children:S.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[S.jsx("video",{ref:i,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),S.jsx("canvas",{ref:o,className:"hidden"}),S.jsx("input",{type:"file",accept:"image/*",ref:l,onChange:B,className:"hidden"}),S.jsxs("div",{className:"absolute inset-0 flex flex-col justify-between items-center p-4",children:[S.jsxs("div",{className:"w-full flex justify-end",children:[S.jsx("h2",{id:"camera-view-title",className:"sr-only",children:n("camera.title")}),S.jsx("button",{onClick:t,className:"text-white bg-black bg-opacity-50 rounded-full p-2","aria-label":n("camera.closeAriaLabel"),children:S.jsx(_s,{className:"w-8 h-8"})})]}),c&&S.jsx("div",{className:"bg-red-500 text-white p-3 rounded-md text-center transition-opacity",role:"alert",children:c}),S.jsxs("div",{className:"w-full flex flex-col items-center pb-6 space-y-4",children:[m&&S.jsx("div",{className:"w-full max-w-xs flex items-center justify-center bg-black/30 p-2 rounded-full",children:S.jsx("input",{type:"range",min:C,max:N,step:I,value:A,onChange:pe,className:"w-full h-2 bg-white/50 rounded-lg appearance-none cursor-pointer","aria-label":n("camera.zoomAriaLabel")})}),S.jsxs("div",{className:"w-full flex justify-around items-center",children:[S.jsx("button",{onClick:ce,className:"text-white","aria-label":n("camera.galleryAriaLabel"),children:S.jsx(OC,{className:"w-10 h-10"})}),S.jsx("button",{onClick:L,disabled:d,className:"w-20 h-20 bg-white/30 rounded-full flex items-center justify-center transition-all hover:bg-white/50 disabled:opacity-50 ring-4 ring-white/50 focus:ring-white","aria-label":n("camera.captureAriaLabel"),children:d?S.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white",role:"status","aria-label":n("camera.processingAriaLabel")}):S.jsx("div",{className:"w-16 h-16 bg-white rounded-full shadow-lg"})}),v?S.jsx("button",{onClick:U,className:"text-white","aria-label":n(p?"camera.flashOnAriaLabel":"camera.flashOffAriaLabel"),children:p?S.jsx(UC,{className:"w-10 h-10"}):S.jsx(kC,{className:"w-10 h-10"})}):S.jsx("div",{className:"w-10 h-10"})]})]})]})]})})},qC=({isOpen:t,onClose:e,onSave:n,currentApiKey:i,currentModelName:o,currentOnlineProvider:l,currentOpenaiApiUrl:s,currentHuggingFaceApiKey:a,currentOfflineModelName:c,currentIsOfflineModeEnabled:f,currentIsTwoStepJpCnEnabled:d,downloadProgress:h,onStartDownload:p,onResumeDownload:g,onPauseDownload:v,onDeleteModel:E,isOfflineModelInitializing:A,voices:y,targetLang:m,currentIsOfflineTtsEnabled:T,currentOfflineTtsVoiceURI:C,currentOfflineTtsRate:x,currentOfflineTtsPitch:N,currentOfflineMaxTokens:_,currentOfflineTopK:I,currentOfflineTemperature:b,currentOfflineRandomSeed:L,currentOfflineSupportAudio:B,currentOfflineMaxNumImages:ce})=>{const{t:U,i18n:pe}=Fi(),[J,M]=w.useState("online"),[z,O]=w.useState(i),[Q,ne]=w.useState(o),[xe,Bt]=w.useState(l),[$e,rt]=w.useState(s),[Wt,Yi]=w.useState(a),[yi,vi]=w.useState(c),[fn,Ki]=w.useState(f),[$i,Xi]=w.useState(d),[Qi,Zi]=w.useState(T),[dn,Si]=w.useState(C),[Ne,Wi]=w.useState(x),[gl,ji]=w.useState(N),[jt,Gn]=w.useState([]),[ml,pn]=w.useState(_),[eo,to]=w.useState(I),[no,io]=w.useState(b),[oo,lo]=w.useState(L),[so,ao]=w.useState(B),[ro,uo]=w.useState(ce);if(w.useEffect(()=>{t&&(O(i),ne(o),Bt(l),rt(s),Yi(a),vi(c),Ki(f),Xi(d),Zi(T),Si(C),Wi(x),ji(N),pn(_),to(I),io(b),lo(L),ao(B),uo(ce))},[t,i,o,l,s,a,c,f,d,T,C,x,N,_,I,b,L,B,ce]),w.useEffect(()=>{var k;if(t&&y.length>0&&m){const H=y.filter(Oe=>Oe.lang.startsWith(m.code));Gn(H),dn&&!H.some(Oe=>Oe.voiceURI===dn)&&Si(((k=H[0])==null?void 0:k.voiceURI)||"")}},[t,y,m,dn]),!t)return null;const yl=()=>{n(z,Q,Wt,yi,fn,xe,$e,Qi,dn,Ne,gl,$i,ml,eo,no,oo,so,ro),e()},xs=()=>{O(""),ne("gemini-2.5-flash"),Bt("gemini"),rt(""),Yi(""),vi(""),Ki(!1),Xi(!1),Zi(!1),Si(""),Wi(1),ji(1),pn(4096),to(40),io(.3),lo(101),ao(!1),uo(1),Fa.forEach(k=>k.value&&E(k.value)),n("","gemini-2.5-flash","","",!1,"gemini","",!1,"",1,1,!1,4096,40,.3,101,!1,1)},vl=k=>{vi(k.target.value)},Vn=({tabName:k,label:H})=>S.jsx("button",{onClick:()=>M(k),className:`px-4 py-2 text-sm font-medium rounded-md focus:outline-none ${J===k?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,"aria-selected":J===k,role:"tab",children:H}),co=(k,H=2)=>{if(!k||k===0)return"0 Bytes";const Oe=1024,We=H<0?0:H,je=["Bytes","KB","MB","GB","TB"],et=Math.floor(Math.log(k)/Math.log(Oe));return parseFloat((k/Math.pow(Oe,et)).toFixed(We))+" "+je[et]},ws=k=>{const H=h[k.value]||{status:"not_started",percent:0,downloaded:0,total:0},Oe=A&&yi===k.value,We=({onClick:Rt,text:Nt,className:zn="bg-blue-500 hover:bg-blue-600",disabled:Bn})=>S.jsx("button",{onClick:Rt,disabled:Bn,className:`text-white text-xs font-semibold py-1 px-3 rounded-md transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed ${zn}`,children:Nt}),je=Oe||H.status==="consolidating",et=H.status,bt=U(`common.status.${et}`);return S.jsxs("div",{className:"flex flex-col space-y-2 p-3 border border-gray-200 rounded-lg bg-gray-50",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsxs("div",{className:"flex items-center",children:[S.jsx("input",{type:"radio",id:`model-${k.value}`,name:"offline-model-selection",value:k.value,checked:yi===k.value,onChange:vl,disabled:H.status!=="completed"||je,className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500 disabled:cursor-not-allowed"}),S.jsx("label",{htmlFor:`model-${k.value}`,className:"ml-2 text-sm font-medium text-gray-800",children:k.name})]}),S.jsxs("div",{className:"flex items-center space-x-2",children:[H.status==="not_started"&&S.jsx(We,{onClick:()=>p(k.value,k.url),text:U("settings.download")}),H.status==="downloading"&&S.jsx(We,{onClick:()=>v(k.value),text:U("settings.pause"),className:"bg-yellow-500 hover:bg-yellow-600"}),H.status==="paused"&&S.jsx(We,{onClick:()=>g(k.value,k.url),text:U("settings.resume")}),H.status==="error"&&S.jsx(We,{onClick:()=>g(k.value,k.url),text:U("settings.retry")}),H.status!=="not_started"&&H.status!=="downloading"&&H.status!=="consolidating"&&S.jsx("button",{onClick:()=>E(k.value),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-full","aria-label":U("settings.deleteModelAriaLabel",{modelName:k.name}),children:S.jsx(B0,{className:"w-4 h-4"})})]})]}),(H.status!=="not_started"||je)&&S.jsxs("div",{children:[S.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 relative overflow-hidden",children:S.jsx("div",{className:`h-2 rounded-full ${je?"bg-green-400 w-full animate-pulse":"bg-blue-500"}`,style:{width:`${H.percent}%`}})}),S.jsxs("div",{className:"text-xs text-gray-500 mt-1 flex justify-between",children:[S.jsx("span",{children:bt}),H.status==="downloading"&&!je&&S.jsxs("span",{children:[co(H.downloaded)," / ",co(H.total)," (",Math.round(H.percent),"%)"]})]})]}),H.status==="error"&&S.jsx("p",{className:"text-xs text-red-600 mt-1",children:U("settings.statusError",{error:H.error})})]})},hn=({id:k,label:H,value:Oe,onChange:We,min:je,max:et,step:bt})=>S.jsxs("div",{children:[S.jsxs("label",{htmlFor:k,className:"flex justify-between items-center text-sm font-medium text-gray-700 mb-1",children:[S.jsx("span",{children:H}),S.jsx("span",{className:"text-gray-500 font-normal",children:Oe})]}),S.jsx("input",{type:"range",id:k,min:je,max:et,step:bt,value:Oe,onChange:We,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),Xe=({id:k,isEnabled:H,setIsEnabled:Oe,title:We,description:je})=>S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("label",{htmlFor:k,className:"text-sm font-medium text-gray-700",children:[We,S.jsx("span",{className:"block text-xs text-gray-500",children:je})]}),S.jsx("button",{id:k,onClick:()=>Oe(!H),className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${H?"bg-blue-600":"bg-gray-200"}`,role:"switch","aria-checked":H,children:S.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${H?"translate-x-6":"translate-x-1"}`})})]});return S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"settings-title",children:S.jsxs("div",{className:"bg-white rounded-lg shadow-xl h-full w-full max-w-md overflow-auto",children:[S.jsxs("div",{className:"p-6 border-b border-gray-200",children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsx("h2",{id:"settings-title",className:"text-xl font-semibold text-gray-800",children:U("settings.title")}),S.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600","aria-label":U("settings.closeAriaLabel"),children:S.jsx(_s,{})})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"language-select",className:"block text-sm font-medium text-gray-700 mb-1",children:U("settings.languageLabel")}),S.jsxs("select",{id:"language-select",value:pe.language,onChange:k=>pe.changeLanguage(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[S.jsx("option",{value:"en",children:"English"}),S.jsx("option",{value:"zh-TW",children:""})]})]})]}),S.jsx("div",{className:"border-b border-gray-200",children:S.jsxs("nav",{className:"flex space-x-2 p-2",role:"tablist","aria-label":"Settings tabs",children:[S.jsx(Vn,{tabName:"online",label:U("settings.tabOnline")}),S.jsx(Vn,{tabName:"offline",label:U("settings.tabOffline")}),S.jsx(Vn,{tabName:"tts",label:U("settings.tabTts")}),S.jsx(Vn,{tabName:"offline-params",label:U("settings.tabOfflineParams")})]})}),S.jsxs("div",{className:"p-6 space-y-6 min-h-[350px]",children:[J==="online"&&S.jsxs("div",{role:"tabpanel",id:"online-settings","aria-labelledby":"online-tab",className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:U("settings.providerLabel")}),S.jsxs("div",{className:"flex space-x-4",children:[S.jsxs("div",{className:"flex items-center",children:[S.jsx("input",{id:"provider-gemini",name:"online-provider",type:"radio",value:"gemini",checked:xe==="gemini",onChange:k=>Bt(k.target.value),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),S.jsx("label",{htmlFor:"provider-gemini",className:"ml-2 block text-sm text-gray-900",children:U("settings.providerGemini")})]}),S.jsxs("div",{className:"flex items-center",children:[S.jsx("input",{id:"provider-openai",name:"online-provider",type:"radio",value:"openai",checked:xe==="openai",onChange:k=>Bt(k.target.value),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),S.jsx("label",{htmlFor:"provider-openai",className:"ml-2 block text-sm text-gray-900",children:U("settings.providerOpenAI")})]})]})]}),xe==="openai"&&S.jsxs("div",{children:[S.jsx("label",{htmlFor:"openai-api-url",className:"block text-sm font-medium text-gray-700 mb-1",children:U("settings.openaiUrlLabel")}),S.jsx("input",{type:"text",id:"openai-api-url",value:$e,onChange:k=>rt(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:U("settings.openaiUrlPlaceholder")})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"api-key",className:"block text-sm font-medium text-gray-700 mb-1",children:U("settings.apiKeyLabel")}),S.jsx("input",{type:"password",id:"api-key",value:z,onChange:k=>O(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:U("settings.apiKeyPlaceholder")})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"model-name",className:"block text-sm font-medium text-gray-700 mb-1",children:U("settings.modelNameLabel")}),S.jsx("input",{type:"text",id:"model-name",value:Q,onChange:k=>ne(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white",placeholder:U(xe==="gemini"?"settings.modelNameGeminiPlaceholder":"settings.modelNameOpenAIPlaceholder")})]})]}),J==="offline"&&S.jsxs("div",{role:"tabpanel",id:"offline-settings","aria-labelledby":"offline-tab",className:"space-y-6",children:[S.jsxs("div",{className:"space-y-3",children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700",children:U("settings.manageModelsLabel")}),Fa.filter(k=>k.value).map(k=>S.jsx("div",{children:ws(k)},k.value))]}),S.jsxs("div",{className:"space-y-4 pt-2",children:[S.jsx(Xe,{id:"offline-toggle",isEnabled:fn,setIsEnabled:Ki,title:U("settings.enableOfflineLabel"),description:U("settings.enableOfflineDescription")}),S.jsx(Xe,{id:"twostep-toggle",isEnabled:$i,setIsEnabled:Xi,title:U("settings.enableTwoStepLabel"),description:U("settings.enableTwoStepDescription")})]})]}),J==="tts"&&S.jsxs("div",{role:"tabpanel",id:"tts-settings","aria-labelledby":"tts-tab",className:"space-y-6",children:[S.jsx(Xe,{id:"tts-toggle",isEnabled:Qi,setIsEnabled:Zi,title:U("settings.enableCustomTtsLabel"),description:U("settings.enableCustomTtsDescription")}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"voice-select",className:"block text-sm font-medium text-gray-700 mb-1",children:U("settings.voiceLabel")}),S.jsx("select",{id:"voice-select",value:dn,onChange:k=>Si(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100",disabled:jt.length===0,children:jt.length>0?jt.map(k=>S.jsxs("option",{value:k.voiceURI,children:[k.name," (",k.lang,")"]},k.voiceURI)):S.jsx("option",{value:"",children:U("settings.voicePlaceholder",{languageName:U(m.name)})})})]}),S.jsx(hn,{id:"rate-slider",label:U("settings.rateLabel"),value:Ne,onChange:k=>Wi(parseFloat(k.target.value)),min:.5,max:2,step:.1}),S.jsx(hn,{id:"pitch-slider",label:U("settings.pitchLabel"),value:gl,onChange:k=>ji(parseFloat(k.target.value)),min:0,max:2,step:.1})]}),J==="offline-params"&&S.jsxs("div",{role:"tabpanel",id:"offline-params-settings","aria-labelledby":"offline-params-tab",className:"space-y-6",children:[S.jsx("p",{className:"text-sm text-gray-500",children:U("settings.offlineParamsDescription")}),S.jsx(hn,{id:"max-tokens-slider",label:U("settings.maxTokensLabel"),value:ml,onChange:k=>pn(parseInt(k.target.value,10)),min:256,max:8192,step:256}),S.jsx(hn,{id:"top-k-slider",label:U("settings.topKLabel"),value:eo,onChange:k=>to(parseInt(k.target.value,10)),min:1,max:100,step:1}),S.jsx(hn,{id:"temperature-slider",label:U("settings.temperatureLabel"),value:no,onChange:k=>io(parseFloat(k.target.value)),min:0,max:1,step:.05}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"random-seed",className:"block text-sm font-medium text-gray-700 mb-1",children:U("settings.randomSeedLabel")}),S.jsx("input",{type:"number",id:"random-seed",value:oo,onChange:k=>lo(parseInt(k.target.value,10)),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),S.jsx(Xe,{id:"support-audio-toggle",isEnabled:so,setIsEnabled:ao,title:U("settings.supportAudioLabel"),description:U("settings.supportAudioDescription")}),S.jsx(Xe,{id:"max-num-images-toggle",isEnabled:ro===1,setIsEnabled:k=>uo(k?1:0),title:U("settings.maxNumImagesLabel"),description:U("settings.maxNumImagesDescription")})]})]}),S.jsxs("div",{className:"p-6 bg-gray-50 rounded-b-lg flex justify-between items-center",children:[S.jsx("button",{onClick:xs,className:"text-red-600 font-medium py-2 px-4 rounded-lg hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors","aria-label":U("history.clearAriaLabel"),children:U("settings.clearSettingsButton")}),S.jsx("button",{onClick:yl,className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:U("settings.saveSettingsButton")})]})]})})},FC=({isOpen:t,onClose:e,history:n,onSelectHistory:i,onClearHistory:o})=>{const{t:l}=Fi();return t?S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"history-title",children:S.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md h-[70vh] flex flex-col",children:[S.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center",children:[S.jsx("h2",{id:"history-title",className:"text-xl font-semibold text-gray-800",children:l("history.title")}),S.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600","aria-label":l("history.closeAriaLabel"),children:S.jsx(_s,{})})]}),S.jsx("div",{className:"p-2 flex-grow overflow-y-auto",children:n.length===0?S.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:l("history.empty")}):S.jsx("ul",{children:n.map(s=>S.jsx("li",{className:"border-b border-gray-200 last:border-b-0",children:S.jsxs("button",{onClick:()=>i(s),className:"w-full text-left p-4 hover:bg-gray-50 transition-colors","aria-label":l("history.selectAriaLabel",{sourceLang:l(s.sourceLang.name),targetLang:l(s.targetLang.name)}),children:[S.jsxs("div",{className:"mb-2",children:[S.jsx("span",{className:"text-xs font-semibold text-gray-500 bg-gray-100 py-1 px-2 rounded-full",children:l(s.sourceLang.name)}),S.jsx("p",{className:"text-gray-800 mt-1 truncate",children:s.inputText})]}),S.jsxs("div",{children:[S.jsx("span",{className:"text-xs font-semibold text-blue-500 bg-blue-50 py-1 px-2 rounded-full",children:l(s.targetLang.name)}),S.jsx("p",{className:"text-blue-700 font-medium mt-1 truncate",children:s.translatedText})]})]})},s.id))})}),n.length>0&&S.jsx("div",{className:"p-4 bg-gray-50 rounded-b-lg flex justify-end items-center",children:S.jsxs("button",{onClick:o,className:"flex items-center space-x-2 text-red-600 font-medium py-2 px-4 rounded-lg hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors","aria-label":l("history.clearAriaLabel"),children:[S.jsx(B0,{className:"h-5 w-5"}),S.jsx("span",{children:l("history.clearButton")})]})})]})}):null};var JC={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let YC,KC;function $C(){return{geminiUrl:YC,vertexUrl:KC}}function XC(t,e,n,i){var o,l;if(!(t!=null&&t.baseUrl)){const s=$C();return e?(o=s.vertexUrl)!==null&&o!==void 0?o:n:(l=s.geminiUrl)!==null&&l!==void 0?l:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pn{}function V(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const l=e[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function u(t,e,n){for(let l=0;l<e.length-1;l++){const s=e[l];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const c=t[a];if(Array.isArray(n))for(let f=0;f<c.length;f++){const d=c[f];u(d,e.slice(l+1),n[f])}else for(const f of c)u(f,e.slice(l+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const c=t[a];u(c[0],e.slice(l+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function r(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const o=e[i];if(o.endsWith("[]")){const l=o.slice(0,-2);if(l in t){const s=t[l];return Array.isArray(s)?s.map(a=>r(a,e.slice(i+1),n)):n}else return n}else t=t[o]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function QC(t,e){for(const[n,i]of Object.entries(e)){const o=n.split("."),l=i.split("."),s=new Set;let a=-1;for(let c=0;c<o.length;c++)if(o[c]==="*"){a=c;break}if(a!==-1&&l.length>a)for(let c=a;c<l.length;c++){const f=l[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&s.add(f)}Ec(t,o,l,0,s)}}function Ec(t,e,n,i,o){if(i>=e.length||typeof t!="object"||t===null)return;const l=e[i];if(l.endsWith("[]")){const s=l.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(const c of a[s])Ec(c,e,n,i+1,o)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,a=Object.keys(s).filter(f=>!f.startsWith("_")&&!o.has(f)),c={};for(const f of a)c[f]=s[f];for(const[f,d]of Object.entries(c)){const h=[];for(const p of n.slice(i))p==="*"?h.push(f):h.push(p);u(s,h,d)}for(const f of a)delete s[f]}}else{const s=t;l in s&&Ec(s[l],e,n,i+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qf(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZC(t){const e={},n=r(t,["operationName"]);n!=null&&u(e,["operationName"],n);const i=r(t,["resourceName"]);return i!=null&&u(e,["_url","resourceName"],i),e}function WC(t){const e={},n=r(t,["name"]);n!=null&&u(e,["name"],n);const i=r(t,["metadata"]);i!=null&&u(e,["metadata"],i);const o=r(t,["done"]);o!=null&&u(e,["done"],o);const l=r(t,["error"]);l!=null&&u(e,["error"],l);const s=r(t,["response","generateVideoResponse"]);return s!=null&&u(e,["response"],eA(s)),e}function jC(t){const e={},n=r(t,["name"]);n!=null&&u(e,["name"],n);const i=r(t,["metadata"]);i!=null&&u(e,["metadata"],i);const o=r(t,["done"]);o!=null&&u(e,["done"],o);const l=r(t,["error"]);l!=null&&u(e,["error"],l);const s=r(t,["response"]);return s!=null&&u(e,["response"],tA(s)),e}function eA(t){const e={},n=r(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>nA(s))),u(e,["generatedVideos"],l)}const i=r(t,["raiMediaFilteredCount"]);i!=null&&u(e,["raiMediaFilteredCount"],i);const o=r(t,["raiMediaFilteredReasons"]);return o!=null&&u(e,["raiMediaFilteredReasons"],o),e}function tA(t){const e={},n=r(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>iA(s))),u(e,["generatedVideos"],l)}const i=r(t,["raiMediaFilteredCount"]);i!=null&&u(e,["raiMediaFilteredCount"],i);const o=r(t,["raiMediaFilteredReasons"]);return o!=null&&u(e,["raiMediaFilteredReasons"],o),e}function nA(t){const e={},n=r(t,["video"]);return n!=null&&u(e,["video"],uA(n)),e}function iA(t){const e={},n=r(t,["_self"]);return n!=null&&u(e,["video"],cA(n)),e}function oA(t){const e={},n=r(t,["operationName"]);return n!=null&&u(e,["_url","operationName"],n),e}function lA(t){const e={},n=r(t,["operationName"]);return n!=null&&u(e,["_url","operationName"],n),e}function sA(t){const e={},n=r(t,["name"]);n!=null&&u(e,["name"],n);const i=r(t,["metadata"]);i!=null&&u(e,["metadata"],i);const o=r(t,["done"]);o!=null&&u(e,["done"],o);const l=r(t,["error"]);l!=null&&u(e,["error"],l);const s=r(t,["response"]);return s!=null&&u(e,["response"],aA(s)),e}function aA(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=r(t,["parent"]);i!=null&&u(e,["parent"],i);const o=r(t,["documentName"]);return o!=null&&u(e,["documentName"],o),e}function F0(t){const e={},n=r(t,["name"]);n!=null&&u(e,["name"],n);const i=r(t,["metadata"]);i!=null&&u(e,["metadata"],i);const o=r(t,["done"]);o!=null&&u(e,["done"],o);const l=r(t,["error"]);l!=null&&u(e,["error"],l);const s=r(t,["response"]);return s!=null&&u(e,["response"],rA(s)),e}function rA(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=r(t,["parent"]);i!=null&&u(e,["parent"],i);const o=r(t,["documentName"]);return o!=null&&u(e,["documentName"],o),e}function uA(t){const e={},n=r(t,["uri"]);n!=null&&u(e,["uri"],n);const i=r(t,["encodedVideo"]);i!=null&&u(e,["videoBytes"],qf(i));const o=r(t,["encoding"]);return o!=null&&u(e,["mimeType"],o),e}function cA(t){const e={},n=r(t,["gcsUri"]);n!=null&&u(e,["uri"],n);const i=r(t,["bytesBase64Encoded"]);i!=null&&u(e,["videoBytes"],qf(i));const o=r(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var kp;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(kp||(kp={}));var Op;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Op||(Op={}));var Pp;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Pp||(Pp={}));var Kt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Kt||(Kt={}));var Hp;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Hp||(Hp={}));var Gp;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Gp||(Gp={}));var Vp;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Vp||(Vp={}));var zp;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(zp||(zp={}));var Bp;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Bp||(Bp={}));var qp;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(qp||(qp={}));var Fp;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Fp||(Fp={}));var Jp;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Jp||(Jp={}));var Yp;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Yp||(Yp={}));var Kp;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Kp||(Kp={}));var $p;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})($p||($p={}));var Xp;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Xp||(Xp={}));var Qp;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Qp||(Qp={}));var Zp;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Zp||(Zp={}));var Wp;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Wp||(Wp={}));var Ja;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Ja||(Ja={}));var jp;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(jp||(jp={}));var eh;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(eh||(eh={}));var th;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(th||(th={}));var Cc;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Cc||(Cc={}));var nh;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(nh||(nh={}));var ih;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ih||(ih={}));var oh;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(oh||(oh={}));var lh;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(lh||(lh={}));var sh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(sh||(sh={}));var ah;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ah||(ah={}));var rh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(rh||(rh={}));var uh;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(uh||(uh={}));var ch;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(ch||(ch={}));var fh;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(fh||(fh={}));var dh;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(dh||(dh={}));var ph;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ph||(ph={}));var hh;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(hh||(hh={}));var gh;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(gh||(gh={}));var mh;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(mh||(mh={}));var yh;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(yh||(yh={}));var vh;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(vh||(vh={}));var Sh;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Sh||(Sh={}));var Th;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Th||(Th={}));var Eh;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Eh||(Eh={}));var Ch;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Ch||(Ch={}));var Ah;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Ah||(Ah={}));var _h;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(_h||(_h={}));var xh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(xh||(xh={}));var wh;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(wh||(wh={}));var bh;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(bh||(bh={}));var Rh;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Rh||(Rh={}));var Nh;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Nh||(Nh={}));var Mh;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Mh||(Mh={}));var Ih;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ih||(Ih={}));var Dh;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Dh||(Dh={}));var Oo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Oo||(Oo={}));class Ac{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class bl{get text(){var e,n,i,o,l,s,a,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const h=[];for(const p of(c=(a=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&c!==void 0?c:[]){for(const[g,v]of Object.entries(p))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(v!==null||v!==void 0)&&h.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;d=!0,f+=p.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var e,n,i,o,l,s,a,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const d=[];for(const h of(c=(a=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&c!==void 0?c:[]){for(const[p,g]of Object.entries(h))p!=="inlineData"&&(g!==null||g!==void 0)&&d.push(p);h.inlineData&&typeof h.inlineData.data=="string"&&(f+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,i,o,l,s,a,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(a=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,i,o,l,s,a,c,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(a=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,i,o,l,s,a,c,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(a=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.output}}class Lh{}class Uh{}class fA{}class dA{}class pA{}class hA{}class kh{}class Oh{}class Ph{}class gA{}class Ya{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Ya;let o;const l=e;return n?o=jC(l):o=WC(l),Object.assign(i,o),i}}class Hh{}class Gh{}class Vh{}class zh{}class mA{}class yA{}class vA{}class Ff{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Ff,l=sA(e);return Object.assign(i,l),i}}class SA{}class TA{}class EA{}class Bh{}class CA{get text(){var e,n,i;let o="",l=!1;const s=[];for(const a of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(a))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;l=!0,o+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?o:void 0}get data(){var e,n,i;let o="";const l=[];for(const s of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[a,c]of Object.entries(s))a!=="inlineData"&&c!==null&&l.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(o+=atob(s.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class AA{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Jf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Jf,l=F0(e);return Object.assign(i,l),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ie(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function J0(t,e){const n=ie(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Y0(t){return Array.isArray(t)?t.map(e=>Ka(e)):[Ka(t)]}function Ka(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function K0(t){const e=Ka(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function $0(t){const e=Ka(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function qh(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function X0(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>qh(e)):[qh(t)]}function _c(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Fh(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Jh(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Qe(t){if(t==null)throw new Error("ContentUnion is required");return _c(t)?t:{role:"user",parts:X0(t)}}function Yf(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Qe(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Qe(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Qe(n)):[Qe(e)]}function Gt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Fh(t)||Jh(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Qe(t)]}const e=[],n=[],i=_c(t[0]);for(const o of t){const l=_c(o);if(l!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(o);else{if(Fh(o)||Jh(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:X0(n)}),e}function _A(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Kt).includes(n[0].toUpperCase())?n[0].toUpperCase():Kt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Kt).includes(i.toUpperCase())?i.toUpperCase():Kt.TYPE_UNSPECIFIED})}}function Jo(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&_A(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(Kt).includes(a.toUpperCase())?a.toUpperCase():Kt.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Jo(a);else if(i.includes(s)){const c=[];for(const f of a){if(f.type=="null"){e.nullable=!0;continue}c.push(Jo(f))}e[s]=c}else if(o.includes(s)){const c={};for(const[f,d]of Object.entries(a))c[f]=Jo(d);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=a}return e}function Kf(t){return Jo(t)}function $f(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Xf(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function dl(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Jo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Jo(e.response));return t}function pl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function xA(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function Hn(t,e){if(typeof e!="string")throw new Error("name must be a string");return xA(t,e,"cachedContents")}function Q0(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function mi(t){return qf(t)}function wA(t){return t!=null&&typeof t=="object"&&"name"in t}function bA(t){return t!=null&&typeof t=="object"&&"video"in t}function RA(t){return t!=null&&typeof t=="object"&&"uri"in t}function Z0(t){var e;let n;if(wA(t)&&(n=t.name),!(RA(t)&&(n=t.uri,n===void 0))&&!(bA(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function W0(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function j0(t){for(const e of["models","tunedModels","publisherModels"])if(NA(t,e))return t[e];return[]}function NA(t,e){return t!==null&&typeof t=="object"&&e in t}function MA(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function IA(t,e={}){const n=[],i=new Set;for(const o of t){const l=o.name;if(i.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);i.add(l);const s=MA(o,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function ev(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function DA(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function tv(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let l=!1;for(const s of o){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function hl(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function nv(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LA(t){const e={},n=r(t,["responsesFile"]);n!=null&&u(e,["fileName"],n);const i=r(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>p_(s))),u(e,["inlinedResponses"],l)}const o=r(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(e,["inlinedEmbedContentResponses"],l)}return e}function UA(t){const e={},n=r(t,["predictionsFormat"]);n!=null&&u(e,["format"],n);const i=r(t,["gcsDestination","outputUriPrefix"]);i!=null&&u(e,["gcsUri"],i);const o=r(t,["bigqueryDestination","outputUri"]);return o!=null&&u(e,["bigqueryUri"],o),e}function kA(t){const e={},n=r(t,["format"]);n!=null&&u(e,["predictionsFormat"],n);const i=r(t,["gcsUri"]);i!=null&&u(e,["gcsDestination","outputUriPrefix"],i);const o=r(t,["bigqueryUri"]);if(o!=null&&u(e,["bigqueryDestination","outputUri"],o),r(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(r(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function da(t){const e={},n=r(t,["name"]);n!=null&&u(e,["name"],n);const i=r(t,["metadata","displayName"]);i!=null&&u(e,["displayName"],i);const o=r(t,["metadata","state"]);o!=null&&u(e,["state"],nv(o));const l=r(t,["metadata","createTime"]);l!=null&&u(e,["createTime"],l);const s=r(t,["metadata","endTime"]);s!=null&&u(e,["endTime"],s);const a=r(t,["metadata","updateTime"]);a!=null&&u(e,["updateTime"],a);const c=r(t,["metadata","model"]);c!=null&&u(e,["model"],c);const f=r(t,["metadata","output"]);return f!=null&&u(e,["dest"],LA(tv(f))),e}function xc(t){const e={},n=r(t,["name"]);n!=null&&u(e,["name"],n);const i=r(t,["displayName"]);i!=null&&u(e,["displayName"],i);const o=r(t,["state"]);o!=null&&u(e,["state"],nv(o));const l=r(t,["error"]);l!=null&&u(e,["error"],l);const s=r(t,["createTime"]);s!=null&&u(e,["createTime"],s);const a=r(t,["startTime"]);a!=null&&u(e,["startTime"],a);const c=r(t,["endTime"]);c!=null&&u(e,["endTime"],c);const f=r(t,["updateTime"]);f!=null&&u(e,["updateTime"],f);const d=r(t,["model"]);d!=null&&u(e,["model"],d);const h=r(t,["inputConfig"]);h!=null&&u(e,["src"],OA(h));const p=r(t,["outputConfig"]);p!=null&&u(e,["dest"],UA(tv(p)));const g=r(t,["completionStats"]);return g!=null&&u(e,["completionStats"],g),e}function OA(t){const e={},n=r(t,["instancesFormat"]);n!=null&&u(e,["format"],n);const i=r(t,["gcsSource","uris"]);i!=null&&u(e,["gcsUri"],i);const o=r(t,["bigquerySource","inputUri"]);return o!=null&&u(e,["bigqueryUri"],o),e}function PA(t,e){const n={};if(r(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(r(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=r(e,["fileName"]);i!=null&&u(n,["fileName"],i);const o=r(e,["inlinedRequests"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>d_(t,s))),u(n,["requests","requests"],l)}return n}function HA(t){const e={},n=r(t,["format"]);n!=null&&u(e,["instancesFormat"],n);const i=r(t,["gcsUri"]);i!=null&&u(e,["gcsSource","uris"],i);const o=r(t,["bigqueryUri"]);if(o!=null&&u(e,["bigquerySource","inputUri"],o),r(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function GA(t){const e={},n=r(t,["data"]);if(n!=null&&u(e,["data"],n),r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=r(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function VA(t,e){const n={},i=r(e,["name"]);return i!=null&&u(n,["_url","name"],hl(t,i)),n}function zA(t,e){const n={},i=r(e,["name"]);return i!=null&&u(n,["_url","name"],hl(t,i)),n}function BA(t){const e={},n=r(t,["content"]);n!=null&&u(e,["content"],n);const i=r(t,["citationMetadata"]);i!=null&&u(e,["citationMetadata"],qA(i));const o=r(t,["tokenCount"]);o!=null&&u(e,["tokenCount"],o);const l=r(t,["finishReason"]);l!=null&&u(e,["finishReason"],l);const s=r(t,["avgLogprobs"]);s!=null&&u(e,["avgLogprobs"],s);const a=r(t,["groundingMetadata"]);a!=null&&u(e,["groundingMetadata"],a);const c=r(t,["index"]);c!=null&&u(e,["index"],c);const f=r(t,["logprobsResult"]);f!=null&&u(e,["logprobsResult"],f);const d=r(t,["safetyRatings"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>g)),u(e,["safetyRatings"],p)}const h=r(t,["urlContextMetadata"]);return h!=null&&u(e,["urlContextMetadata"],h),e}function qA(t){const e={},n=r(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),u(e,["citations"],i)}return e}function iv(t){const e={},n=r(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>T_(l))),u(e,["parts"],o)}const i=r(t,["role"]);return i!=null&&u(e,["role"],i),e}function FA(t,e){const n={},i=r(t,["displayName"]);if(e!==void 0&&i!=null&&u(e,["batch","displayName"],i),r(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function JA(t,e){const n={},i=r(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);const o=r(t,["dest"]);return e!==void 0&&o!=null&&u(e,["outputConfig"],kA(DA(o))),n}function Yh(t,e){const n={},i=r(e,["model"]);i!=null&&u(n,["_url","model"],ie(t,i));const o=r(e,["src"]);o!=null&&u(n,["batch","inputConfig"],PA(t,ev(t,o)));const l=r(e,["config"]);return l!=null&&FA(l,n),n}function YA(t,e){const n={},i=r(e,["model"]);i!=null&&u(n,["model"],ie(t,i));const o=r(e,["src"]);o!=null&&u(n,["inputConfig"],HA(ev(t,o)));const l=r(e,["config"]);return l!=null&&JA(l,n),n}function KA(t,e){const n={},i=r(t,["displayName"]);return e!==void 0&&i!=null&&u(e,["batch","displayName"],i),n}function $A(t,e){const n={},i=r(e,["model"]);i!=null&&u(n,["_url","model"],ie(t,i));const o=r(e,["src"]);o!=null&&u(n,["batch","inputConfig"],t_(t,o));const l=r(e,["config"]);return l!=null&&KA(l,n),n}function XA(t,e){const n={},i=r(e,["name"]);return i!=null&&u(n,["_url","name"],hl(t,i)),n}function QA(t,e){const n={},i=r(e,["name"]);return i!=null&&u(n,["_url","name"],hl(t,i)),n}function ZA(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=r(t,["name"]);i!=null&&u(e,["name"],i);const o=r(t,["done"]);o!=null&&u(e,["done"],o);const l=r(t,["error"]);return l!=null&&u(e,["error"],l),e}function WA(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=r(t,["name"]);i!=null&&u(e,["name"],i);const o=r(t,["done"]);o!=null&&u(e,["done"],o);const l=r(t,["error"]);return l!=null&&u(e,["error"],l),e}function jA(t,e){const n={},i=r(e,["contents"]);if(i!=null){let l=Yf(t,i);Array.isArray(l)&&(l=l.map(s=>s)),u(n,["requests[]","request","content"],l)}const o=r(e,["config"]);return o!=null&&(u(n,["_self"],e_(o,n)),QC(n,{"requests[].*":"requests[].request.*"})),n}function e_(t,e){const n={},i=r(t,["taskType"]);e!==void 0&&i!=null&&u(e,["requests[]","taskType"],i);const o=r(t,["title"]);e!==void 0&&o!=null&&u(e,["requests[]","title"],o);const l=r(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&u(e,["requests[]","outputDimensionality"],l),r(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function t_(t,e){const n={},i=r(e,["fileName"]);i!=null&&u(n,["file_name"],i);const o=r(e,["inlinedRequests"]);return o!=null&&u(n,["requests"],jA(t,o)),n}function n_(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const i=r(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function i_(t){const e={},n=r(t,["id"]);n!=null&&u(e,["id"],n);const i=r(t,["args"]);i!=null&&u(e,["args"],i);const o=r(t,["name"]);if(o!=null&&u(e,["name"],o),r(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function o_(t){const e={},n=r(t,["mode"]);n!=null&&u(e,["mode"],n);const i=r(t,["allowedFunctionNames"]);if(i!=null&&u(e,["allowedFunctionNames"],i),r(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function l_(t,e,n){const i={},o=r(e,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],iv(Qe(o)));const l=r(e,["temperature"]);l!=null&&u(i,["temperature"],l);const s=r(e,["topP"]);s!=null&&u(i,["topP"],s);const a=r(e,["topK"]);a!=null&&u(i,["topK"],a);const c=r(e,["candidateCount"]);c!=null&&u(i,["candidateCount"],c);const f=r(e,["maxOutputTokens"]);f!=null&&u(i,["maxOutputTokens"],f);const d=r(e,["stopSequences"]);d!=null&&u(i,["stopSequences"],d);const h=r(e,["responseLogprobs"]);h!=null&&u(i,["responseLogprobs"],h);const p=r(e,["logprobs"]);p!=null&&u(i,["logprobs"],p);const g=r(e,["presencePenalty"]);g!=null&&u(i,["presencePenalty"],g);const v=r(e,["frequencyPenalty"]);v!=null&&u(i,["frequencyPenalty"],v);const E=r(e,["seed"]);E!=null&&u(i,["seed"],E);const A=r(e,["responseMimeType"]);A!=null&&u(i,["responseMimeType"],A);const y=r(e,["responseSchema"]);y!=null&&u(i,["responseSchema"],Kf(y));const m=r(e,["responseJsonSchema"]);if(m!=null&&u(i,["responseJsonSchema"],m),r(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=r(e,["safetySettings"]);if(n!==void 0&&T!=null){let U=T;Array.isArray(U)&&(U=U.map(pe=>E_(pe))),u(n,["safetySettings"],U)}const C=r(e,["tools"]);if(n!==void 0&&C!=null){let U=pl(C);Array.isArray(U)&&(U=U.map(pe=>A_(dl(pe)))),u(n,["tools"],U)}const x=r(e,["toolConfig"]);if(n!==void 0&&x!=null&&u(n,["toolConfig"],C_(x)),r(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=r(e,["cachedContent"]);n!==void 0&&N!=null&&u(n,["cachedContent"],Hn(t,N));const _=r(e,["responseModalities"]);_!=null&&u(i,["responseModalities"],_);const I=r(e,["mediaResolution"]);I!=null&&u(i,["mediaResolution"],I);const b=r(e,["speechConfig"]);if(b!=null&&u(i,["speechConfig"],$f(b)),r(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const L=r(e,["thinkingConfig"]);L!=null&&u(i,["thinkingConfig"],L);const B=r(e,["imageConfig"]);B!=null&&u(i,["imageConfig"],f_(B));const ce=r(e,["enableEnhancedCivicAnswers"]);return ce!=null&&u(i,["enableEnhancedCivicAnswers"],ce),i}function s_(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=r(t,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>BA(f))),u(e,["candidates"],c)}const o=r(t,["modelVersion"]);o!=null&&u(e,["modelVersion"],o);const l=r(t,["promptFeedback"]);l!=null&&u(e,["promptFeedback"],l);const s=r(t,["responseId"]);s!=null&&u(e,["responseId"],s);const a=r(t,["usageMetadata"]);return a!=null&&u(e,["usageMetadata"],a),e}function a_(t,e){const n={},i=r(e,["name"]);return i!=null&&u(n,["_url","name"],hl(t,i)),n}function r_(t,e){const n={},i=r(e,["name"]);return i!=null&&u(n,["_url","name"],hl(t,i)),n}function u_(t){const e={};if(r(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=r(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function c_(t){const e={};if(r(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=r(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function f_(t){const e={},n=r(t,["aspectRatio"]);n!=null&&u(e,["aspectRatio"],n);const i=r(t,["imageSize"]);if(i!=null&&u(e,["imageSize"],i),r(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(r(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function d_(t,e){const n={},i=r(e,["model"]);i!=null&&u(n,["request","model"],ie(t,i));const o=r(e,["contents"]);if(o!=null){let a=Gt(o);Array.isArray(a)&&(a=a.map(c=>iv(c))),u(n,["request","contents"],a)}const l=r(e,["metadata"]);l!=null&&u(n,["metadata"],l);const s=r(e,["config"]);return s!=null&&u(n,["request","generationConfig"],l_(t,s,r(n,["request"],{}))),n}function p_(t){const e={},n=r(t,["response"]);n!=null&&u(e,["response"],s_(n));const i=r(t,["error"]);return i!=null&&u(e,["error"],i),e}function h_(t,e){const n={},i=r(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const o=r(t,["pageToken"]);if(e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),r(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function g_(t,e){const n={},i=r(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const o=r(t,["pageToken"]);e!==void 0&&o!=null&&u(e,["_query","pageToken"],o);const l=r(t,["filter"]);return e!==void 0&&l!=null&&u(e,["_query","filter"],l),n}function m_(t){const e={},n=r(t,["config"]);return n!=null&&h_(n,e),e}function y_(t){const e={},n=r(t,["config"]);return n!=null&&g_(n,e),e}function v_(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=r(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=r(t,["operations"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>da(s))),u(e,["batchJobs"],l)}return e}function S_(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=r(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=r(t,["batchPredictionJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>xc(s))),u(e,["batchJobs"],l)}return e}function T_(t){const e={},n=r(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);const i=r(t,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const o=r(t,["executableCode"]);o!=null&&u(e,["executableCode"],o);const l=r(t,["fileData"]);l!=null&&u(e,["fileData"],n_(l));const s=r(t,["functionCall"]);s!=null&&u(e,["functionCall"],i_(s));const a=r(t,["functionResponse"]);a!=null&&u(e,["functionResponse"],a);const c=r(t,["inlineData"]);c!=null&&u(e,["inlineData"],GA(c));const f=r(t,["text"]);f!=null&&u(e,["text"],f);const d=r(t,["thought"]);d!=null&&u(e,["thought"],d);const h=r(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const p=r(t,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function E_(t){const e={},n=r(t,["category"]);if(n!=null&&u(e,["category"],n),r(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=r(t,["threshold"]);return i!=null&&u(e,["threshold"],i),e}function C_(t){const e={},n=r(t,["functionCallingConfig"]);n!=null&&u(e,["functionCallingConfig"],o_(n));const i=r(t,["retrievalConfig"]);return i!=null&&u(e,["retrievalConfig"],i),e}function A_(t){const e={},n=r(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),u(e,["functionDeclarations"],d)}if(r(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=r(t,["googleSearchRetrieval"]);i!=null&&u(e,["googleSearchRetrieval"],i);const o=r(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);const l=r(t,["fileSearch"]);l!=null&&u(e,["fileSearch"],l);const s=r(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),r(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=r(t,["googleMaps"]);a!=null&&u(e,["googleMaps"],u_(a));const c=r(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],c_(c));const f=r(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var kn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(kn||(kn={}));class Ji{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!i||Object.keys(i).length===0?s={config:{}}:typeof i=="object"?s=Object.assign({},i):s=i,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(l=(o=s.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class __ extends Pn{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ji(kn.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Yh(this.apiClient,e),i=n._url,o=V("{model}:batchGenerateContent",i),a=n.batch.inputConfig.requests,c=a.requests,f=[];for(const d of c){const h=Object.assign({},d);if(h.systemInstruction){const p=h.systemInstruction;delete h.systemInstruction;const g=h.request;g.systemInstruction=p,h.request=g}f.push(h)}return a.requests=f,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},o=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${o}`),i.dest===void 0){const l=this.getGcsUri(e),s=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?i.dest=`${l.slice(0,-6)}/dest`:i.dest=`${l}_dest_${o}`;else if(s)i.dest=`${s}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,o,l;let s,a="",c={};if(this.apiClient.isVertexAI()){const f=YA(this.apiClient,e);return a=V("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>xc(d))}else{const f=Yh(this.apiClient,e);return a=V("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>da(d))}}async createEmbeddingsInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=$A(this.apiClient,e);return l=V("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>da(c))}}async get(e){var n,i,o,l;let s,a="",c={};if(this.apiClient.isVertexAI()){const f=r_(this.apiClient,e);return a=V("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>xc(d))}else{const f=a_(this.apiClient,e);return a=V("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>da(d))}}async cancel(e){var n,i,o,l;let s="",a={};if(this.apiClient.isVertexAI()){const c=zA(this.apiClient,e);s=V("batchPredictionJobs/{name}:cancel",c._url),a=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const c=VA(this.apiClient,e);s=V("batches/{name}:cancel",c._url),a=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var n,i,o,l;let s,a="",c={};if(this.apiClient.isVertexAI()){const f=y_(e);return a=V("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=S_(d),p=new Bh;return Object.assign(p,h),p})}else{const f=m_(e);return a=V("batches",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=v_(d),p=new Bh;return Object.assign(p,h),p})}}async delete(e){var n,i,o,l;let s,a="",c={};if(this.apiClient.isVertexAI()){const f=QA(this.apiClient,e);return a=V("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>WA(d))}else{const f=XA(this.apiClient,e);return a=V("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>ZA(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function x_(t){const e={},n=r(t,["data"]);if(n!=null&&u(e,["data"],n),r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=r(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function Kh(t){const e={},n=r(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>$_(l))),u(e,["parts"],o)}const i=r(t,["role"]);return i!=null&&u(e,["role"],i),e}function w_(t,e){const n={},i=r(t,["ttl"]);e!==void 0&&i!=null&&u(e,["ttl"],i);const o=r(t,["expireTime"]);e!==void 0&&o!=null&&u(e,["expireTime"],o);const l=r(t,["displayName"]);e!==void 0&&l!=null&&u(e,["displayName"],l);const s=r(t,["contents"]);if(e!==void 0&&s!=null){let d=Gt(s);Array.isArray(d)&&(d=d.map(h=>Kh(h))),u(e,["contents"],d)}const a=r(t,["systemInstruction"]);e!==void 0&&a!=null&&u(e,["systemInstruction"],Kh(Qe(a)));const c=r(t,["tools"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>Q_(h))),u(e,["tools"],d)}const f=r(t,["toolConfig"]);if(e!==void 0&&f!=null&&u(e,["toolConfig"],X_(f)),r(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function b_(t,e){const n={},i=r(t,["ttl"]);e!==void 0&&i!=null&&u(e,["ttl"],i);const o=r(t,["expireTime"]);e!==void 0&&o!=null&&u(e,["expireTime"],o);const l=r(t,["displayName"]);e!==void 0&&l!=null&&u(e,["displayName"],l);const s=r(t,["contents"]);if(e!==void 0&&s!=null){let h=Gt(s);Array.isArray(h)&&(h=h.map(p=>p)),u(e,["contents"],h)}const a=r(t,["systemInstruction"]);e!==void 0&&a!=null&&u(e,["systemInstruction"],Qe(a));const c=r(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>Z_(p))),u(e,["tools"],h)}const f=r(t,["toolConfig"]);e!==void 0&&f!=null&&u(e,["toolConfig"],f);const d=r(t,["kmsKeyName"]);return e!==void 0&&d!=null&&u(e,["encryption_spec","kmsKeyName"],d),n}function R_(t,e){const n={},i=r(e,["model"]);i!=null&&u(n,["model"],J0(t,i));const o=r(e,["config"]);return o!=null&&w_(o,n),n}function N_(t,e){const n={},i=r(e,["model"]);i!=null&&u(n,["model"],J0(t,i));const o=r(e,["config"]);return o!=null&&b_(o,n),n}function M_(t,e){const n={},i=r(e,["name"]);return i!=null&&u(n,["_url","name"],Hn(t,i)),n}function I_(t,e){const n={},i=r(e,["name"]);return i!=null&&u(n,["_url","name"],Hn(t,i)),n}function D_(t){const e={},n=r(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function L_(t){const e={},n=r(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function U_(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const i=r(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function k_(t){const e={},n=r(t,["id"]);n!=null&&u(e,["id"],n);const i=r(t,["args"]);i!=null&&u(e,["args"],i);const o=r(t,["name"]);if(o!=null&&u(e,["name"],o),r(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function O_(t){const e={},n=r(t,["mode"]);n!=null&&u(e,["mode"],n);const i=r(t,["allowedFunctionNames"]);if(i!=null&&u(e,["allowedFunctionNames"],i),r(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function P_(t){const e={};if(r(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=r(t,["description"]);n!=null&&u(e,["description"],n);const i=r(t,["name"]);i!=null&&u(e,["name"],i);const o=r(t,["parameters"]);o!=null&&u(e,["parameters"],o);const l=r(t,["parametersJsonSchema"]);l!=null&&u(e,["parametersJsonSchema"],l);const s=r(t,["response"]);s!=null&&u(e,["response"],s);const a=r(t,["responseJsonSchema"]);return a!=null&&u(e,["responseJsonSchema"],a),e}function H_(t,e){const n={},i=r(e,["name"]);return i!=null&&u(n,["_url","name"],Hn(t,i)),n}function G_(t,e){const n={},i=r(e,["name"]);return i!=null&&u(n,["_url","name"],Hn(t,i)),n}function V_(t){const e={};if(r(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=r(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function z_(t){const e={};if(r(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=r(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function B_(t,e){const n={},i=r(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const o=r(t,["pageToken"]);return e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),n}function q_(t,e){const n={},i=r(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const o=r(t,["pageToken"]);return e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),n}function F_(t){const e={},n=r(t,["config"]);return n!=null&&B_(n,e),e}function J_(t){const e={},n=r(t,["config"]);return n!=null&&q_(n,e),e}function Y_(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=r(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=r(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(e,["cachedContents"],l)}return e}function K_(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=r(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=r(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(e,["cachedContents"],l)}return e}function $_(t){const e={},n=r(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);const i=r(t,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const o=r(t,["executableCode"]);o!=null&&u(e,["executableCode"],o);const l=r(t,["fileData"]);l!=null&&u(e,["fileData"],U_(l));const s=r(t,["functionCall"]);s!=null&&u(e,["functionCall"],k_(s));const a=r(t,["functionResponse"]);a!=null&&u(e,["functionResponse"],a);const c=r(t,["inlineData"]);c!=null&&u(e,["inlineData"],x_(c));const f=r(t,["text"]);f!=null&&u(e,["text"],f);const d=r(t,["thought"]);d!=null&&u(e,["thought"],d);const h=r(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const p=r(t,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function X_(t){const e={},n=r(t,["functionCallingConfig"]);n!=null&&u(e,["functionCallingConfig"],O_(n));const i=r(t,["retrievalConfig"]);return i!=null&&u(e,["retrievalConfig"],i),e}function Q_(t){const e={},n=r(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),u(e,["functionDeclarations"],d)}if(r(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=r(t,["googleSearchRetrieval"]);i!=null&&u(e,["googleSearchRetrieval"],i);const o=r(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);const l=r(t,["fileSearch"]);l!=null&&u(e,["fileSearch"],l);const s=r(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),r(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=r(t,["googleMaps"]);a!=null&&u(e,["googleMaps"],V_(a));const c=r(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],z_(c));const f=r(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function Z_(t){const e={},n=r(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>P_(p))),u(e,["functionDeclarations"],h)}const i=r(t,["retrieval"]);i!=null&&u(e,["retrieval"],i);const o=r(t,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);const l=r(t,["computerUse"]);if(l!=null&&u(e,["computerUse"],l),r(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=r(t,["codeExecution"]);s!=null&&u(e,["codeExecution"],s);const a=r(t,["enterpriseWebSearch"]);a!=null&&u(e,["enterpriseWebSearch"],a);const c=r(t,["googleMaps"]);c!=null&&u(e,["googleMaps"],c);const f=r(t,["googleSearch"]);f!=null&&u(e,["googleSearch"],f);const d=r(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function W_(t,e){const n={},i=r(t,["ttl"]);e!==void 0&&i!=null&&u(e,["ttl"],i);const o=r(t,["expireTime"]);return e!==void 0&&o!=null&&u(e,["expireTime"],o),n}function j_(t,e){const n={},i=r(t,["ttl"]);e!==void 0&&i!=null&&u(e,["ttl"],i);const o=r(t,["expireTime"]);return e!==void 0&&o!=null&&u(e,["expireTime"],o),n}function ex(t,e){const n={},i=r(e,["name"]);i!=null&&u(n,["_url","name"],Hn(t,i));const o=r(e,["config"]);return o!=null&&W_(o,n),n}function tx(t,e){const n={},i=r(e,["name"]);i!=null&&u(n,["_url","name"],Hn(t,i));const o=r(e,["config"]);return o!=null&&j_(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nx extends Pn{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ji(kn.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,l;let s,a="",c={};if(this.apiClient.isVertexAI()){const f=N_(this.apiClient,e);return a=V("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const f=R_(this.apiClient,e);return a=V("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async get(e){var n,i,o,l;let s,a="",c={};if(this.apiClient.isVertexAI()){const f=G_(this.apiClient,e);return a=V("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const f=H_(this.apiClient,e);return a=V("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async delete(e){var n,i,o,l;let s,a="",c={};if(this.apiClient.isVertexAI()){const f=I_(this.apiClient,e);return a=V("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=L_(d),p=new Vh;return Object.assign(p,h),p})}else{const f=M_(this.apiClient,e);return a=V("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=D_(d),p=new Vh;return Object.assign(p,h),p})}}async update(e){var n,i,o,l;let s,a="",c={};if(this.apiClient.isVertexAI()){const f=tx(this.apiClient,e);return a=V("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const f=ex(this.apiClient,e);return a=V("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async listInternal(e){var n,i,o,l;let s,a="",c={};if(this.apiClient.isVertexAI()){const f=J_(e);return a=V("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=K_(d),p=new zh;return Object.assign(p,h),p})}else{const f=F_(e);return a=V("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=Y_(d),p=new zh;return Object.assign(p,h),p})}}}function $a(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function $h(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Y(t){return this instanceof Y?(this.v=t,this):new Y(t)}function $t(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(g){return function(v){return Promise.resolve(v).then(g,h)}}function a(g,v){i[g]&&(o[g]=function(E){return new Promise(function(A,y){l.push([g,E,A,y])>1||c(g,E)})},v&&(o[g]=v(o[g])))}function c(g,v){try{f(i[g](v))}catch(E){p(l[0][3],E)}}function f(g){g.value instanceof Y?Promise.resolve(g.value.v).then(d,h):p(l[0][2],g)}function d(g){c("next",g)}function h(g){c("throw",g)}function p(g,v){g(v),l.shift(),l.length&&c(l[0][0],l[0][1])}}function Xt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof $h=="function"?$h(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(l){n[l]=t[l]&&function(s){return new Promise(function(a,c){s=t[l](s),o(a,c,s.done,s.value)})}}function o(l,s,a,c){Promise.resolve(c).then(function(f){l({value:f,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ix(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:ov(n)}function ov(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function ox(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Xh(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let l=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),l&&!ov(t[i])&&(l=!1),i++;l?e.push(...o):e.pop()}return e}class lx{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new sx(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class sx{constructor(e,n,i,o={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),ox(l)}async sendMessage(e){var n;await this.sendPromise;const i=Qe(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,s,a;const c=await o,f=(s=(l=c.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content,d=c.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let p=[];d!=null&&(p=(a=d.slice(h))!==null&&a!==void 0?a:[]);const g=f?[f]:[];this.recordHistory(i,g,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=Qe(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,i)}getHistory(e=!1){const n=e?Xh(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return $t(this,arguments,function*(){var o,l,s,a,c,f;const d=[];try{for(var h=!0,p=Xt(e),g;g=yield Y(p.next()),o=g.done,!o;h=!0){a=g.value,h=!1;const v=a;if(ix(v)){const E=(f=(c=v.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content;E!==void 0&&d.push(E)}yield yield Y(v)}}catch(v){l={error:v}}finally{try{!h&&!o&&(s=p.return)&&(yield Y(s.call(p)))}finally{if(l)throw l.error}}this.recordHistory(n,d)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(l=>l.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Xh(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tr extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Tr.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ax(t){const e={},n=r(t,["file"]);return n!=null&&u(e,["file"],n),e}function rx(t){const e={},n=r(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function ux(t){const e={},n=r(t,["name"]);return n!=null&&u(e,["_url","file"],Z0(n)),e}function cx(t){const e={},n=r(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function fx(t){const e={},n=r(t,["name"]);return n!=null&&u(e,["_url","file"],Z0(n)),e}function dx(t,e){const n={},i=r(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const o=r(t,["pageToken"]);return e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),n}function px(t){const e={},n=r(t,["config"]);return n!=null&&dx(n,e),e}function hx(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=r(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=r(t,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gx extends Pn{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ji(kn.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=px(e);return l=V("files",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=hx(c),d=new SA;return Object.assign(d,f),d})}}async createInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=ax(e);return l=V("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=rx(c),d=new TA;return Object.assign(d,f),d})}}async get(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=fx(e);return l=V("files/{file}",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=ux(e);return l=V("files/{file}",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=cx(c),d=new EA;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pa(t){const e={},n=r(t,["data"]);if(n!=null&&u(e,["data"],n),r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=r(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function mx(t){const e={},n=r(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Dx(l))),u(e,["parts"],o)}const i=r(t,["role"]);return i!=null&&u(e,["role"],i),e}function yx(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const i=r(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function vx(t){const e={},n=r(t,["id"]);n!=null&&u(e,["id"],n);const i=r(t,["args"]);i!=null&&u(e,["args"],i);const o=r(t,["name"]);if(o!=null&&u(e,["name"],o),r(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Sx(t){const e={};if(r(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=r(t,["description"]);n!=null&&u(e,["description"],n);const i=r(t,["name"]);i!=null&&u(e,["name"],i);const o=r(t,["parameters"]);o!=null&&u(e,["parameters"],o);const l=r(t,["parametersJsonSchema"]);l!=null&&u(e,["parametersJsonSchema"],l);const s=r(t,["response"]);s!=null&&u(e,["response"],s);const a=r(t,["responseJsonSchema"]);return a!=null&&u(e,["responseJsonSchema"],a),e}function Tx(t){const e={},n=r(t,["modelSelectionConfig"]);n!=null&&u(e,["modelConfig"],n);const i=r(t,["responseJsonSchema"]);i!=null&&u(e,["responseJsonSchema"],i);const o=r(t,["audioTimestamp"]);o!=null&&u(e,["audioTimestamp"],o);const l=r(t,["candidateCount"]);l!=null&&u(e,["candidateCount"],l);const s=r(t,["enableAffectiveDialog"]);s!=null&&u(e,["enableAffectiveDialog"],s);const a=r(t,["frequencyPenalty"]);a!=null&&u(e,["frequencyPenalty"],a);const c=r(t,["logprobs"]);c!=null&&u(e,["logprobs"],c);const f=r(t,["maxOutputTokens"]);f!=null&&u(e,["maxOutputTokens"],f);const d=r(t,["mediaResolution"]);d!=null&&u(e,["mediaResolution"],d);const h=r(t,["presencePenalty"]);h!=null&&u(e,["presencePenalty"],h);const p=r(t,["responseLogprobs"]);p!=null&&u(e,["responseLogprobs"],p);const g=r(t,["responseMimeType"]);g!=null&&u(e,["responseMimeType"],g);const v=r(t,["responseModalities"]);v!=null&&u(e,["responseModalities"],v);const E=r(t,["responseSchema"]);E!=null&&u(e,["responseSchema"],E);const A=r(t,["routingConfig"]);A!=null&&u(e,["routingConfig"],A);const y=r(t,["seed"]);y!=null&&u(e,["seed"],y);const m=r(t,["speechConfig"]);m!=null&&u(e,["speechConfig"],lv(m));const T=r(t,["stopSequences"]);T!=null&&u(e,["stopSequences"],T);const C=r(t,["temperature"]);C!=null&&u(e,["temperature"],C);const x=r(t,["thinkingConfig"]);x!=null&&u(e,["thinkingConfig"],x);const N=r(t,["topK"]);N!=null&&u(e,["topK"],N);const _=r(t,["topP"]);if(_!=null&&u(e,["topP"],_),r(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Ex(t){const e={};if(r(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=r(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function Cx(t){const e={};if(r(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=r(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function Ax(t,e){const n={},i=r(t,["generationConfig"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig"],i);const o=r(t,["responseModalities"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig","responseModalities"],o);const l=r(t,["temperature"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","temperature"],l);const s=r(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);const a=r(t,["topK"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","topK"],a);const c=r(t,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);const f=r(t,["mediaResolution"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","mediaResolution"],f);const d=r(t,["seed"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","seed"],d);const h=r(t,["speechConfig"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","speechConfig"],Xf(h));const p=r(t,["thinkingConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","thinkingConfig"],p);const g=r(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=r(t,["systemInstruction"]);e!==void 0&&v!=null&&u(e,["setup","systemInstruction"],mx(Qe(v)));const E=r(t,["tools"]);if(e!==void 0&&E!=null){let N=pl(E);Array.isArray(N)&&(N=N.map(_=>Ux(dl(_)))),u(e,["setup","tools"],N)}const A=r(t,["sessionResumption"]);e!==void 0&&A!=null&&u(e,["setup","sessionResumption"],Lx(A));const y=r(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&u(e,["setup","inputAudioTranscription"],y);const m=r(t,["outputAudioTranscription"]);e!==void 0&&m!=null&&u(e,["setup","outputAudioTranscription"],m);const T=r(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&u(e,["setup","realtimeInputConfig"],T);const C=r(t,["contextWindowCompression"]);e!==void 0&&C!=null&&u(e,["setup","contextWindowCompression"],C);const x=r(t,["proactivity"]);if(e!==void 0&&x!=null&&u(e,["setup","proactivity"],x),r(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function _x(t,e){const n={},i=r(t,["generationConfig"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig"],Tx(i));const o=r(t,["responseModalities"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig","responseModalities"],o);const l=r(t,["temperature"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","temperature"],l);const s=r(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);const a=r(t,["topK"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","topK"],a);const c=r(t,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);const f=r(t,["mediaResolution"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","mediaResolution"],f);const d=r(t,["seed"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","seed"],d);const h=r(t,["speechConfig"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","speechConfig"],lv(Xf(h)));const p=r(t,["thinkingConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","thinkingConfig"],p);const g=r(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=r(t,["systemInstruction"]);e!==void 0&&v!=null&&u(e,["setup","systemInstruction"],Qe(v));const E=r(t,["tools"]);if(e!==void 0&&E!=null){let _=pl(E);Array.isArray(_)&&(_=_.map(I=>kx(dl(I)))),u(e,["setup","tools"],_)}const A=r(t,["sessionResumption"]);e!==void 0&&A!=null&&u(e,["setup","sessionResumption"],A);const y=r(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&u(e,["setup","inputAudioTranscription"],y);const m=r(t,["outputAudioTranscription"]);e!==void 0&&m!=null&&u(e,["setup","outputAudioTranscription"],m);const T=r(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&u(e,["setup","realtimeInputConfig"],T);const C=r(t,["contextWindowCompression"]);e!==void 0&&C!=null&&u(e,["setup","contextWindowCompression"],C);const x=r(t,["proactivity"]);e!==void 0&&x!=null&&u(e,["setup","proactivity"],x);const N=r(t,["explicitVadSignal"]);return e!==void 0&&N!=null&&u(e,["setup","explicitVadSignal"],N),n}function xx(t,e){const n={},i=r(e,["model"]);i!=null&&u(n,["setup","model"],ie(t,i));const o=r(e,["config"]);return o!=null&&u(n,["config"],Ax(o,n)),n}function wx(t,e){const n={},i=r(e,["model"]);i!=null&&u(n,["setup","model"],ie(t,i));const o=r(e,["config"]);return o!=null&&u(n,["config"],_x(o,n)),n}function bx(t){const e={},n=r(t,["musicGenerationConfig"]);return n!=null&&u(e,["musicGenerationConfig"],n),e}function Rx(t){const e={},n=r(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),u(e,["weightedPrompts"],i)}return e}function Nx(t){const e={},n=r(t,["media"]);if(n!=null){let f=Y0(n);Array.isArray(f)&&(f=f.map(d=>pa(d))),u(e,["mediaChunks"],f)}const i=r(t,["audio"]);i!=null&&u(e,["audio"],pa($0(i)));const o=r(t,["audioStreamEnd"]);o!=null&&u(e,["audioStreamEnd"],o);const l=r(t,["video"]);l!=null&&u(e,["video"],pa(K0(l)));const s=r(t,["text"]);s!=null&&u(e,["text"],s);const a=r(t,["activityStart"]);a!=null&&u(e,["activityStart"],a);const c=r(t,["activityEnd"]);return c!=null&&u(e,["activityEnd"],c),e}function Mx(t){const e={},n=r(t,["media"]);if(n!=null){let f=Y0(n);Array.isArray(f)&&(f=f.map(d=>d)),u(e,["mediaChunks"],f)}const i=r(t,["audio"]);i!=null&&u(e,["audio"],$0(i));const o=r(t,["audioStreamEnd"]);o!=null&&u(e,["audioStreamEnd"],o);const l=r(t,["video"]);l!=null&&u(e,["video"],K0(l));const s=r(t,["text"]);s!=null&&u(e,["text"],s);const a=r(t,["activityStart"]);a!=null&&u(e,["activityStart"],a);const c=r(t,["activityEnd"]);return c!=null&&u(e,["activityEnd"],c),e}function Ix(t){const e={},n=r(t,["setupComplete"]);n!=null&&u(e,["setupComplete"],n);const i=r(t,["serverContent"]);i!=null&&u(e,["serverContent"],i);const o=r(t,["toolCall"]);o!=null&&u(e,["toolCall"],o);const l=r(t,["toolCallCancellation"]);l!=null&&u(e,["toolCallCancellation"],l);const s=r(t,["usageMetadata"]);s!=null&&u(e,["usageMetadata"],Ox(s));const a=r(t,["goAway"]);a!=null&&u(e,["goAway"],a);const c=r(t,["sessionResumptionUpdate"]);c!=null&&u(e,["sessionResumptionUpdate"],c);const f=r(t,["voiceActivityDetectionSignal"]);return f!=null&&u(e,["voiceActivityDetectionSignal"],f),e}function Dx(t){const e={},n=r(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);const i=r(t,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const o=r(t,["executableCode"]);o!=null&&u(e,["executableCode"],o);const l=r(t,["fileData"]);l!=null&&u(e,["fileData"],yx(l));const s=r(t,["functionCall"]);s!=null&&u(e,["functionCall"],vx(s));const a=r(t,["functionResponse"]);a!=null&&u(e,["functionResponse"],a);const c=r(t,["inlineData"]);c!=null&&u(e,["inlineData"],pa(c));const f=r(t,["text"]);f!=null&&u(e,["text"],f);const d=r(t,["thought"]);d!=null&&u(e,["thought"],d);const h=r(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const p=r(t,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function Lx(t){const e={},n=r(t,["handle"]);if(n!=null&&u(e,["handle"],n),r(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function lv(t){const e={},n=r(t,["voiceConfig"]);n!=null&&u(e,["voiceConfig"],n);const i=r(t,["languageCode"]);if(i!=null&&u(e,["languageCode"],i),r(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Ux(t){const e={},n=r(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),u(e,["functionDeclarations"],d)}if(r(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=r(t,["googleSearchRetrieval"]);i!=null&&u(e,["googleSearchRetrieval"],i);const o=r(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);const l=r(t,["fileSearch"]);l!=null&&u(e,["fileSearch"],l);const s=r(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),r(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=r(t,["googleMaps"]);a!=null&&u(e,["googleMaps"],Ex(a));const c=r(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],Cx(c));const f=r(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function kx(t){const e={},n=r(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>Sx(p))),u(e,["functionDeclarations"],h)}const i=r(t,["retrieval"]);i!=null&&u(e,["retrieval"],i);const o=r(t,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);const l=r(t,["computerUse"]);if(l!=null&&u(e,["computerUse"],l),r(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=r(t,["codeExecution"]);s!=null&&u(e,["codeExecution"],s);const a=r(t,["enterpriseWebSearch"]);a!=null&&u(e,["enterpriseWebSearch"],a);const c=r(t,["googleMaps"]);c!=null&&u(e,["googleMaps"],c);const f=r(t,["googleSearch"]);f!=null&&u(e,["googleSearch"],f);const d=r(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function Ox(t){const e={},n=r(t,["promptTokenCount"]);n!=null&&u(e,["promptTokenCount"],n);const i=r(t,["cachedContentTokenCount"]);i!=null&&u(e,["cachedContentTokenCount"],i);const o=r(t,["candidatesTokenCount"]);o!=null&&u(e,["responseTokenCount"],o);const l=r(t,["toolUsePromptTokenCount"]);l!=null&&u(e,["toolUsePromptTokenCount"],l);const s=r(t,["thoughtsTokenCount"]);s!=null&&u(e,["thoughtsTokenCount"],s);const a=r(t,["totalTokenCount"]);a!=null&&u(e,["totalTokenCount"],a);const c=r(t,["promptTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(v=>v)),u(e,["promptTokensDetails"],g)}const f=r(t,["cacheTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>v)),u(e,["cacheTokensDetails"],g)}const d=r(t,["candidatesTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),u(e,["responseTokensDetails"],g)}const h=r(t,["toolUsePromptTokensDetails"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>v)),u(e,["toolUsePromptTokensDetails"],g)}const p=r(t,["trafficType"]);return p!=null&&u(e,["trafficType"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Px(t){const e={},n=r(t,["data"]);if(n!=null&&u(e,["data"],n),r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=r(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function Hx(t){const e={},n=r(t,["content"]);n!=null&&u(e,["content"],n);const i=r(t,["citationMetadata"]);i!=null&&u(e,["citationMetadata"],Gx(i));const o=r(t,["tokenCount"]);o!=null&&u(e,["tokenCount"],o);const l=r(t,["finishReason"]);l!=null&&u(e,["finishReason"],l);const s=r(t,["avgLogprobs"]);s!=null&&u(e,["avgLogprobs"],s);const a=r(t,["groundingMetadata"]);a!=null&&u(e,["groundingMetadata"],a);const c=r(t,["index"]);c!=null&&u(e,["index"],c);const f=r(t,["logprobsResult"]);f!=null&&u(e,["logprobsResult"],f);const d=r(t,["safetyRatings"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>g)),u(e,["safetyRatings"],p)}const h=r(t,["urlContextMetadata"]);return h!=null&&u(e,["urlContextMetadata"],h),e}function Gx(t){const e={},n=r(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),u(e,["citations"],i)}return e}function Vx(t,e){const n={},i=r(e,["model"]);i!=null&&u(n,["_url","model"],ie(t,i));const o=r(e,["contents"]);if(o!=null){let l=Gt(o);Array.isArray(l)&&(l=l.map(s=>s)),u(n,["contents"],l)}return n}function zx(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=r(t,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),u(e,["tokensInfo"],o)}return e}function Bx(t){const e={},n=r(t,["values"]);n!=null&&u(e,["values"],n);const i=r(t,["statistics"]);return i!=null&&u(e,["statistics"],qx(i)),e}function qx(t){const e={},n=r(t,["truncated"]);n!=null&&u(e,["truncated"],n);const i=r(t,["token_count"]);return i!=null&&u(e,["tokenCount"],i),e}function Er(t){const e={},n=r(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Ww(l))),u(e,["parts"],o)}const i=r(t,["role"]);return i!=null&&u(e,["role"],i),e}function Fx(t){const e={},n=r(t,["controlType"]);n!=null&&u(e,["controlType"],n);const i=r(t,["enableControlImageComputation"]);return i!=null&&u(e,["computeControl"],i),e}function Jx(t){const e={};if(r(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(r(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(r(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Yx(t,e){const n={},i=r(t,["systemInstruction"]);e!==void 0&&i!=null&&u(e,["systemInstruction"],Qe(i));const o=r(t,["tools"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>cv(a))),u(e,["tools"],s)}const l=r(t,["generationConfig"]);return e!==void 0&&l!=null&&u(e,["generationConfig"],Pw(l)),n}function Kx(t,e){const n={},i=r(e,["model"]);i!=null&&u(n,["_url","model"],ie(t,i));const o=r(e,["contents"]);if(o!=null){let s=Gt(o);Array.isArray(s)&&(s=s.map(a=>Er(a))),u(n,["contents"],s)}const l=r(e,["config"]);return l!=null&&Jx(l),n}function $x(t,e){const n={},i=r(e,["model"]);i!=null&&u(n,["_url","model"],ie(t,i));const o=r(e,["contents"]);if(o!=null){let s=Gt(o);Array.isArray(s)&&(s=s.map(a=>a)),u(n,["contents"],s)}const l=r(e,["config"]);return l!=null&&Yx(l,n),n}function Xx(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=r(t,["totalTokens"]);i!=null&&u(e,["totalTokens"],i);const o=r(t,["cachedContentTokenCount"]);return o!=null&&u(e,["cachedContentTokenCount"],o),e}function Qx(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=r(t,["totalTokens"]);return i!=null&&u(e,["totalTokens"],i),e}function Zx(t,e){const n={},i=r(e,["model"]);return i!=null&&u(n,["_url","name"],ie(t,i)),n}function Wx(t,e){const n={},i=r(e,["model"]);return i!=null&&u(n,["_url","name"],ie(t,i)),n}function jx(t){const e={},n=r(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function ew(t){const e={},n=r(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function tw(t,e){const n={},i=r(t,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);const o=r(t,["negativePrompt"]);e!==void 0&&o!=null&&u(e,["parameters","negativePrompt"],o);const l=r(t,["numberOfImages"]);e!==void 0&&l!=null&&u(e,["parameters","sampleCount"],l);const s=r(t,["aspectRatio"]);e!==void 0&&s!=null&&u(e,["parameters","aspectRatio"],s);const a=r(t,["guidanceScale"]);e!==void 0&&a!=null&&u(e,["parameters","guidanceScale"],a);const c=r(t,["seed"]);e!==void 0&&c!=null&&u(e,["parameters","seed"],c);const f=r(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&u(e,["parameters","safetySetting"],f);const d=r(t,["personGeneration"]);e!==void 0&&d!=null&&u(e,["parameters","personGeneration"],d);const h=r(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&u(e,["parameters","includeSafetyAttributes"],h);const p=r(t,["includeRaiReason"]);e!==void 0&&p!=null&&u(e,["parameters","includeRaiReason"],p);const g=r(t,["language"]);e!==void 0&&g!=null&&u(e,["parameters","language"],g);const v=r(t,["outputMimeType"]);e!==void 0&&v!=null&&u(e,["parameters","outputOptions","mimeType"],v);const E=r(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&u(e,["parameters","outputOptions","compressionQuality"],E);const A=r(t,["addWatermark"]);e!==void 0&&A!=null&&u(e,["parameters","addWatermark"],A);const y=r(t,["labels"]);e!==void 0&&y!=null&&u(e,["labels"],y);const m=r(t,["editMode"]);e!==void 0&&m!=null&&u(e,["parameters","editMode"],m);const T=r(t,["baseSteps"]);return e!==void 0&&T!=null&&u(e,["parameters","editConfig","baseSteps"],T),n}function nw(t,e){const n={},i=r(e,["model"]);i!=null&&u(n,["_url","model"],ie(t,i));const o=r(e,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const l=r(e,["referenceImages"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>ob(c))),u(n,["instances[0]","referenceImages"],a)}const s=r(e,["config"]);return s!=null&&tw(s,n),n}function iw(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=r(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Cr(l))),u(e,["generatedImages"],o)}return e}function ow(t,e){const n={},i=r(t,["taskType"]);e!==void 0&&i!=null&&u(e,["requests[]","taskType"],i);const o=r(t,["title"]);e!==void 0&&o!=null&&u(e,["requests[]","title"],o);const l=r(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&u(e,["requests[]","outputDimensionality"],l),r(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function lw(t,e){const n={},i=r(t,["taskType"]);e!==void 0&&i!=null&&u(e,["instances[]","task_type"],i);const o=r(t,["title"]);e!==void 0&&o!=null&&u(e,["instances[]","title"],o);const l=r(t,["outputDimensionality"]);e!==void 0&&l!=null&&u(e,["parameters","outputDimensionality"],l);const s=r(t,["mimeType"]);e!==void 0&&s!=null&&u(e,["instances[]","mimeType"],s);const a=r(t,["autoTruncate"]);return e!==void 0&&a!=null&&u(e,["parameters","autoTruncate"],a),n}function sw(t,e){const n={},i=r(e,["model"]);i!=null&&u(n,["_url","model"],ie(t,i));const o=r(e,["contents"]);if(o!=null){let a=Yf(t,o);Array.isArray(a)&&(a=a.map(c=>c)),u(n,["requests[]","content"],a)}const l=r(e,["config"]);l!=null&&ow(l,n);const s=r(e,["model"]);return s!==void 0&&u(n,["requests[]","model"],ie(t,s)),n}function aw(t,e){const n={},i=r(e,["model"]);i!=null&&u(n,["_url","model"],ie(t,i));const o=r(e,["contents"]);if(o!=null){let s=Yf(t,o);Array.isArray(s)&&(s=s.map(a=>a)),u(n,["instances[]","content"],s)}const l=r(e,["config"]);return l!=null&&lw(l,n),n}function rw(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=r(t,["embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>s)),u(e,["embeddings"],l)}const o=r(t,["metadata"]);return o!=null&&u(e,["metadata"],o),e}function uw(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=r(t,["predictions[]","embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>Bx(s))),u(e,["embeddings"],l)}const o=r(t,["metadata"]);return o!=null&&u(e,["metadata"],o),e}function cw(t){const e={},n=r(t,["endpoint"]);n!=null&&u(e,["name"],n);const i=r(t,["deployedModelId"]);return i!=null&&u(e,["deployedModelId"],i),e}function fw(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const i=r(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function dw(t){const e={},n=r(t,["id"]);n!=null&&u(e,["id"],n);const i=r(t,["args"]);i!=null&&u(e,["args"],i);const o=r(t,["name"]);if(o!=null&&u(e,["name"],o),r(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function pw(t){const e={},n=r(t,["mode"]);n!=null&&u(e,["mode"],n);const i=r(t,["allowedFunctionNames"]);if(i!=null&&u(e,["allowedFunctionNames"],i),r(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function hw(t){const e={};if(r(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=r(t,["description"]);n!=null&&u(e,["description"],n);const i=r(t,["name"]);i!=null&&u(e,["name"],i);const o=r(t,["parameters"]);o!=null&&u(e,["parameters"],o);const l=r(t,["parametersJsonSchema"]);l!=null&&u(e,["parametersJsonSchema"],l);const s=r(t,["response"]);s!=null&&u(e,["response"],s);const a=r(t,["responseJsonSchema"]);return a!=null&&u(e,["responseJsonSchema"],a),e}function gw(t,e,n){const i={},o=r(e,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],Er(Qe(o)));const l=r(e,["temperature"]);l!=null&&u(i,["temperature"],l);const s=r(e,["topP"]);s!=null&&u(i,["topP"],s);const a=r(e,["topK"]);a!=null&&u(i,["topK"],a);const c=r(e,["candidateCount"]);c!=null&&u(i,["candidateCount"],c);const f=r(e,["maxOutputTokens"]);f!=null&&u(i,["maxOutputTokens"],f);const d=r(e,["stopSequences"]);d!=null&&u(i,["stopSequences"],d);const h=r(e,["responseLogprobs"]);h!=null&&u(i,["responseLogprobs"],h);const p=r(e,["logprobs"]);p!=null&&u(i,["logprobs"],p);const g=r(e,["presencePenalty"]);g!=null&&u(i,["presencePenalty"],g);const v=r(e,["frequencyPenalty"]);v!=null&&u(i,["frequencyPenalty"],v);const E=r(e,["seed"]);E!=null&&u(i,["seed"],E);const A=r(e,["responseMimeType"]);A!=null&&u(i,["responseMimeType"],A);const y=r(e,["responseSchema"]);y!=null&&u(i,["responseSchema"],Kf(y));const m=r(e,["responseJsonSchema"]);if(m!=null&&u(i,["responseJsonSchema"],m),r(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=r(e,["safetySettings"]);if(n!==void 0&&T!=null){let U=T;Array.isArray(U)&&(U=U.map(pe=>lb(pe))),u(n,["safetySettings"],U)}const C=r(e,["tools"]);if(n!==void 0&&C!=null){let U=pl(C);Array.isArray(U)&&(U=U.map(pe=>db(dl(pe)))),u(n,["tools"],U)}const x=r(e,["toolConfig"]);if(n!==void 0&&x!=null&&u(n,["toolConfig"],fb(x)),r(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=r(e,["cachedContent"]);n!==void 0&&N!=null&&u(n,["cachedContent"],Hn(t,N));const _=r(e,["responseModalities"]);_!=null&&u(i,["responseModalities"],_);const I=r(e,["mediaResolution"]);I!=null&&u(i,["mediaResolution"],I);const b=r(e,["speechConfig"]);if(b!=null&&u(i,["speechConfig"],$f(b)),r(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const L=r(e,["thinkingConfig"]);L!=null&&u(i,["thinkingConfig"],L);const B=r(e,["imageConfig"]);B!=null&&u(i,["imageConfig"],Bw(B));const ce=r(e,["enableEnhancedCivicAnswers"]);return ce!=null&&u(i,["enableEnhancedCivicAnswers"],ce),i}function mw(t,e,n){const i={},o=r(e,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],Qe(o));const l=r(e,["temperature"]);l!=null&&u(i,["temperature"],l);const s=r(e,["topP"]);s!=null&&u(i,["topP"],s);const a=r(e,["topK"]);a!=null&&u(i,["topK"],a);const c=r(e,["candidateCount"]);c!=null&&u(i,["candidateCount"],c);const f=r(e,["maxOutputTokens"]);f!=null&&u(i,["maxOutputTokens"],f);const d=r(e,["stopSequences"]);d!=null&&u(i,["stopSequences"],d);const h=r(e,["responseLogprobs"]);h!=null&&u(i,["responseLogprobs"],h);const p=r(e,["logprobs"]);p!=null&&u(i,["logprobs"],p);const g=r(e,["presencePenalty"]);g!=null&&u(i,["presencePenalty"],g);const v=r(e,["frequencyPenalty"]);v!=null&&u(i,["frequencyPenalty"],v);const E=r(e,["seed"]);E!=null&&u(i,["seed"],E);const A=r(e,["responseMimeType"]);A!=null&&u(i,["responseMimeType"],A);const y=r(e,["responseSchema"]);y!=null&&u(i,["responseSchema"],Kf(y));const m=r(e,["responseJsonSchema"]);m!=null&&u(i,["responseJsonSchema"],m);const T=r(e,["routingConfig"]);T!=null&&u(i,["routingConfig"],T);const C=r(e,["modelSelectionConfig"]);C!=null&&u(i,["modelConfig"],C);const x=r(e,["safetySettings"]);if(n!==void 0&&x!=null){let M=x;Array.isArray(M)&&(M=M.map(z=>z)),u(n,["safetySettings"],M)}const N=r(e,["tools"]);if(n!==void 0&&N!=null){let M=pl(N);Array.isArray(M)&&(M=M.map(z=>cv(dl(z)))),u(n,["tools"],M)}const _=r(e,["toolConfig"]);n!==void 0&&_!=null&&u(n,["toolConfig"],_);const I=r(e,["labels"]);n!==void 0&&I!=null&&u(n,["labels"],I);const b=r(e,["cachedContent"]);n!==void 0&&b!=null&&u(n,["cachedContent"],Hn(t,b));const L=r(e,["responseModalities"]);L!=null&&u(i,["responseModalities"],L);const B=r(e,["mediaResolution"]);B!=null&&u(i,["mediaResolution"],B);const ce=r(e,["speechConfig"]);ce!=null&&u(i,["speechConfig"],uv($f(ce)));const U=r(e,["audioTimestamp"]);U!=null&&u(i,["audioTimestamp"],U);const pe=r(e,["thinkingConfig"]);pe!=null&&u(i,["thinkingConfig"],pe);const J=r(e,["imageConfig"]);if(J!=null&&u(i,["imageConfig"],qw(J)),r(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function Qh(t,e){const n={},i=r(e,["model"]);i!=null&&u(n,["_url","model"],ie(t,i));const o=r(e,["contents"]);if(o!=null){let s=Gt(o);Array.isArray(s)&&(s=s.map(a=>Er(a))),u(n,["contents"],s)}const l=r(e,["config"]);return l!=null&&u(n,["generationConfig"],gw(t,l,n)),n}function Zh(t,e){const n={},i=r(e,["model"]);i!=null&&u(n,["_url","model"],ie(t,i));const o=r(e,["contents"]);if(o!=null){let s=Gt(o);Array.isArray(s)&&(s=s.map(a=>a)),u(n,["contents"],s)}const l=r(e,["config"]);return l!=null&&u(n,["generationConfig"],mw(t,l,n)),n}function Wh(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=r(t,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>Hx(f))),u(e,["candidates"],c)}const o=r(t,["modelVersion"]);o!=null&&u(e,["modelVersion"],o);const l=r(t,["promptFeedback"]);l!=null&&u(e,["promptFeedback"],l);const s=r(t,["responseId"]);s!=null&&u(e,["responseId"],s);const a=r(t,["usageMetadata"]);return a!=null&&u(e,["usageMetadata"],a),e}function jh(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=r(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>d)),u(e,["candidates"],f)}const o=r(t,["createTime"]);o!=null&&u(e,["createTime"],o);const l=r(t,["modelVersion"]);l!=null&&u(e,["modelVersion"],l);const s=r(t,["promptFeedback"]);s!=null&&u(e,["promptFeedback"],s);const a=r(t,["responseId"]);a!=null&&u(e,["responseId"],a);const c=r(t,["usageMetadata"]);return c!=null&&u(e,["usageMetadata"],c),e}function yw(t,e){const n={};if(r(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=r(t,["numberOfImages"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);const o=r(t,["aspectRatio"]);e!==void 0&&o!=null&&u(e,["parameters","aspectRatio"],o);const l=r(t,["guidanceScale"]);if(e!==void 0&&l!=null&&u(e,["parameters","guidanceScale"],l),r(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=r(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&u(e,["parameters","safetySetting"],s);const a=r(t,["personGeneration"]);e!==void 0&&a!=null&&u(e,["parameters","personGeneration"],a);const c=r(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&u(e,["parameters","includeSafetyAttributes"],c);const f=r(t,["includeRaiReason"]);e!==void 0&&f!=null&&u(e,["parameters","includeRaiReason"],f);const d=r(t,["language"]);e!==void 0&&d!=null&&u(e,["parameters","language"],d);const h=r(t,["outputMimeType"]);e!==void 0&&h!=null&&u(e,["parameters","outputOptions","mimeType"],h);const p=r(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&u(e,["parameters","outputOptions","compressionQuality"],p),r(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(r(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=r(t,["imageSize"]);if(e!==void 0&&g!=null&&u(e,["parameters","sampleImageSize"],g),r(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function vw(t,e){const n={},i=r(t,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);const o=r(t,["negativePrompt"]);e!==void 0&&o!=null&&u(e,["parameters","negativePrompt"],o);const l=r(t,["numberOfImages"]);e!==void 0&&l!=null&&u(e,["parameters","sampleCount"],l);const s=r(t,["aspectRatio"]);e!==void 0&&s!=null&&u(e,["parameters","aspectRatio"],s);const a=r(t,["guidanceScale"]);e!==void 0&&a!=null&&u(e,["parameters","guidanceScale"],a);const c=r(t,["seed"]);e!==void 0&&c!=null&&u(e,["parameters","seed"],c);const f=r(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&u(e,["parameters","safetySetting"],f);const d=r(t,["personGeneration"]);e!==void 0&&d!=null&&u(e,["parameters","personGeneration"],d);const h=r(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&u(e,["parameters","includeSafetyAttributes"],h);const p=r(t,["includeRaiReason"]);e!==void 0&&p!=null&&u(e,["parameters","includeRaiReason"],p);const g=r(t,["language"]);e!==void 0&&g!=null&&u(e,["parameters","language"],g);const v=r(t,["outputMimeType"]);e!==void 0&&v!=null&&u(e,["parameters","outputOptions","mimeType"],v);const E=r(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&u(e,["parameters","outputOptions","compressionQuality"],E);const A=r(t,["addWatermark"]);e!==void 0&&A!=null&&u(e,["parameters","addWatermark"],A);const y=r(t,["labels"]);e!==void 0&&y!=null&&u(e,["labels"],y);const m=r(t,["imageSize"]);e!==void 0&&m!=null&&u(e,["parameters","sampleImageSize"],m);const T=r(t,["enhancePrompt"]);return e!==void 0&&T!=null&&u(e,["parameters","enhancePrompt"],T),n}function Sw(t,e){const n={},i=r(e,["model"]);i!=null&&u(n,["_url","model"],ie(t,i));const o=r(e,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const l=r(e,["config"]);return l!=null&&yw(l,n),n}function Tw(t,e){const n={},i=r(e,["model"]);i!=null&&u(n,["_url","model"],ie(t,i));const o=r(e,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const l=r(e,["config"]);return l!=null&&vw(l,n),n}function Ew(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=r(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>Lw(s))),u(e,["generatedImages"],l)}const o=r(t,["positivePromptSafetyAttributes"]);return o!=null&&u(e,["positivePromptSafetyAttributes"],av(o)),e}function Cw(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=r(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>Cr(s))),u(e,["generatedImages"],l)}const o=r(t,["positivePromptSafetyAttributes"]);return o!=null&&u(e,["positivePromptSafetyAttributes"],rv(o)),e}function Aw(t,e){const n={},i=r(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i),r(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=r(t,["durationSeconds"]);if(e!==void 0&&o!=null&&u(e,["parameters","durationSeconds"],o),r(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=r(t,["aspectRatio"]);e!==void 0&&l!=null&&u(e,["parameters","aspectRatio"],l);const s=r(t,["resolution"]);e!==void 0&&s!=null&&u(e,["parameters","resolution"],s);const a=r(t,["personGeneration"]);if(e!==void 0&&a!=null&&u(e,["parameters","personGeneration"],a),r(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=r(t,["negativePrompt"]);e!==void 0&&c!=null&&u(e,["parameters","negativePrompt"],c);const f=r(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&u(e,["parameters","enhancePrompt"],f),r(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=r(t,["lastFrame"]);e!==void 0&&d!=null&&u(e,["instances[0]","lastFrame"],Ar(d));const h=r(t,["referenceImages"]);if(e!==void 0&&h!=null){let p=h;Array.isArray(p)&&(p=p.map(g=>xb(g))),u(e,["instances[0]","referenceImages"],p)}if(r(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(r(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function _w(t,e){const n={},i=r(t,["numberOfVideos"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);const o=r(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const l=r(t,["fps"]);e!==void 0&&l!=null&&u(e,["parameters","fps"],l);const s=r(t,["durationSeconds"]);e!==void 0&&s!=null&&u(e,["parameters","durationSeconds"],s);const a=r(t,["seed"]);e!==void 0&&a!=null&&u(e,["parameters","seed"],a);const c=r(t,["aspectRatio"]);e!==void 0&&c!=null&&u(e,["parameters","aspectRatio"],c);const f=r(t,["resolution"]);e!==void 0&&f!=null&&u(e,["parameters","resolution"],f);const d=r(t,["personGeneration"]);e!==void 0&&d!=null&&u(e,["parameters","personGeneration"],d);const h=r(t,["pubsubTopic"]);e!==void 0&&h!=null&&u(e,["parameters","pubsubTopic"],h);const p=r(t,["negativePrompt"]);e!==void 0&&p!=null&&u(e,["parameters","negativePrompt"],p);const g=r(t,["enhancePrompt"]);e!==void 0&&g!=null&&u(e,["parameters","enhancePrompt"],g);const v=r(t,["generateAudio"]);e!==void 0&&v!=null&&u(e,["parameters","generateAudio"],v);const E=r(t,["lastFrame"]);e!==void 0&&E!=null&&u(e,["instances[0]","lastFrame"],Zt(E));const A=r(t,["referenceImages"]);if(e!==void 0&&A!=null){let T=A;Array.isArray(T)&&(T=T.map(C=>wb(C))),u(e,["instances[0]","referenceImages"],T)}const y=r(t,["mask"]);e!==void 0&&y!=null&&u(e,["instances[0]","mask"],_b(y));const m=r(t,["compressionQuality"]);return e!==void 0&&m!=null&&u(e,["parameters","compressionQuality"],m),n}function xw(t){const e={},n=r(t,["name"]);n!=null&&u(e,["name"],n);const i=r(t,["metadata"]);i!=null&&u(e,["metadata"],i);const o=r(t,["done"]);o!=null&&u(e,["done"],o);const l=r(t,["error"]);l!=null&&u(e,["error"],l);const s=r(t,["response","generateVideoResponse"]);return s!=null&&u(e,["response"],Nw(s)),e}function ww(t){const e={},n=r(t,["name"]);n!=null&&u(e,["name"],n);const i=r(t,["metadata"]);i!=null&&u(e,["metadata"],i);const o=r(t,["done"]);o!=null&&u(e,["done"],o);const l=r(t,["error"]);l!=null&&u(e,["error"],l);const s=r(t,["response"]);return s!=null&&u(e,["response"],Mw(s)),e}function bw(t,e){const n={},i=r(e,["model"]);i!=null&&u(n,["_url","model"],ie(t,i));const o=r(e,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const l=r(e,["image"]);l!=null&&u(n,["instances[0]","image"],Ar(l));const s=r(e,["video"]);s!=null&&u(n,["instances[0]","video"],fv(s));const a=r(e,["source"]);a!=null&&Iw(a,n);const c=r(e,["config"]);return c!=null&&Aw(c,n),n}function Rw(t,e){const n={},i=r(e,["model"]);i!=null&&u(n,["_url","model"],ie(t,i));const o=r(e,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const l=r(e,["image"]);l!=null&&u(n,["instances[0]","image"],Zt(l));const s=r(e,["video"]);s!=null&&u(n,["instances[0]","video"],dv(s));const a=r(e,["source"]);a!=null&&Dw(a,n);const c=r(e,["config"]);return c!=null&&_w(c,n),n}function Nw(t){const e={},n=r(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>kw(s))),u(e,["generatedVideos"],l)}const i=r(t,["raiMediaFilteredCount"]);i!=null&&u(e,["raiMediaFilteredCount"],i);const o=r(t,["raiMediaFilteredReasons"]);return o!=null&&u(e,["raiMediaFilteredReasons"],o),e}function Mw(t){const e={},n=r(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>Ow(s))),u(e,["generatedVideos"],l)}const i=r(t,["raiMediaFilteredCount"]);i!=null&&u(e,["raiMediaFilteredCount"],i);const o=r(t,["raiMediaFilteredReasons"]);return o!=null&&u(e,["raiMediaFilteredReasons"],o),e}function Iw(t,e){const n={},i=r(t,["prompt"]);e!==void 0&&i!=null&&u(e,["instances[0]","prompt"],i);const o=r(t,["image"]);e!==void 0&&o!=null&&u(e,["instances[0]","image"],Ar(o));const l=r(t,["video"]);return e!==void 0&&l!=null&&u(e,["instances[0]","video"],fv(l)),n}function Dw(t,e){const n={},i=r(t,["prompt"]);e!==void 0&&i!=null&&u(e,["instances[0]","prompt"],i);const o=r(t,["image"]);e!==void 0&&o!=null&&u(e,["instances[0]","image"],Zt(o));const l=r(t,["video"]);return e!==void 0&&l!=null&&u(e,["instances[0]","video"],dv(l)),n}function Lw(t){const e={},n=r(t,["_self"]);n!=null&&u(e,["image"],Fw(n));const i=r(t,["raiFilteredReason"]);i!=null&&u(e,["raiFilteredReason"],i);const o=r(t,["_self"]);return o!=null&&u(e,["safetyAttributes"],av(o)),e}function Cr(t){const e={},n=r(t,["_self"]);n!=null&&u(e,["image"],sv(n));const i=r(t,["raiFilteredReason"]);i!=null&&u(e,["raiFilteredReason"],i);const o=r(t,["_self"]);o!=null&&u(e,["safetyAttributes"],rv(o));const l=r(t,["prompt"]);return l!=null&&u(e,["enhancedPrompt"],l),e}function Uw(t){const e={},n=r(t,["_self"]);n!=null&&u(e,["mask"],sv(n));const i=r(t,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),u(e,["labels"],o)}return e}function kw(t){const e={},n=r(t,["video"]);return n!=null&&u(e,["video"],Cb(n)),e}function Ow(t){const e={},n=r(t,["_self"]);return n!=null&&u(e,["video"],Ab(n)),e}function Pw(t){const e={},n=r(t,["modelSelectionConfig"]);n!=null&&u(e,["modelConfig"],n);const i=r(t,["responseJsonSchema"]);i!=null&&u(e,["responseJsonSchema"],i);const o=r(t,["audioTimestamp"]);o!=null&&u(e,["audioTimestamp"],o);const l=r(t,["candidateCount"]);l!=null&&u(e,["candidateCount"],l);const s=r(t,["enableAffectiveDialog"]);s!=null&&u(e,["enableAffectiveDialog"],s);const a=r(t,["frequencyPenalty"]);a!=null&&u(e,["frequencyPenalty"],a);const c=r(t,["logprobs"]);c!=null&&u(e,["logprobs"],c);const f=r(t,["maxOutputTokens"]);f!=null&&u(e,["maxOutputTokens"],f);const d=r(t,["mediaResolution"]);d!=null&&u(e,["mediaResolution"],d);const h=r(t,["presencePenalty"]);h!=null&&u(e,["presencePenalty"],h);const p=r(t,["responseLogprobs"]);p!=null&&u(e,["responseLogprobs"],p);const g=r(t,["responseMimeType"]);g!=null&&u(e,["responseMimeType"],g);const v=r(t,["responseModalities"]);v!=null&&u(e,["responseModalities"],v);const E=r(t,["responseSchema"]);E!=null&&u(e,["responseSchema"],E);const A=r(t,["routingConfig"]);A!=null&&u(e,["routingConfig"],A);const y=r(t,["seed"]);y!=null&&u(e,["seed"],y);const m=r(t,["speechConfig"]);m!=null&&u(e,["speechConfig"],uv(m));const T=r(t,["stopSequences"]);T!=null&&u(e,["stopSequences"],T);const C=r(t,["temperature"]);C!=null&&u(e,["temperature"],C);const x=r(t,["thinkingConfig"]);x!=null&&u(e,["thinkingConfig"],x);const N=r(t,["topK"]);N!=null&&u(e,["topK"],N);const _=r(t,["topP"]);if(_!=null&&u(e,["topP"],_),r(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Hw(t,e){const n={},i=r(e,["model"]);return i!=null&&u(n,["_url","name"],ie(t,i)),n}function Gw(t,e){const n={},i=r(e,["model"]);return i!=null&&u(n,["_url","name"],ie(t,i)),n}function Vw(t){const e={};if(r(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=r(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function zw(t){const e={};if(r(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=r(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function Bw(t){const e={},n=r(t,["aspectRatio"]);n!=null&&u(e,["aspectRatio"],n);const i=r(t,["imageSize"]);if(i!=null&&u(e,["imageSize"],i),r(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(r(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function qw(t){const e={},n=r(t,["aspectRatio"]);n!=null&&u(e,["aspectRatio"],n);const i=r(t,["imageSize"]);i!=null&&u(e,["imageSize"],i);const o=r(t,["outputMimeType"]);o!=null&&u(e,["imageOutputOptions","mimeType"],o);const l=r(t,["outputCompressionQuality"]);return l!=null&&u(e,["imageOutputOptions","compressionQuality"],l),e}function Fw(t){const e={},n=r(t,["bytesBase64Encoded"]);n!=null&&u(e,["imageBytes"],mi(n));const i=r(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function sv(t){const e={},n=r(t,["gcsUri"]);n!=null&&u(e,["gcsUri"],n);const i=r(t,["bytesBase64Encoded"]);i!=null&&u(e,["imageBytes"],mi(i));const o=r(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Ar(t){const e={};if(r(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=r(t,["imageBytes"]);n!=null&&u(e,["bytesBase64Encoded"],mi(n));const i=r(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function Zt(t){const e={},n=r(t,["gcsUri"]);n!=null&&u(e,["gcsUri"],n);const i=r(t,["imageBytes"]);i!=null&&u(e,["bytesBase64Encoded"],mi(i));const o=r(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Jw(t,e,n){const i={},o=r(e,["pageSize"]);n!==void 0&&o!=null&&u(n,["_query","pageSize"],o);const l=r(e,["pageToken"]);n!==void 0&&l!=null&&u(n,["_query","pageToken"],l);const s=r(e,["filter"]);n!==void 0&&s!=null&&u(n,["_query","filter"],s);const a=r(e,["queryBase"]);return n!==void 0&&a!=null&&u(n,["_url","models_url"],W0(t,a)),i}function Yw(t,e,n){const i={},o=r(e,["pageSize"]);n!==void 0&&o!=null&&u(n,["_query","pageSize"],o);const l=r(e,["pageToken"]);n!==void 0&&l!=null&&u(n,["_query","pageToken"],l);const s=r(e,["filter"]);n!==void 0&&s!=null&&u(n,["_query","filter"],s);const a=r(e,["queryBase"]);return n!==void 0&&a!=null&&u(n,["_url","models_url"],W0(t,a)),i}function Kw(t,e){const n={},i=r(e,["config"]);return i!=null&&Jw(t,i,n),n}function $w(t,e){const n={},i=r(e,["config"]);return i!=null&&Yw(t,i,n),n}function Xw(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=r(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=r(t,["_self"]);if(o!=null){let l=j0(o);Array.isArray(l)&&(l=l.map(s=>wc(s))),u(e,["models"],l)}return e}function Qw(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=r(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=r(t,["_self"]);if(o!=null){let l=j0(o);Array.isArray(l)&&(l=l.map(s=>bc(s))),u(e,["models"],l)}return e}function Zw(t){const e={},n=r(t,["maskMode"]);n!=null&&u(e,["maskMode"],n);const i=r(t,["segmentationClasses"]);i!=null&&u(e,["maskClasses"],i);const o=r(t,["maskDilation"]);return o!=null&&u(e,["dilation"],o),e}function wc(t){const e={},n=r(t,["name"]);n!=null&&u(e,["name"],n);const i=r(t,["displayName"]);i!=null&&u(e,["displayName"],i);const o=r(t,["description"]);o!=null&&u(e,["description"],o);const l=r(t,["version"]);l!=null&&u(e,["version"],l);const s=r(t,["_self"]);s!=null&&u(e,["tunedModelInfo"],pb(s));const a=r(t,["inputTokenLimit"]);a!=null&&u(e,["inputTokenLimit"],a);const c=r(t,["outputTokenLimit"]);c!=null&&u(e,["outputTokenLimit"],c);const f=r(t,["supportedGenerationMethods"]);f!=null&&u(e,["supportedActions"],f);const d=r(t,["temperature"]);d!=null&&u(e,["temperature"],d);const h=r(t,["maxTemperature"]);h!=null&&u(e,["maxTemperature"],h);const p=r(t,["topP"]);p!=null&&u(e,["topP"],p);const g=r(t,["topK"]);g!=null&&u(e,["topK"],g);const v=r(t,["thinking"]);return v!=null&&u(e,["thinking"],v),e}function bc(t){const e={},n=r(t,["name"]);n!=null&&u(e,["name"],n);const i=r(t,["displayName"]);i!=null&&u(e,["displayName"],i);const o=r(t,["description"]);o!=null&&u(e,["description"],o);const l=r(t,["versionId"]);l!=null&&u(e,["version"],l);const s=r(t,["deployedModels"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(p=>cw(p))),u(e,["endpoints"],h)}const a=r(t,["labels"]);a!=null&&u(e,["labels"],a);const c=r(t,["_self"]);c!=null&&u(e,["tunedModelInfo"],hb(c));const f=r(t,["defaultCheckpointId"]);f!=null&&u(e,["defaultCheckpointId"],f);const d=r(t,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(p=>p)),u(e,["checkpoints"],h)}return e}function Ww(t){const e={},n=r(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);const i=r(t,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const o=r(t,["executableCode"]);o!=null&&u(e,["executableCode"],o);const l=r(t,["fileData"]);l!=null&&u(e,["fileData"],fw(l));const s=r(t,["functionCall"]);s!=null&&u(e,["functionCall"],dw(s));const a=r(t,["functionResponse"]);a!=null&&u(e,["functionResponse"],a);const c=r(t,["inlineData"]);c!=null&&u(e,["inlineData"],Px(c));const f=r(t,["text"]);f!=null&&u(e,["text"],f);const d=r(t,["thought"]);d!=null&&u(e,["thought"],d);const h=r(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const p=r(t,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function jw(t){const e={},n=r(t,["productImage"]);return n!=null&&u(e,["image"],Zt(n)),e}function eb(t,e){const n={},i=r(t,["numberOfImages"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);const o=r(t,["baseSteps"]);e!==void 0&&o!=null&&u(e,["parameters","baseSteps"],o);const l=r(t,["outputGcsUri"]);e!==void 0&&l!=null&&u(e,["parameters","storageUri"],l);const s=r(t,["seed"]);e!==void 0&&s!=null&&u(e,["parameters","seed"],s);const a=r(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&u(e,["parameters","safetySetting"],a);const c=r(t,["personGeneration"]);e!==void 0&&c!=null&&u(e,["parameters","personGeneration"],c);const f=r(t,["addWatermark"]);e!==void 0&&f!=null&&u(e,["parameters","addWatermark"],f);const d=r(t,["outputMimeType"]);e!==void 0&&d!=null&&u(e,["parameters","outputOptions","mimeType"],d);const h=r(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&u(e,["parameters","outputOptions","compressionQuality"],h);const p=r(t,["enhancePrompt"]);e!==void 0&&p!=null&&u(e,["parameters","enhancePrompt"],p);const g=r(t,["labels"]);return e!==void 0&&g!=null&&u(e,["labels"],g),n}function tb(t,e){const n={},i=r(e,["model"]);i!=null&&u(n,["_url","model"],ie(t,i));const o=r(e,["source"]);o!=null&&ib(o,n);const l=r(e,["config"]);return l!=null&&eb(l,n),n}function nb(t){const e={},n=r(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Cr(o))),u(e,["generatedImages"],i)}return e}function ib(t,e){const n={},i=r(t,["prompt"]);e!==void 0&&i!=null&&u(e,["instances[0]","prompt"],i);const o=r(t,["personImage"]);e!==void 0&&o!=null&&u(e,["instances[0]","personImage","image"],Zt(o));const l=r(t,["productImages"]);if(e!==void 0&&l!=null){let s=l;Array.isArray(s)&&(s=s.map(a=>jw(a))),u(e,["instances[0]","productImages"],s)}return n}function ob(t){const e={},n=r(t,["referenceImage"]);n!=null&&u(e,["referenceImage"],Zt(n));const i=r(t,["referenceId"]);i!=null&&u(e,["referenceId"],i);const o=r(t,["referenceType"]);o!=null&&u(e,["referenceType"],o);const l=r(t,["maskImageConfig"]);l!=null&&u(e,["maskImageConfig"],Zw(l));const s=r(t,["controlImageConfig"]);s!=null&&u(e,["controlImageConfig"],Fx(s));const a=r(t,["styleImageConfig"]);a!=null&&u(e,["styleImageConfig"],a);const c=r(t,["subjectImageConfig"]);return c!=null&&u(e,["subjectImageConfig"],c),e}function av(t){const e={},n=r(t,["safetyAttributes","categories"]);n!=null&&u(e,["categories"],n);const i=r(t,["safetyAttributes","scores"]);i!=null&&u(e,["scores"],i);const o=r(t,["contentType"]);return o!=null&&u(e,["contentType"],o),e}function rv(t){const e={},n=r(t,["safetyAttributes","categories"]);n!=null&&u(e,["categories"],n);const i=r(t,["safetyAttributes","scores"]);i!=null&&u(e,["scores"],i);const o=r(t,["contentType"]);return o!=null&&u(e,["contentType"],o),e}function lb(t){const e={},n=r(t,["category"]);if(n!=null&&u(e,["category"],n),r(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=r(t,["threshold"]);return i!=null&&u(e,["threshold"],i),e}function sb(t){const e={},n=r(t,["image"]);return n!=null&&u(e,["image"],Zt(n)),e}function ab(t,e){const n={},i=r(t,["mode"]);e!==void 0&&i!=null&&u(e,["parameters","mode"],i);const o=r(t,["maxPredictions"]);e!==void 0&&o!=null&&u(e,["parameters","maxPredictions"],o);const l=r(t,["confidenceThreshold"]);e!==void 0&&l!=null&&u(e,["parameters","confidenceThreshold"],l);const s=r(t,["maskDilation"]);e!==void 0&&s!=null&&u(e,["parameters","maskDilation"],s);const a=r(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&u(e,["parameters","binaryColorThreshold"],a);const c=r(t,["labels"]);return e!==void 0&&c!=null&&u(e,["labels"],c),n}function rb(t,e){const n={},i=r(e,["model"]);i!=null&&u(n,["_url","model"],ie(t,i));const o=r(e,["source"]);o!=null&&cb(o,n);const l=r(e,["config"]);return l!=null&&ab(l,n),n}function ub(t){const e={},n=r(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Uw(o))),u(e,["generatedMasks"],i)}return e}function cb(t,e){const n={},i=r(t,["prompt"]);e!==void 0&&i!=null&&u(e,["instances[0]","prompt"],i);const o=r(t,["image"]);e!==void 0&&o!=null&&u(e,["instances[0]","image"],Zt(o));const l=r(t,["scribbleImage"]);return e!==void 0&&l!=null&&u(e,["instances[0]","scribble"],sb(l)),n}function uv(t){const e={},n=r(t,["voiceConfig"]);n!=null&&u(e,["voiceConfig"],n);const i=r(t,["languageCode"]);if(i!=null&&u(e,["languageCode"],i),r(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function fb(t){const e={},n=r(t,["functionCallingConfig"]);n!=null&&u(e,["functionCallingConfig"],pw(n));const i=r(t,["retrievalConfig"]);return i!=null&&u(e,["retrievalConfig"],i),e}function db(t){const e={},n=r(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),u(e,["functionDeclarations"],d)}if(r(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=r(t,["googleSearchRetrieval"]);i!=null&&u(e,["googleSearchRetrieval"],i);const o=r(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);const l=r(t,["fileSearch"]);l!=null&&u(e,["fileSearch"],l);const s=r(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),r(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=r(t,["googleMaps"]);a!=null&&u(e,["googleMaps"],Vw(a));const c=r(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],zw(c));const f=r(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function cv(t){const e={},n=r(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>hw(p))),u(e,["functionDeclarations"],h)}const i=r(t,["retrieval"]);i!=null&&u(e,["retrieval"],i);const o=r(t,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);const l=r(t,["computerUse"]);if(l!=null&&u(e,["computerUse"],l),r(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=r(t,["codeExecution"]);s!=null&&u(e,["codeExecution"],s);const a=r(t,["enterpriseWebSearch"]);a!=null&&u(e,["enterpriseWebSearch"],a);const c=r(t,["googleMaps"]);c!=null&&u(e,["googleMaps"],c);const f=r(t,["googleSearch"]);f!=null&&u(e,["googleSearch"],f);const d=r(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function pb(t){const e={},n=r(t,["baseModel"]);n!=null&&u(e,["baseModel"],n);const i=r(t,["createTime"]);i!=null&&u(e,["createTime"],i);const o=r(t,["updateTime"]);return o!=null&&u(e,["updateTime"],o),e}function hb(t){const e={},n=r(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&u(e,["baseModel"],n);const i=r(t,["createTime"]);i!=null&&u(e,["createTime"],i);const o=r(t,["updateTime"]);return o!=null&&u(e,["updateTime"],o),e}function gb(t,e){const n={},i=r(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);const o=r(t,["description"]);e!==void 0&&o!=null&&u(e,["description"],o);const l=r(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&u(e,["defaultCheckpointId"],l),n}function mb(t,e){const n={},i=r(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);const o=r(t,["description"]);e!==void 0&&o!=null&&u(e,["description"],o);const l=r(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&u(e,["defaultCheckpointId"],l),n}function yb(t,e){const n={},i=r(e,["model"]);i!=null&&u(n,["_url","name"],ie(t,i));const o=r(e,["config"]);return o!=null&&gb(o,n),n}function vb(t,e){const n={},i=r(e,["model"]);i!=null&&u(n,["_url","model"],ie(t,i));const o=r(e,["config"]);return o!=null&&mb(o,n),n}function Sb(t,e){const n={},i=r(t,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);const o=r(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&u(e,["parameters","safetySetting"],o);const l=r(t,["personGeneration"]);e!==void 0&&l!=null&&u(e,["parameters","personGeneration"],l);const s=r(t,["includeRaiReason"]);e!==void 0&&s!=null&&u(e,["parameters","includeRaiReason"],s);const a=r(t,["outputMimeType"]);e!==void 0&&a!=null&&u(e,["parameters","outputOptions","mimeType"],a);const c=r(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&u(e,["parameters","outputOptions","compressionQuality"],c);const f=r(t,["enhanceInputImage"]);e!==void 0&&f!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],f);const d=r(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const h=r(t,["labels"]);e!==void 0&&h!=null&&u(e,["labels"],h);const p=r(t,["numberOfImages"]);e!==void 0&&p!=null&&u(e,["parameters","sampleCount"],p);const g=r(t,["mode"]);return e!==void 0&&g!=null&&u(e,["parameters","mode"],g),n}function Tb(t,e){const n={},i=r(e,["model"]);i!=null&&u(n,["_url","model"],ie(t,i));const o=r(e,["image"]);o!=null&&u(n,["instances[0]","image"],Zt(o));const l=r(e,["upscaleFactor"]);l!=null&&u(n,["parameters","upscaleConfig","upscaleFactor"],l);const s=r(e,["config"]);return s!=null&&Sb(s,n),n}function Eb(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=r(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Cr(l))),u(e,["generatedImages"],o)}return e}function Cb(t){const e={},n=r(t,["uri"]);n!=null&&u(e,["uri"],n);const i=r(t,["encodedVideo"]);i!=null&&u(e,["videoBytes"],mi(i));const o=r(t,["encoding"]);return o!=null&&u(e,["mimeType"],o),e}function Ab(t){const e={},n=r(t,["gcsUri"]);n!=null&&u(e,["uri"],n);const i=r(t,["bytesBase64Encoded"]);i!=null&&u(e,["videoBytes"],mi(i));const o=r(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function _b(t){const e={},n=r(t,["image"]);n!=null&&u(e,["_self"],Zt(n));const i=r(t,["maskMode"]);return i!=null&&u(e,["maskMode"],i),e}function xb(t){const e={},n=r(t,["image"]);n!=null&&u(e,["image"],Ar(n));const i=r(t,["referenceType"]);return i!=null&&u(e,["referenceType"],i),e}function wb(t){const e={},n=r(t,["image"]);n!=null&&u(e,["image"],Zt(n));const i=r(t,["referenceType"]);return i!=null&&u(e,["referenceType"],i),e}function fv(t){const e={},n=r(t,["uri"]);n!=null&&u(e,["uri"],n);const i=r(t,["videoBytes"]);i!=null&&u(e,["encodedVideo"],mi(i));const o=r(t,["mimeType"]);return o!=null&&u(e,["encoding"],o),e}function dv(t){const e={},n=r(t,["uri"]);n!=null&&u(e,["gcsUri"],n);const i=r(t,["videoBytes"]);i!=null&&u(e,["bytesBase64Encoded"],mi(i));const o=r(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bb(t,e){const n={},i=r(t,["displayName"]);return e!==void 0&&i!=null&&u(e,["displayName"],i),n}function Rb(t){const e={},n=r(t,["config"]);return n!=null&&bb(n,e),e}function Nb(t,e){const n={},i=r(t,["force"]);return e!==void 0&&i!=null&&u(e,["_query","force"],i),n}function Mb(t){const e={},n=r(t,["name"]);n!=null&&u(e,["_url","name"],n);const i=r(t,["config"]);return i!=null&&Nb(i,e),e}function Ib(t){const e={},n=r(t,["name"]);return n!=null&&u(e,["_url","name"],n),e}function Db(t,e){const n={},i=r(t,["customMetadata"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>s)),u(e,["customMetadata"],l)}const o=r(t,["chunkingConfig"]);return e!==void 0&&o!=null&&u(e,["chunkingConfig"],o),n}function Lb(t){const e={},n=r(t,["name"]);n!=null&&u(e,["name"],n);const i=r(t,["metadata"]);i!=null&&u(e,["metadata"],i);const o=r(t,["done"]);o!=null&&u(e,["done"],o);const l=r(t,["error"]);l!=null&&u(e,["error"],l);const s=r(t,["response"]);return s!=null&&u(e,["response"],kb(s)),e}function Ub(t){const e={},n=r(t,["fileSearchStoreName"]);n!=null&&u(e,["_url","file_search_store_name"],n);const i=r(t,["fileName"]);i!=null&&u(e,["fileName"],i);const o=r(t,["config"]);return o!=null&&Db(o,e),e}function kb(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=r(t,["parent"]);i!=null&&u(e,["parent"],i);const o=r(t,["documentName"]);return o!=null&&u(e,["documentName"],o),e}function Ob(t,e){const n={},i=r(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const o=r(t,["pageToken"]);return e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),n}function Pb(t){const e={},n=r(t,["config"]);return n!=null&&Ob(n,e),e}function Hb(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=r(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=r(t,["fileSearchStores"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(e,["fileSearchStores"],l)}return e}function pv(t,e){const n={},i=r(t,["mimeType"]);e!==void 0&&i!=null&&u(e,["mimeType"],i);const o=r(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const l=r(t,["customMetadata"]);if(e!==void 0&&l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>c)),u(e,["customMetadata"],a)}const s=r(t,["chunkingConfig"]);return e!==void 0&&s!=null&&u(e,["chunkingConfig"],s),n}function Gb(t){const e={},n=r(t,["fileSearchStoreName"]);n!=null&&u(e,["_url","file_search_store_name"],n);const i=r(t,["config"]);return i!=null&&pv(i,e),e}function Vb(t){const e={},n=r(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zb="Content-Type",Bb="X-Server-Timeout",qb="User-Agent",Rc="x-goog-api-client",Fb="1.33.0",Jb=`google-genai-sdk/${Fb}`,Yb="v1beta1",Kb="v1beta";class $b{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Yb,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Kb,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))o.searchParams.append(s,String(a));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),e.abortSignal),this.unaryApiCall(o,l,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,l]of Object.entries(n))typeof l=="object"?i[o]=Object.assign(Object.assign({},i[o]),l):l!==void 0&&(i[o]=l);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),e.abortSignal),this.streamApiCall(o,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,o){if(n&&n.timeout||o){const l=new AbortController,s=l.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>l.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}o&&o.addEventListener("abort",()=>{l.abort()}),e.signal=s}return n&&n.extraBody!==null&&Xb(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await eg(o),new Ac(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await eg(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){return $t(this,arguments,function*(){var i;const o=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let s="";const a="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:d}=yield Y(o.read());if(f){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=l.decode(d,{stream:!0});try{const v=JSON.parse(h);if("error"in v){const E=JSON.parse(JSON.stringify(v.error)),A=E.status,y=E.code,m=`got status: ${A}. ${JSON.stringify(v)}`;if(y>=400&&y<600)throw new Tr({message:m,status:y})}}catch(v){if(v.name==="ApiError")throw v}s+=h;let p=-1,g=0;for(;;){p=-1,g=0;for(const A of c){const y=s.indexOf(A);y!==-1&&(p===-1||y<p)&&(p=y,g=A.length)}if(p===-1)break;const v=s.substring(0,p);s=s.substring(p+g);const E=v.trim();if(E.startsWith(a)){const A=E.substring(a.length).trim();try{const y=new Response(A,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Y(new Ac(y))}catch(y){throw new Error(`exception parsing stream chunk ${A}. ${y}`)}}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=Jb+" "+this.clientOptions.userAgentExtra;return e[qb]=n,e[Rc]=n,e[zb]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[o,l]of Object.entries(e.headers))i.append(o,l);e.timeout&&e.timeout>0&&i.append(Bb,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,s=await l.stat(e);o.sizeBytes=String(s.size);const a=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=a;const c={file:o},f=this.getFileName(e),d=V("upload/v1beta/files",c._url),h=await this.fetchUploadUrl(d,o.sizeBytes,o.mimeType,f,c,n==null?void 0:n.httpOptions);return l.upload(e,h,this)}async uploadFileToFileSearchStore(e,n,i){var o;const l=this.clientOptions.uploader,s=await l.stat(n),a=String(s.size),c=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(n),h={};i!=null&&pv(i,h);const p=await this.fetchUploadUrl(f,a,c,d,h,i==null?void 0:i.httpOptions);return l.uploadToFileSearchStore(n,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,o,l,s){var a;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},o?{"X-Goog-Upload-File-Name":o}:{})};const f=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(a=f==null?void 0:f.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function eg(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new Tr({message:o,status:n}):new Error(o)}}function Xb(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(l,s){const a=Object.assign({},l);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const f=s[c],d=a[c];f&&typeof f=="object"&&!Array.isArray(f)&&d&&typeof d=="object"&&!Array.isArray(d)?a[c]=i(d,f):(d&&f&&typeof d!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof f}. Overwriting.`),a[c]=f)}return a}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qb="mcp_used/unknown";let Zb=!1;function hv(t){for(const e of t)if(Wb(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Zb}function gv(t){var e;const n=(e=t[Rc])!==null&&e!==void 0?e:"";t[Rc]=(n+` ${Qb}`).trimStart()}function Wb(t){return t!==null&&typeof t=="object"&&t instanceof Qf}function jb(t){return $t(this,arguments,function*(n,i=100){let o,l=0;for(;l<i;){const s=yield Y(n.listTools({cursor:o}));for(const a of s.tools)yield yield Y(a),l++;if(!s.nextCursor)break;o=s.nextCursor}})}class Qf{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Qf(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const l={},s=[];for(const d of this.mcpClients)try{for(var a=!0,c=(n=void 0,Xt(jb(d))),f;f=await c.next(),e=f.done,!e;a=!0){o=f.value,a=!1;const h=o;s.push(h);const p=h.name;if(l[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);l[p]=d}}catch(h){n={error:h}}finally{try{!a&&!e&&(i=c.return)&&await i.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),IA(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const s=await o.callTool({name:i.name,arguments:i.args},void 0,l);n.push({functionResponse:{name:i.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function e1(t,e,n){const i=new AA;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(i,o),e(i)}class t1{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),s=o1(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),c=`${o}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${a}`;let f=()=>{};const d=new Promise(T=>{f=T}),h=e.callbacks,p=function(){f({})},g=this.apiClient,v={onopen:p,onmessage:T=>{e1(g,h.onmessage,T)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(T){},onclose:(i=h==null?void 0:h.onclose)!==null&&i!==void 0?i:function(T){}},E=this.webSocketFactory.create(c,i1(s),v);E.connect(),await d;const m={setup:{model:ie(this.apiClient,e.model)}};return E.send(JSON.stringify(m)),new n1(E,this.apiClient)}}class n1{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Rx(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=bx(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Oo.PLAY)}pause(){this.sendPlaybackControl(Oo.PAUSE)}stop(){this.sendPlaybackControl(Oo.STOP)}resetContext(){this.sendPlaybackControl(Oo.RESET_CONTEXT)}close(){this.conn.close()}}function i1(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function o1(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const l1="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function s1(t,e,n){const i=new CA;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const l=JSON.parse(o);if(t.isVertexAI()){const s=Ix(l);Object.assign(i,s)}else Object.assign(i,l);e(i)}class a1{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new t1(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,l,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let d;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&hv(e.config.tools)&&gv(h);const p=f1(h);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,d);else{const b=this.apiClient.getApiKey();let L="BidiGenerateContent",B="key";b!=null&&b.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),L="BidiGenerateContentConstrained",B="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${L}?${B}=${b}`}let g=()=>{};const v=new Promise(b=>{g=b}),E=e.callbacks,A=function(){var b;(b=E==null?void 0:E.onopen)===null||b===void 0||b.call(E),g({})},y=this.apiClient,m={onopen:A,onmessage:b=>{s1(y,E.onmessage,b)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(b){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(b){}},T=this.webSocketFactory.create(d,c1(p),m);T.connect(),await v;let C=ie(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const b=this.apiClient.getProject(),L=this.apiClient.getLocation();C=`projects/${b}/locations/${L}/`+C}let x={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ja.AUDIO]}:e.config.responseModalities=[Ja.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],_=[];for(const b of N)if(this.isCallableTool(b)){const L=b;_.push(await L.tool())}else _.push(b);_.length>0&&(e.config.tools=_);const I={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?x=wx(this.apiClient,I):x=xx(this.apiClient,I),delete x.config,T.send(JSON.stringify(x)),new u1(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const r1={turnComplete:!0};class u1{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Gt(n.turns),e.isVertexAI()||(i=i.map(o=>Er(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const l of i){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(l1)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},r1),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Mx(e)}:n={realtimeInput:Nx(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function c1(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function f1(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tg=10;function ng(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Yo(s)){o=!0;break}if(!o)return!0;const l=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function Yo(t){return"callTool"in t&&typeof t.callTool=="function"}function d1(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>Yo(o)))!==null&&i!==void 0?i:!1}function ig(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,o)=>{if(Yo(i))return;const l=i;l.functionDeclarations&&l.functionDeclarations.length>0&&n.push(o)}),n}function og(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class p1 extends Pn{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,l,s,a;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!d1(n)||ng(n.config))return await this.generateContentInternal(c);const f=ig(n);if(f.length>0){const E=f.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let d,h;const p=Gt(c.contents),g=(l=(o=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:tg;let v=0;for(;v<g&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const E=d.candidates[0].content,A=[];for(const y of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(Yo(y)){const T=await y.callTool(d.functionCalls);A.push(...T)}v++,h={role:"user",parts:A},c.contents=Gt(c.contents),c.contents.push(E),c.contents.push(h),og(c.config)&&(p.push(E),p.push(h))}return og(c.config)&&(d.automaticFunctionCallingHistory=p),d},this.generateContentStream=async n=>{var i,o,l,s,a;if(this.maybeMoveToResponseJsonSchem(n),ng(n.config)){const h=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(h)}const c=ig(n);if(c.length>0){const h=c.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(l=(o=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,d=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(f&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let l;const s=[];if(i!=null&&i.generatedImages)for(const c of i.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((o=c==null?void 0:c.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=c==null?void 0:c.safetyAttributes:s.push(c);let a;return l?a={generatedImages:s,positivePromptSafetyAttributes:l,sdkHttpResponse:i.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:i.sdkHttpResponse},a}),this.list=async n=>{var i;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((i=s.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Ji(kn.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var i,o,l,s,a,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(l=n.source)===null||l===void 0?void 0:l.video)===null||s===void 0)&&s.uri&&(!((c=(a=n.source)===null||a===void 0?void 0:a.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,o;const l=(n=e.config)===null||n===void 0?void 0:n.tools;if(!l)return e;const s=await Promise.all(l.map(async c=>Yo(c)?await c.tool():c)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&hv(e.config.tools)){const c=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),gv(f),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return a}async initAfcToolsMap(e){var n,i,o;const l=new Map;for(const s of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Yo(s)){const a=s,c=await a.tool();for(const f of(o=c.functionDeclarations)!==null&&o!==void 0?o:[]){if(!f.name)throw new Error("Function declaration name is required.");if(l.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);l.set(f.name,a)}}return l}async processAfcStream(e){var n,i,o;const l=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:tg;let s=!1,a=0;const c=await this.initAfcToolsMap(e);return function(f,d,h){return $t(this,arguments,function*(){for(var p,g,v,E,A,y;a<l;){s&&(a++,s=!1);const x=yield Y(f.processParamsMaybeAddMcpUsage(h)),N=yield Y(f.generateContentStreamInternal(x)),_=[],I=[];try{for(var m=!0,T=(g=void 0,Xt(N)),C;C=yield Y(T.next()),p=C.done,!p;m=!0){E=C.value,m=!1;const b=E;if(yield yield Y(b),b.candidates&&(!((A=b.candidates[0])===null||A===void 0)&&A.content)){I.push(b.candidates[0].content);for(const L of(y=b.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(a<l&&L.functionCall){if(!L.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(L.functionCall.name)){const B=yield Y(d.get(L.functionCall.name).callTool([L.functionCall]));_.push(...B)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${L.functionCall.name}`)}}}}catch(b){g={error:b}}finally{try{!m&&!p&&(v=T.return)&&(yield Y(v.call(T)))}finally{if(g)throw g.error}}if(_.length>0){s=!0;const b=new bl;b.candidates=[{content:{role:"user",parts:_}}],yield yield Y(b);const L=[];L.push(...I),L.push({role:"user",parts:_});const B=Gt(h.contents).concat(L);h.contents=B}else break}})}(this,c,e)}async generateContentInternal(e){var n,i,o,l;let s,a="",c={};if(this.apiClient.isVertexAI()){const f=Zh(this.apiClient,e);return a=V("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=jh(d),p=new bl;return Object.assign(p,h),p})}else{const f=Qh(this.apiClient,e);return a=V("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=Wh(d),p=new bl;return Object.assign(p,h),p})}}async generateContentStreamInternal(e){var n,i,o,l;let s,a="",c={};if(this.apiClient.isVertexAI()){const f=Zh(this.apiClient,e);return a=V("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(h){return $t(this,arguments,function*(){var p,g,v,E;try{for(var A=!0,y=Xt(h),m;m=yield Y(y.next()),p=m.done,!p;A=!0){E=m.value,A=!1;const T=E,C=jh(yield Y(T.json()));C.sdkHttpResponse={headers:T.headers};const x=new bl;Object.assign(x,C),yield yield Y(x)}}catch(T){g={error:T}}finally{try{!A&&!p&&(v=y.return)&&(yield Y(v.call(y)))}finally{if(g)throw g.error}}})})}else{const f=Qh(this.apiClient,e);return a=V("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),s.then(function(h){return $t(this,arguments,function*(){var p,g,v,E;try{for(var A=!0,y=Xt(h),m;m=yield Y(y.next()),p=m.done,!p;A=!0){E=m.value,A=!1;const T=E,C=Wh(yield Y(T.json()));C.sdkHttpResponse={headers:T.headers};const x=new bl;Object.assign(x,C),yield yield Y(x)}}catch(T){g={error:T}}finally{try{!A&&!p&&(v=y.return)&&(yield Y(v.call(y)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,i,o,l;let s,a="",c={};if(this.apiClient.isVertexAI()){const f=aw(this.apiClient,e);return a=V("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=uw(d),p=new Lh;return Object.assign(p,h),p})}else{const f=sw(this.apiClient,e);return a=V("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=rw(d),p=new Lh;return Object.assign(p,h),p})}}async generateImagesInternal(e){var n,i,o,l;let s,a="",c={};if(this.apiClient.isVertexAI()){const f=Tw(this.apiClient,e);return a=V("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=Cw(d),p=new Uh;return Object.assign(p,h),p})}else{const f=Sw(this.apiClient,e);return a=V("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=Ew(d),p=new Uh;return Object.assign(p,h),p})}}async editImageInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const a=nw(this.apiClient,e);return l=V("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=iw(c),d=new fA;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const a=Tb(this.apiClient,e);return l=V("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=Eb(c),d=new dA;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const a=tb(this.apiClient,e);return l=V("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=nb(c),d=new pA;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const a=rb(this.apiClient,e);return l=V("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=ub(c),d=new hA;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,l;let s,a="",c={};if(this.apiClient.isVertexAI()){const f=Gw(this.apiClient,e);return a=V("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>bc(d))}else{const f=Hw(this.apiClient,e);return a=V("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>wc(d))}}async listInternal(e){var n,i,o,l;let s,a="",c={};if(this.apiClient.isVertexAI()){const f=$w(this.apiClient,e);return a=V("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=Qw(d),p=new kh;return Object.assign(p,h),p})}else{const f=Kw(this.apiClient,e);return a=V("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=Xw(d),p=new kh;return Object.assign(p,h),p})}}async update(e){var n,i,o,l;let s,a="",c={};if(this.apiClient.isVertexAI()){const f=vb(this.apiClient,e);return a=V("{model}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>bc(d))}else{const f=yb(this.apiClient,e);return a=V("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>wc(d))}}async delete(e){var n,i,o,l;let s,a="",c={};if(this.apiClient.isVertexAI()){const f=Wx(this.apiClient,e);return a=V("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=ew(d),p=new Oh;return Object.assign(p,h),p})}else{const f=Zx(this.apiClient,e);return a=V("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=jx(d),p=new Oh;return Object.assign(p,h),p})}}async countTokens(e){var n,i,o,l;let s,a="",c={};if(this.apiClient.isVertexAI()){const f=$x(this.apiClient,e);return a=V("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=Qx(d),p=new Ph;return Object.assign(p,h),p})}else{const f=Kx(this.apiClient,e);return a=V("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=Xx(d),p=new Ph;return Object.assign(p,h),p})}}async computeTokens(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const a=Vx(this.apiClient,e);return l=V("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=zx(c),d=new gA;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,o,l;let s,a="",c={};if(this.apiClient.isVertexAI()){const f=Rw(this.apiClient,e);return a=V("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const h=ww(d),p=new Ya;return Object.assign(p,h),p})}else{const f=bw(this.apiClient,e);return a=V("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>{const h=xw(d),p=new Ya;return Object.assign(p,h),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h1 extends Pn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,o,l;let s,a="",c={};if(this.apiClient.isVertexAI()){const f=lA(e);return a=V("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s}else{const f=oA(e);return a=V("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s}}async fetchPredictVideosOperationInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const a=ZC(e);return l=V("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g1(t){const e={},n=r(t,["data"]);if(n!=null&&u(e,["data"],n),r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=r(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function m1(t){const e={},n=r(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>x1(l))),u(e,["parts"],o)}const i=r(t,["role"]);return i!=null&&u(e,["role"],i),e}function y1(t,e,n){const i={},o=r(e,["expireTime"]);n!==void 0&&o!=null&&u(n,["expireTime"],o);const l=r(e,["newSessionExpireTime"]);n!==void 0&&l!=null&&u(n,["newSessionExpireTime"],l);const s=r(e,["uses"]);n!==void 0&&s!=null&&u(n,["uses"],s);const a=r(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&u(n,["bidiGenerateContentSetup"],_1(t,a));const c=r(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&u(n,["fieldMask"],c),i}function v1(t,e){const n={},i=r(e,["config"]);return i!=null&&u(n,["config"],y1(t,i,n)),n}function S1(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const i=r(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function T1(t){const e={},n=r(t,["id"]);n!=null&&u(e,["id"],n);const i=r(t,["args"]);i!=null&&u(e,["args"],i);const o=r(t,["name"]);if(o!=null&&u(e,["name"],o),r(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function E1(t){const e={};if(r(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=r(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function C1(t){const e={};if(r(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=r(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function A1(t,e){const n={},i=r(t,["generationConfig"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig"],i);const o=r(t,["responseModalities"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig","responseModalities"],o);const l=r(t,["temperature"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","temperature"],l);const s=r(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);const a=r(t,["topK"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","topK"],a);const c=r(t,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);const f=r(t,["mediaResolution"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","mediaResolution"],f);const d=r(t,["seed"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","seed"],d);const h=r(t,["speechConfig"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","speechConfig"],Xf(h));const p=r(t,["thinkingConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","thinkingConfig"],p);const g=r(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=r(t,["systemInstruction"]);e!==void 0&&v!=null&&u(e,["setup","systemInstruction"],m1(Qe(v)));const E=r(t,["tools"]);if(e!==void 0&&E!=null){let N=pl(E);Array.isArray(N)&&(N=N.map(_=>b1(dl(_)))),u(e,["setup","tools"],N)}const A=r(t,["sessionResumption"]);e!==void 0&&A!=null&&u(e,["setup","sessionResumption"],w1(A));const y=r(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&u(e,["setup","inputAudioTranscription"],y);const m=r(t,["outputAudioTranscription"]);e!==void 0&&m!=null&&u(e,["setup","outputAudioTranscription"],m);const T=r(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&u(e,["setup","realtimeInputConfig"],T);const C=r(t,["contextWindowCompression"]);e!==void 0&&C!=null&&u(e,["setup","contextWindowCompression"],C);const x=r(t,["proactivity"]);if(e!==void 0&&x!=null&&u(e,["setup","proactivity"],x),r(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function _1(t,e){const n={},i=r(e,["model"]);i!=null&&u(n,["setup","model"],ie(t,i));const o=r(e,["config"]);return o!=null&&u(n,["config"],A1(o,n)),n}function x1(t){const e={},n=r(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);const i=r(t,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const o=r(t,["executableCode"]);o!=null&&u(e,["executableCode"],o);const l=r(t,["fileData"]);l!=null&&u(e,["fileData"],S1(l));const s=r(t,["functionCall"]);s!=null&&u(e,["functionCall"],T1(s));const a=r(t,["functionResponse"]);a!=null&&u(e,["functionResponse"],a);const c=r(t,["inlineData"]);c!=null&&u(e,["inlineData"],g1(c));const f=r(t,["text"]);f!=null&&u(e,["text"],f);const d=r(t,["thought"]);d!=null&&u(e,["thought"],d);const h=r(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const p=r(t,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function w1(t){const e={},n=r(t,["handle"]);if(n!=null&&u(e,["handle"],n),r(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function b1(t){const e={},n=r(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),u(e,["functionDeclarations"],d)}if(r(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=r(t,["googleSearchRetrieval"]);i!=null&&u(e,["googleSearchRetrieval"],i);const o=r(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);const l=r(t,["fileSearch"]);l!=null&&u(e,["fileSearch"],l);const s=r(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),r(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=r(t,["googleMaps"]);a!=null&&u(e,["googleMaps"],E1(a));const c=r(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],C1(c));const f=r(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function R1(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(l=>`${n}.${l}`);e.push(...o)}else e.push(n)}return e.join(",")}function N1(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const l=i.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,n=l):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const l=R1(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];o.length>0&&(a=o.map(f=>s.includes(f)?`generationConfig.${f}`:f));const c=[];l&&c.push(l),a.length>0&&c.push(...a),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class M1 extends Pn{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=v1(this.apiClient,e);l=V("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const c=N1(a,e.config);return o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I1(t,e){const n={},i=r(t,["force"]);return e!==void 0&&i!=null&&u(e,["_query","force"],i),n}function D1(t){const e={},n=r(t,["name"]);n!=null&&u(e,["_url","name"],n);const i=r(t,["config"]);return i!=null&&I1(i,e),e}function L1(t){const e={},n=r(t,["name"]);return n!=null&&u(e,["_url","name"],n),e}function U1(t,e){const n={},i=r(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const o=r(t,["pageToken"]);return e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),n}function k1(t){const e={},n=r(t,["parent"]);n!=null&&u(e,["_url","parent"],n);const i=r(t,["config"]);return i!=null&&U1(i,e),e}function O1(t){const e={},n=r(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=r(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=r(t,["documents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class P1 extends Pn{constructor(e){super(),this.apiClient=e,this.list=async n=>new Ji(kn.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=L1(e);return l=V("{name}",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(e){var n,i;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=D1(e);o=V("{name}",s._url),l=s._query,delete s._url,delete s._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=k1(e);return l=V("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=O1(c),d=new mA;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class H1 extends Pn{constructor(e,n=new P1(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new Ji(kn.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Rb(e);return l=V("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async get(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Ib(e);return l=V("{name}",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(e){var n,i;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Mb(e);o=V("{name}",s._url),l=s._query,delete s._url,delete s._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Pb(e);return l=V("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=Hb(c),d=new yA;return Object.assign(d,f),d})}}async uploadToFileSearchStoreInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Gb(e);return l=V("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=Vb(c),d=new vA;return Object.assign(d,f),d})}}async importFile(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Ub(e);return l=V("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=Lb(c),d=new Ff;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let mv=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return mv=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const G1=()=>mv();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nc(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Mc=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zt extends Error{}class st extends zt{constructor(e,n,i,o){super(`${st.makeMessage(e,n,i)}`),this.status=e,this.headers=o,this.error=n}static makeMessage(e,n,i){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,n,i,o){if(!e||!o)return new _r({message:i,cause:Mc(n)});const l=n;return e===400?new vv(e,l,i,o):e===401?new Sv(e,l,i,o):e===403?new Tv(e,l,i,o):e===404?new Ev(e,l,i,o):e===409?new Cv(e,l,i,o):e===422?new Av(e,l,i,o):e===429?new _v(e,l,i,o):e>=500?new xv(e,l,i,o):new st(e,l,i,o)}}class Ic extends st{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class _r extends st{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class yv extends _r{constructor({message:e}={}){super({message:e??"Request timed out."})}}class vv extends st{}class Sv extends st{}class Tv extends st{}class Ev extends st{}class Cv extends st{}class Av extends st{}class _v extends st{}class xv extends st{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const V1=/^[a-z][a-z0-9+.-]*:/i,z1=t=>V1.test(t);let Dc=t=>(Dc=Array.isArray,Dc(t));const B1=Dc;let q1=B1;const lg=q1;function F1(t){if(!t)return!0;for(const e in t)return!1;return!0}function J1(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Y1=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new zt(`${t} must be an integer`);if(e<0)throw new zt(`${t} must be a positive integer`);return e},K1=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $1=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ao="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X1(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Q1=()=>{var t,e,n,i,o;const l=X1();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ao,"X-Stainless-OS":ag(Deno.build.os),"X-Stainless-Arch":sg(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ao,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ao,"X-Stainless-OS":ag((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":sg((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const s=Z1();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ao,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ao,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Z1(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const o=i[1]||0,l=i[2]||0,s=i[3]||0;return{browser:e,version:`${o}.${l}.${s}`}}}return null}const sg=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",ag=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Fs;const W1=()=>Fs??(Fs=Q1());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j1(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function wv(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function eR(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return wv({start(){},async pull(n){const{done:i,value:o}=await e.next();i?n.close():n.enqueue(o)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function bv(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function tR(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const i=t.getReader(),o=i.cancel();i.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nR=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rv=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function gu(t,e,n){return Rv(),new File(t,e??"unknown_file",n)}function iR(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const oR=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nv=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",lR=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Nv(t),sR=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function aR(t,e,n){if(Rv(),t=await t,lR(t))return t instanceof File?t:gu([await t.arrayBuffer()],t.name);if(sR(t)){const o=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),gu(await Lc(o),e,n)}const i=await Lc(t);if(e||(e=iR(t)),!(n!=null&&n.type)){const o=i.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return gu(i,e,n)}async function Lc(t){var e,n,i,o,l;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(Nv(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(oR(t))try{for(var a=!0,c=Xt(t),f;f=await c.next(),e=f.done,!e;a=!0){o=f.value,a=!1;const d=o;s.push(...await Lc(d))}}catch(d){n={error:d}}finally{try{!a&&!e&&(i=c.return)&&await i.call(c)}finally{if(n)throw n.error}}else{const d=(l=t==null?void 0:t.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof t}${d?`; constructor: ${d}`:""}${rR(t)}`)}return s}function rR(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mv{constructor(e){this._client=e}}Mv._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Iv(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const rg=Object.freeze(Object.create(null)),uR=(t=Iv)=>function(n,...i){if(n.length===1)return n[0];let o=!1;const l=[],s=n.reduce((d,h,p)=>{var g,v,E;/[?#]/.test(h)&&(o=!0);const A=i[p];let y=(o?encodeURIComponent:t)(""+A);return p!==i.length&&(A==null||typeof A=="object"&&A.toString===((E=Object.getPrototypeOf((v=Object.getPrototypeOf((g=A.hasOwnProperty)!==null&&g!==void 0?g:rg))!==null&&v!==void 0?v:rg))===null||E===void 0?void 0:E.toString))&&(y=A+"",l.push({start:d.length+h.length,length:y.length,error:`Value of type ${Object.prototype.toString.call(A).slice(8,-1)} is not a valid path parameter`})),d+h+(p===i.length?"":y)},""),a=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=c.exec(a))!==null;)l.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(l.sort((d,h)=>d.start-h.start),l.length>0){let d=0;const h=l.reduce((p,g)=>{const v=" ".repeat(g.start-d),E="^".repeat(g.length);return d=g.start+g.length,p+v+E},"");throw new zt(`Path parameters result in path with invalid segments:
${l.map(p=>p.error).join(`
`)}
${s}
${h}`)}return s},Js=uR(Iv);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dv extends Mv{create(e,n){var i;const{api_version:o=this._client.apiVersion}=e,l=$a(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new zt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new zt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Js`/${o}/interactions`,Object.assign(Object.assign({body:l},n),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,n={},i){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(Js`/${o}/interactions/${e}`,i)}cancel(e,n={},i){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(Js`/${o}/interactions/${e}/cancel`,i)}get(e,n={},i){var o;const l=n??{},{api_version:s=this._client.apiVersion}=l,a=$a(l,["api_version"]);return this._client.get(Js`/${s}/interactions/${e}`,Object.assign(Object.assign({query:a},i),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}Dv._key=Object.freeze(["interactions"]);class Lv extends Dv{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cR(t){let e=0;for(const o of t)e+=o.length;const n=new Uint8Array(e);let i=0;for(const o of t)n.set(o,i),i+=o.length;return n}let Ys;function Zf(t){let e;return(Ys??(e=new globalThis.TextEncoder,Ys=e.encode.bind(e)))(t)}let Ks;function ug(t){let e;return(Ks??(e=new globalThis.TextDecoder,Ks=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xr{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Zf(e):e;this.buffer=cR([this.buffer,n]);const i=[];let o;for(;(o=fR(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){i.push(ug(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,s=ug(this.buffer.subarray(0,l));i.push(s),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}xr.NEWLINE_CHARS=new Set([`
`,"\r"]);xr.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function fR(t,e){for(let o=e??0;o<t.length;o++){if(t[o]===10)return{preceding:o,index:o+1,carriage:!1};if(t[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function dR(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xa={off:0,error:200,warn:300,info:400,debug:500},cg=(t,e,n)=>{if(t){if(J1(Xa,t))return t;ot(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Xa))}`)}};function kl(){}function $s(t,e,n){return!e||Xa[t]>Xa[n]?kl:e[t].bind(e)}const pR={error:kl,warn:kl,info:kl,debug:kl};let fg=new WeakMap;function ot(t){var e;const n=t.logger,i=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return pR;const o=fg.get(n);if(o&&o[0]===i)return o[1];const l={error:$s("error",n,i),warn:$s("warn",n,i),info:$s("info",n,i),debug:$s("debug",n,i)};return fg.set(n,[i,l]),l}const wi=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Po{constructor(e,n,i){this.iterator=e,this.controller=n,this.client=i}static fromSSEResponse(e,n,i){let o=!1;const l=i?ot(i):console;function s(){return $t(this,arguments,function*(){var c,f,d,h;if(o)throw new zt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let p=!1;try{try{for(var g=!0,v=Xt(hR(e,n)),E;E=yield Y(v.next()),c=E.done,!c;g=!0){h=E.value,g=!1;const A=h;if(!p)if(A.data.startsWith("[DONE]")){p=!0;continue}else try{yield yield Y(JSON.parse(A.data))}catch(y){throw l.error("Could not parse message into JSON:",A.data),l.error("From chunk:",A.raw),y}}}catch(A){f={error:A}}finally{try{!g&&!c&&(d=v.return)&&(yield Y(d.call(v)))}finally{if(f)throw f.error}}p=!0}catch(A){if(Nc(A))return yield Y(void 0);throw A}finally{p||n.abort()}})}return new Po(s,n,i)}static fromReadableStream(e,n,i){let o=!1;function l(){return $t(this,arguments,function*(){var c,f,d,h;const p=new xr,g=bv(e);try{for(var v=!0,E=Xt(g),A;A=yield Y(E.next()),c=A.done,!c;v=!0){h=A.value,v=!1;const y=h;for(const m of p.decode(y))yield yield Y(m)}}catch(y){f={error:y}}finally{try{!v&&!c&&(d=E.return)&&(yield Y(d.call(E)))}finally{if(f)throw f.error}}for(const y of p.flush())yield yield Y(y)})}function s(){return $t(this,arguments,function*(){var c,f,d,h;if(o)throw new zt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let p=!1;try{try{for(var g=!0,v=Xt(l()),E;E=yield Y(v.next()),c=E.done,!c;g=!0){h=E.value,g=!1;const A=h;p||A&&(yield yield Y(JSON.parse(A)))}}catch(A){f={error:A}}finally{try{!g&&!c&&(d=v.return)&&(yield Y(d.call(v)))}finally{if(f)throw f.error}}p=!0}catch(A){if(Nc(A))return yield Y(void 0);throw A}finally{p||n.abort()}})}return new Po(s,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),o=l=>({next:()=>{if(l.length===0){const s=i.next();e.push(s),n.push(s)}return l.shift()}});return[new Po(()=>o(e),this.controller,this.client),new Po(()=>o(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return wv({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:o,done:l}=await n.next();if(l)return i.close();const s=Zf(JSON.stringify(o)+`
`);i.enqueue(s)}catch(o){i.error(o)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function hR(t,e){return $t(this,arguments,function*(){var i,o,l,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new zt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new zt("Attempted to iterate over a response with no body");const a=new mR,c=new xr,f=bv(t.body);try{for(var d=!0,h=Xt(gR(f)),p;p=yield Y(h.next()),i=p.done,!i;d=!0){s=p.value,d=!1;const g=s;for(const v of c.decode(g)){const E=a.decode(v);E&&(yield yield Y(E))}}}catch(g){o={error:g}}finally{try{!d&&!i&&(l=h.return)&&(yield Y(l.call(h)))}finally{if(o)throw o.error}}for(const g of c.flush()){const v=a.decode(g);v&&(yield yield Y(v))}})}function gR(t){return $t(this,arguments,function*(){var n,i,o,l;let s=new Uint8Array;try{for(var a=!0,c=Xt(t),f;f=yield Y(c.next()),n=f.done,!n;a=!0){l=f.value,a=!1;const d=l;if(d==null)continue;const h=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?Zf(d):d;let p=new Uint8Array(s.length+h.length);p.set(s),p.set(h,s.length),s=p;let g;for(;(g=dR(s))!==-1;)yield yield Y(s.slice(0,g)),s=s.slice(g)}}catch(d){i={error:d}}finally{try{!a&&!n&&(o=c.return)&&(yield Y(o.call(c)))}finally{if(i)throw i.error}}s.length>0&&(yield yield Y(s))})}class mR{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,o]=yR(e,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function yR(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function vR(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:o,startTime:l}=e,s=await(async()=>{var a;if(e.options.stream)return ot(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Po.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),f=(a=c==null?void 0:c.split(";")[0])===null||a===void 0?void 0:a.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return ot(t).debug(`[${i}] response parsed`,wi({retryOfRequestLogID:o,url:n.url,status:n.status,body:s,durationMs:Date.now()-l})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wf extends Promise{constructor(e,n,i=vR){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new Wf(this.client,this.responsePromise,async(n,i)=>e(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uv=Symbol("brand.privateNullableHeaders");function*SR(t){if(!t)return;if(Uv in t){const{values:i,nulls:o}=t;yield*i.entries();for(const l of o)yield[l,null];return}let e=!1,n;t instanceof Headers?n=t.entries():lg(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const o=i[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const l=lg(i[1])?i[1]:[i[1]];let s=!1;for(const a of l)a!==void 0&&(e&&!s&&(s=!0,yield[o,null]),yield[o,a])}}const mu=t=>{const e=new Headers,n=new Set;for(const i of t){const o=new Set;for(const[l,s]of SR(i)){const a=l.toLowerCase();o.has(a)||(e.delete(l),o.add(a)),s===null?(e.delete(l),n.add(a)):(e.append(l,s),n.delete(a))}}return{[Uv]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yu=t=>{var e,n,i,o,l,s;if(typeof globalThis.process<"u")return(i=(n=(e=JC)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(s=(l=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||l===void 0?void 0:l.call(o,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var kv;class wr{constructor(e){var n,i,o,l,s,a,c,f=e===void 0?{}:e,{baseURL:d=yu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=yu("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=f,g=$a(f,["baseURL","apiKey","apiVersion"]);const v=Object.assign(Object.assign({apiKey:h,apiVersion:p},g),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=v.baseURL,this.timeout=(i=v.timeout)!==null&&i!==void 0?i:wr.DEFAULT_TIMEOUT,this.logger=(o=v.logger)!==null&&o!==void 0?o:console;const E="warn";this.logLevel=E,this.logLevel=(s=(l=cg(v.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:cg(yu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:E,this.fetchOptions=v.fetchOptions,this.maxRetries=(a=v.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(c=v.fetch)!==null&&c!==void 0?c:j1(),this.encoder=nR,this._options=v,this.apiKey=h,this.apiVersion=p}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){if(this.apiKey!=null)return mu([{"x-goog-api-key":this.apiKey}])}stringifyQuery(e){return Object.entries(e).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new zt(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ao}`}defaultIdempotencyKey(){return`stainless-node-retry-${G1()}`}makeStatusError(e,n,i,o){return st.generate(e,n,i,o)}buildURL(e,n,i){const o=!this.baseURLOverridden()&&i||this.baseURL,l=z1(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return F1(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(l.search=this.stringifyQuery(n)),l.toString()}async prepareOptions(e){}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(o=>Object.assign({method:e,path:n},o)))}request(e,n=null){return new Wf(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){var o,l,s;const a=await e,c=(o=a.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=c),await this.prepareOptions(a);const{req:f,url:d,timeout:h}=await this.buildRequest(a,{retryCount:c-n});await this.prepareRequest(f,{url:d,options:a});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=i===void 0?"":`, retryOf: ${i}`,v=Date.now();if(ot(this).debug(`[${p}] sending request`,wi({retryOfRequestLogID:i,method:a.method,url:d,options:a,headers:f.headers})),!((l=a.signal)===null||l===void 0)&&l.aborted)throw new Ic;const E=new AbortController,A=await this.fetchWithTimeout(d,f,h,E).catch(Mc),y=Date.now();if(A instanceof globalThis.Error){const T=`retrying, ${n} attempts remaining`;if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new Ic;const C=Nc(A)||/timed? ?out/i.test(String(A)+("cause"in A?String(A.cause):""));if(n)return ot(this).info(`[${p}] connection ${C?"timed out":"failed"} - ${T}`),ot(this).debug(`[${p}] connection ${C?"timed out":"failed"} (${T})`,wi({retryOfRequestLogID:i,url:d,durationMs:y-v,message:A.message})),this.retryRequest(a,n,i??p);throw ot(this).info(`[${p}] connection ${C?"timed out":"failed"} - error; no more retries left`),ot(this).debug(`[${p}] connection ${C?"timed out":"failed"} (error; no more retries left)`,wi({retryOfRequestLogID:i,url:d,durationMs:y-v,message:A.message})),C?new yv:new _r({cause:A})}const m=`[${p}${g}] ${f.method} ${d} ${A.ok?"succeeded":"failed"} with status ${A.status} in ${y-v}ms`;if(!A.ok){const T=await this.shouldRetry(A);if(n&&T){const b=`retrying, ${n} attempts remaining`;return await tR(A.body),ot(this).info(`${m} - ${b}`),ot(this).debug(`[${p}] response error (${b})`,wi({retryOfRequestLogID:i,url:A.url,status:A.status,headers:A.headers,durationMs:y-v})),this.retryRequest(a,n,i??p,A.headers)}const C=T?"error; no more retries left":"error; not retryable";ot(this).info(`${m} - ${C}`);const x=await A.text().catch(b=>Mc(b).message),N=K1(x),_=N?void 0:x;throw ot(this).debug(`[${p}] response error (${C})`,wi({retryOfRequestLogID:i,url:A.url,status:A.status,headers:A.headers,message:_,durationMs:Date.now()-v})),this.makeStatusError(A.status,N,_,A.headers)}return ot(this).info(m),ot(this).debug(`[${p}] response start`,wi({retryOfRequestLogID:i,url:A.url,status:A.status,headers:A.headers,durationMs:y-v})),{response:A,options:a,controller:E,requestLogID:p,retryOfRequestLogID:i,startTime:v}}async fetchWithTimeout(e,n,i,o){const l=n||{},{signal:s,method:a}=l,c=$a(l,["signal","method"]);s&&s.addEventListener("abort",()=>o.abort());const f=setTimeout(()=>o.abort(),i),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,h=Object.assign(Object.assign(Object.assign({signal:o.signal},d?{duplex:"half"}:{}),{method:"GET"}),c);a&&(h.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,h)}finally{clearTimeout(f)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,o){var l;let s;const a=o==null?void 0:o.get("retry-after-ms");if(a){const f=parseFloat(a);Number.isNaN(f)||(s=f)}const c=o==null?void 0:o.get("retry-after");if(c&&!s){const f=parseFloat(c);Number.isNaN(f)?s=Date.parse(c)-Date.now():s=f*1e3}if(!(s&&0<=s&&s<60*1e3)){const f=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,f)}return await $1(s),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const l=n-e,s=Math.min(.5*Math.pow(2,l),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(e,{retryCount:n=0}={}){var i,o,l;const s=Object.assign({},e),{method:a,path:c,query:f,defaultBaseURL:d}=s,h=this.buildURL(c,f,d);"timeout"in s&&Y1("timeout",s.timeout),s.timeout=(i=s.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:p,body:g}=this.buildBody({options:s}),v=await this.buildHeaders({options:e,method:a,bodyHeaders:p,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:v},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(l=s.fetchOptions)!==null&&l!==void 0?l:{}),url:h,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:o}){let l={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const s=mu([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),W1()),await this.authHeaders(e),this._options.defaultHeaders,i,e.headers]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=mu([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:eR(e)}:this.encoder({body:e,headers:i})}}wr.DEFAULT_TIMEOUT=6e4;class Ve extends wr{constructor(){super(...arguments),this.interactions=new Lv(this)}}kv=Ve;Ve.GeminiNextGenAPIClient=kv;Ve.GeminiNextGenAPIClientError=zt;Ve.APIError=st;Ve.APIConnectionError=_r;Ve.APIConnectionTimeoutError=yv;Ve.APIUserAbortError=Ic;Ve.NotFoundError=Ev;Ve.ConflictError=Cv;Ve.RateLimitError=_v;Ve.BadRequestError=vv;Ve.AuthenticationError=Sv;Ve.InternalServerError=xv;Ve.PermissionDeniedError=Tv;Ve.UnprocessableEntityError=Av;Ve.toFile=aR;Ve.Interactions=Lv;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TR(t,e){const n={},i=r(t,["name"]);return i!=null&&u(n,["_url","name"],i),n}function ER(t,e){const n={},i=r(t,["name"]);return i!=null&&u(n,["_url","name"],i),n}function CR(t,e){const n={},i=r(t,["sdkHttpResponse"]);return i!=null&&u(n,["sdkHttpResponse"],i),n}function AR(t,e){const n={},i=r(t,["sdkHttpResponse"]);return i!=null&&u(n,["sdkHttpResponse"],i),n}function _R(t,e,n){const i={};if(r(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=r(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&u(e,["displayName"],o),r(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=r(t,["epochCount"]);e!==void 0&&l!=null&&u(e,["tuningTask","hyperparameters","epochCount"],l);const s=r(t,["learningRateMultiplier"]);if(s!=null&&u(i,["tuningTask","hyperparameters","learningRateMultiplier"],s),r(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(r(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(r(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=r(t,["batchSize"]);e!==void 0&&a!=null&&u(e,["tuningTask","hyperparameters","batchSize"],a);const c=r(t,["learningRate"]);if(e!==void 0&&c!=null&&u(e,["tuningTask","hyperparameters","learningRate"],c),r(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(r(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function xR(t,e,n){const i={};let o=r(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const g=r(t,["validationDataset"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec"],dg(g))}else if(o==="PREFERENCE_TUNING"){const g=r(t,["validationDataset"]);e!==void 0&&g!=null&&u(e,["preferenceOptimizationSpec"],dg(g))}const l=r(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&u(e,["tunedModelDisplayName"],l);const s=r(t,["description"]);e!==void 0&&s!=null&&u(e,["description"],s);let a=r(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const g=r(t,["epochCount"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(a==="PREFERENCE_TUNING"){const g=r(t,["epochCount"]);e!==void 0&&g!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let c=r(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=r(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(c==="PREFERENCE_TUNING"){const g=r(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let f=r(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const g=r(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(f==="PREFERENCE_TUNING"){const g=r(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&u(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let d=r(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const g=r(t,["adapterSize"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(d==="PREFERENCE_TUNING"){const g=r(t,["adapterSize"]);e!==void 0&&g!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(r(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(r(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=r(t,["labels"]);e!==void 0&&h!=null&&u(e,["labels"],h);const p=r(t,["beta"]);return e!==void 0&&p!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","beta"],p),i}function wR(t,e){const n={},i=r(t,["baseModel"]);i!=null&&u(n,["baseModel"],i);const o=r(t,["preTunedModel"]);o!=null&&u(n,["preTunedModel"],o);const l=r(t,["trainingDataset"]);l!=null&&PR(l);const s=r(t,["config"]);return s!=null&&_R(s,n),n}function bR(t,e){const n={},i=r(t,["baseModel"]);i!=null&&u(n,["baseModel"],i);const o=r(t,["preTunedModel"]);o!=null&&u(n,["preTunedModel"],o);const l=r(t,["trainingDataset"]);l!=null&&HR(l,n,e);const s=r(t,["config"]);return s!=null&&xR(s,n,e),n}function RR(t,e){const n={},i=r(t,["name"]);return i!=null&&u(n,["_url","name"],i),n}function NR(t,e){const n={},i=r(t,["name"]);return i!=null&&u(n,["_url","name"],i),n}function MR(t,e,n){const i={},o=r(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const l=r(t,["pageToken"]);e!==void 0&&l!=null&&u(e,["_query","pageToken"],l);const s=r(t,["filter"]);return e!==void 0&&s!=null&&u(e,["_query","filter"],s),i}function IR(t,e,n){const i={},o=r(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const l=r(t,["pageToken"]);e!==void 0&&l!=null&&u(e,["_query","pageToken"],l);const s=r(t,["filter"]);return e!==void 0&&s!=null&&u(e,["_query","filter"],s),i}function DR(t,e){const n={},i=r(t,["config"]);return i!=null&&MR(i,n),n}function LR(t,e){const n={},i=r(t,["config"]);return i!=null&&IR(i,n),n}function UR(t,e){const n={},i=r(t,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);const o=r(t,["nextPageToken"]);o!=null&&u(n,["nextPageToken"],o);const l=r(t,["tunedModels"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(a=>Ov(a))),u(n,["tuningJobs"],s)}return n}function kR(t,e){const n={},i=r(t,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);const o=r(t,["nextPageToken"]);o!=null&&u(n,["nextPageToken"],o);const l=r(t,["tuningJobs"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(a=>Uc(a))),u(n,["tuningJobs"],s)}return n}function OR(t,e){const n={},i=r(t,["name"]);i!=null&&u(n,["model"],i);const o=r(t,["name"]);return o!=null&&u(n,["endpoint"],o),n}function PR(t,e){const n={};if(r(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=r(t,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),u(n,["examples","examples"],o)}return n}function HR(t,e,n){const i={};let o=r(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=r(t,["gcsUri"]);e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=r(t,["gcsUri"]);e!==void 0&&s!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let l=r(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const s=r(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(l==="PREFERENCE_TUNING"){const s=r(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(r(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function Ov(t,e){const n={},i=r(t,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);const o=r(t,["name"]);o!=null&&u(n,["name"],o);const l=r(t,["state"]);l!=null&&u(n,["state"],Q0(l));const s=r(t,["createTime"]);s!=null&&u(n,["createTime"],s);const a=r(t,["tuningTask","startTime"]);a!=null&&u(n,["startTime"],a);const c=r(t,["tuningTask","completeTime"]);c!=null&&u(n,["endTime"],c);const f=r(t,["updateTime"]);f!=null&&u(n,["updateTime"],f);const d=r(t,["description"]);d!=null&&u(n,["description"],d);const h=r(t,["baseModel"]);h!=null&&u(n,["baseModel"],h);const p=r(t,["_self"]);return p!=null&&u(n,["tunedModel"],OR(p)),n}function Uc(t,e){const n={},i=r(t,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);const o=r(t,["name"]);o!=null&&u(n,["name"],o);const l=r(t,["state"]);l!=null&&u(n,["state"],Q0(l));const s=r(t,["createTime"]);s!=null&&u(n,["createTime"],s);const a=r(t,["startTime"]);a!=null&&u(n,["startTime"],a);const c=r(t,["endTime"]);c!=null&&u(n,["endTime"],c);const f=r(t,["updateTime"]);f!=null&&u(n,["updateTime"],f);const d=r(t,["error"]);d!=null&&u(n,["error"],d);const h=r(t,["description"]);h!=null&&u(n,["description"],h);const p=r(t,["baseModel"]);p!=null&&u(n,["baseModel"],p);const g=r(t,["tunedModel"]);g!=null&&u(n,["tunedModel"],g);const v=r(t,["preTunedModel"]);v!=null&&u(n,["preTunedModel"],v);const E=r(t,["supervisedTuningSpec"]);E!=null&&u(n,["supervisedTuningSpec"],E);const A=r(t,["preferenceOptimizationSpec"]);A!=null&&u(n,["preferenceOptimizationSpec"],A);const y=r(t,["tuningDataStats"]);y!=null&&u(n,["tuningDataStats"],y);const m=r(t,["encryptionSpec"]);m!=null&&u(n,["encryptionSpec"],m);const T=r(t,["partnerModelTuningSpec"]);T!=null&&u(n,["partnerModelTuningSpec"],T);const C=r(t,["customBaseModel"]);C!=null&&u(n,["customBaseModel"],C);const x=r(t,["experiment"]);x!=null&&u(n,["experiment"],x);const N=r(t,["labels"]);N!=null&&u(n,["labels"],N);const _=r(t,["outputUri"]);_!=null&&u(n,["outputUri"],_);const I=r(t,["pipelineJob"]);I!=null&&u(n,["pipelineJob"],I);const b=r(t,["serviceAccount"]);b!=null&&u(n,["serviceAccount"],b);const L=r(t,["tunedModelDisplayName"]);L!=null&&u(n,["tunedModelDisplayName"],L);const B=r(t,["veoTuningSpec"]);return B!=null&&u(n,["veoTuningSpec"],B),n}function GR(t,e){const n={},i=r(t,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);const o=r(t,["name"]);o!=null&&u(n,["name"],o);const l=r(t,["metadata"]);l!=null&&u(n,["metadata"],l);const s=r(t,["done"]);s!=null&&u(n,["done"],s);const a=r(t,["error"]);return a!=null&&u(n,["error"],a),n}function dg(t,e){const n={},i=r(t,["gcsUri"]);i!=null&&u(n,["validationDatasetUri"],i);const o=r(t,["vertexDatasetResource"]);return o!=null&&u(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VR extends Pn{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ji(kn.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:o});return l.baseModel=void 0,await this.tuneInternal(l)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),l=await this.tuneMldevInternal(o);let s="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?s=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(s=l.name.split("/operations/")[0]),{name:s,state:Cc.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,l;let s,a="",c={};if(this.apiClient.isVertexAI()){const f=NR(e);return a=V("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>Uc(d))}else{const f=RR(e);return a=V("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>Ov(d))}}async listInternal(e){var n,i,o,l;let s,a="",c={};if(this.apiClient.isVertexAI()){const f=LR(e);return a=V("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=kR(d),p=new Hh;return Object.assign(p,h),p})}else{const f=DR(e);return a=V("tunedModels",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=UR(d),p=new Hh;return Object.assign(p,h),p})}}async cancel(e){var n,i,o,l;let s,a="",c={};if(this.apiClient.isVertexAI()){const f=ER(e);return a=V("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=AR(d),p=new Gh;return Object.assign(p,h),p})}else{const f=TR(e);return a=V("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=CR(d),p=new Gh;return Object.assign(p,h),p})}}async tuneInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const a=bR(e,e);return l=V("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>Uc(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=wR(e);return l=V("tunedModels",a._url),s=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>GR(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zR{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const BR=1024*1024*8,qR=3,FR=1e3,JR=2,Qa="x-goog-upload-status";async function YR(t,e,n){var i;const o=await Pv(t,e,n),l=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[Qa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function KR(t,e,n){var i;const o=await Pv(t,e,n),l=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[Qa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=F0(l),a=new Jf;return Object.assign(a,s),a}async function Pv(t,e,n){var i,o;let l=0,s=0,a=new Ac(new Response),c="upload";for(l=t.size;s<l;){const f=Math.min(BR,l-s),d=t.slice(s,s+f);s+f>=l&&(c+=", finalize");let h=0,p=FR;for(;h<qR&&(a=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((i=a==null?void 0:a.headers)===null||i===void 0)&&i[Qa]));)h++,await XR(p),p=p*JR;if(s+=f,((o=a==null?void 0:a.headers)===null||o===void 0?void 0:o[Qa])!=="active")break;if(l<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function $R(t){return{size:t.size,type:t.type}}function XR(t){return new Promise(e=>setTimeout(e,t))}class QR{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await YR(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await KR(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await $R(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZR{create(e,n,i){return new WR(e,n,i)}}class WR{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pg="x-goog-api-key";class jR{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(pg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(pg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eN="gl-node/";class Hv{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Ve({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=XC(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const o=new jR(this.apiKey);this.apiClient=new $b({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:eN+"web",uploader:new QR,downloader:new zR}),this.models=new p1(this.apiClient),this.live=new a1(this.apiClient,o,new ZR),this.batches=new __(this.apiClient),this.chats=new lx(this.models,this.apiClient),this.caches=new nx(this.apiClient),this.files=new gx(this.apiClient),this.operations=new h1(this.apiClient),this.authTokens=new M1(this.apiClient),this.tunings=new VR(this.apiClient),this.fileSearchStores=new H1(this.apiClient)}}const tN=async(t,e,n,i,o,l,s)=>{if(!i)throw new Error("Gemini API Key is not set. Please add it in the settings.");if(!o)throw new Error("Model Name is not configured. Please add it in the settings.");try{const a=new Hv({apiKey:i}),f=`${e==="Auto Detect"?"First, auto-detect the source language of the following text.":`The source language is ${e}.`} Then, translate the text to ${n}.
Do not add any extra explanations, comments, or annotations. Return only the translated text.`,d=await a.models.generateContentStream({model:o,contents:t,config:{systemInstruction:f,thinkingConfig:{thinkingBudget:0}}});let h="";for await(const p of d){if(s.aborted)throw new DOMException("Translation cancelled by user.","AbortError");const g=p.text;g&&(h+=g,l(g))}return h.trim()}catch(a){throw console.error("Error translating text:",a),a instanceof DOMException&&a.name==="AbortError"?a:new Error("Gemini API request failed.")}},nN=async(t,e,n,i)=>{if(!n)throw new Error("Gemini API Key is not set. Please add it in the settings.");const o=new Hv({apiKey:n}),l=t.match(/^data:(image\/\w+);base64,(.*)$/);if(!l)throw new Error("Invalid image data URL format.");const s=l[1],a=l[2],c={inlineData:{mimeType:s,data:a}},f={text:`1. First, accurately extract all text from the provided image.
2. Then, translate the extracted text into ${e}.
3. Finally, return a single JSON object with two keys: "sourceText" containing the exact extracted text, and "translatedText" containing the translation. Do not include any other explanations or markdown formatting.`};try{const h=(await o.models.generateContent({model:i,contents:{parts:[f,c]},config:{responseMimeType:"application/json",responseSchema:{type:Kt.OBJECT,properties:{sourceText:{type:Kt.STRING,description:"The text extracted from the image."},translatedText:{type:Kt.STRING,description:"The translated text."}},required:["sourceText","translatedText"]}}})).text.trim(),p=JSON.parse(h);if(typeof p.sourceText=="string"&&typeof p.translatedText=="string")return p;throw new Error("Invalid JSON structure in API response.")}catch(d){throw console.error("Error translating image:",d),d instanceof SyntaxError?new Error("Failed to parse the response from the Gemini API. The response was not valid JSON."):new Error("Gemini API request for image translation failed.")}},iN=async(t,e,n,i,o,l,s,a)=>{var d,h,p,g;if(!i)throw new Error("OpenAI API Key is not set.");if(!o)throw new Error("Model Name is not configured.");if(!l)throw new Error("OpenAI API URL is not set.");const f=`${e==="Auto Detect"?"First, auto-detect the source language of the following text.":`The source language is ${e}.`} Then, translate the text to ${n}. Do not add any extra explanations, comments, or annotations. Return only the translated text.`;try{const v=await fetch(`${l}/v1/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify({model:o,messages:[{role:"system",content:f},{role:"user",content:t}],temperature:1,stream:!0}),signal:a});if(!v.ok){if(a.aborted)throw new DOMException("Request aborted by user","AbortError");const m=await v.json();throw new Error(((d=m.error)==null?void 0:d.message)||`OpenAI API request failed with status ${v.status}`)}if(!v.body)throw new Error("Response body is null, cannot stream.");const E=v.body.getReader(),A=new TextDecoder;let y="";for(;;){const{done:m,value:T}=await E.read();if(m)break;const x=A.decode(T,{stream:!0}).split(`
`).filter(N=>N.trim().startsWith("data:"));for(const N of x){const _=N.replace(/^data: /,"").trim();if(_==="[DONE]")break;try{const b=(g=(p=(h=JSON.parse(_).choices)==null?void 0:h[0])==null?void 0:p.delta)==null?void 0:g.content;b&&(y+=b,s(b))}catch{}}}return y.trim()}catch(v){throw console.error("Error translating text with OpenAI:",v),v instanceof Error&&v.name==="AbortError"?v:new Error("OpenAI API request failed.")}},oN=async(t,e,n,i,o)=>{var s,a,c;if(!n)throw new Error("OpenAI API Key is not set.");if(!o)throw new Error("OpenAI API URL is not set.");if(!t.startsWith("data:image/")||!t.includes(";base64,"))throw new Error("Invalid image data URL format. It must be a base64 encoded image data URL.");const l=`1. First, accurately extract all text from the provided image.
2. Then, translate the extracted text into ${e}.
3. Finally, return a single JSON object with two keys: "sourceText" containing the exact extracted text, and "translatedText" containing the translation. Do not include any other explanations, markdown formatting, or code fences.`;try{const f=await fetch(`${o}/v1/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({model:i,messages:[{role:"user",content:[{type:"text",text:l},{type:"image_url",image_url:{url:t}}]}],max_tokens:2048,response_format:{type:"json_object"},stream:!1})});if(!f.ok){const g=await f.json();throw new Error(((s=g.error)==null?void 0:s.message)||`OpenAI API image request failed with status ${f.status}`)}const h=(c=(a=(await f.json()).choices[0])==null?void 0:a.message)==null?void 0:c.content;if(!h)throw new Error("No content in OpenAI API response.");const p=JSON.parse(h);if(typeof p.sourceText=="string"&&typeof p.translatedText=="string")return p;throw new Error("Invalid JSON structure in API response.")}catch(f){throw console.error("Error translating image with OpenAI:",f),f instanceof SyntaxError?new Error("Failed to parse the response from the OpenAI API. The response was not valid JSON."):f instanceof Error?f:new Error("OpenAI API request for image translation failed.")}},kc=(t,e)=>e.some(n=>t instanceof n);let hg,gg;function lN(){return hg||(hg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sN(){return gg||(gg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Oc=new WeakMap,vu=new WeakMap,br=new WeakMap;function aN(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",s)},l=()=>{n(Li(t.result)),o()},s=()=>{i(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",s)});return br.set(e,t),e}function rN(t){if(Oc.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",s),t.removeEventListener("abort",s)},l=()=>{n(),o()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",s),t.addEventListener("abort",s)});Oc.set(t,e)}let Pc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Oc.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Li(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Gv(t){Pc=t(Pc)}function uN(t){return sN().includes(t)?function(...e){return t.apply(Hc(this),e),Li(this.request)}:function(...e){return Li(t.apply(Hc(this),e))}}function cN(t){return typeof t=="function"?uN(t):(t instanceof IDBTransaction&&rN(t),kc(t,lN())?new Proxy(t,Pc):t)}function Li(t){if(t instanceof IDBRequest)return aN(t);if(vu.has(t))return vu.get(t);const e=cN(t);return e!==t&&(vu.set(t,e),br.set(e,t)),e}const Hc=t=>br.get(t);function fN(t,e,{blocked:n,upgrade:i,blocking:o,terminated:l}={}){const s=indexedDB.open(t,e),a=Li(s);return i&&s.addEventListener("upgradeneeded",c=>{i(Li(s.result),c.oldVersion,c.newVersion,Li(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{l&&c.addEventListener("close",()=>l()),o&&c.addEventListener("versionchange",f=>o(f.oldVersion,f.newVersion,f))}).catch(()=>{}),a}const dN=["get","getKey","getAll","getAllKeys","count"],pN=["put","add","delete","clear"],Su=new Map;function mg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Su.get(e))return Su.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=pN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||dN.includes(n)))return;const l=async function(s,...a){const c=this.transaction(s,o?"readwrite":"readonly");let f=c.store;return i&&(f=f.index(a.shift())),(await Promise.all([f[n](...a),o&&c.done]))[0]};return Su.set(e,l),l}Gv(t=>({...t,get:(e,n,i)=>mg(e,n)||t.get(e,n,i),has:(e,n)=>!!mg(e,n)||t.has(e,n)}));const hN=["continue","continuePrimaryKey","advance"],yg={},Gc=new WeakMap,Vv=new WeakMap,gN={get(t,e){if(!hN.includes(e))return t[e];let n=yg[e];return n||(n=yg[e]=function(...i){Gc.set(this,Vv.get(this)[e](...i))}),n}};async function*mN(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,gN);for(Vv.set(n,e),br.set(n,Hc(e));e;)yield n,e=await(Gc.get(n)||e.continue()),Gc.delete(n)}function vg(t,e){return e===Symbol.asyncIterator&&kc(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&kc(t,[IDBIndex,IDBObjectStore])}Gv(t=>({...t,get(e,n,i){return vg(e,n)?mN:t.get(e,n,i)},has(e,n){return vg(e,n)||t.has(e,n)}}));const yN="offline-model-db",nn="model-chunks",nt="model-meta",Rl="consolidated-models",vN=3;class SN{constructor(){Sl(this,"dbPromise");Sl(this,"controllers",new Map);Sl(this,"isOpfsSupported");Sl(this,"opfsRootPromise");this.dbPromise=fN(yN,vN,{upgrade(e){e.objectStoreNames.contains(nn)||e.createObjectStore(nn,{keyPath:["modelName","chunkIndex"]}).createIndex("modelName","modelName",{unique:!1}),e.objectStoreNames.contains(nt)||e.createObjectStore(nt,{keyPath:"modelName"}),e.objectStoreNames.contains(Rl)||e.createObjectStore(Rl,{keyPath:"modelName"})}}),this.isOpfsSupported="getDirectory"in navigator.storage,this.opfsRootPromise=this.isOpfsSupported?navigator.storage.getDirectory().catch(e=>(console.error("Failed to get OPFS root directory:",e),null)):Promise.resolve(null),this.isOpfsSupported?console.log("Origin Private File System is supported and will be used for model storage."):console.log("Origin Private File System not supported, falling back to IndexedDB.")}async getOpfsRoot(){return this.opfsRootPromise}async startDownload(e,n,i,o){if(this.controllers.has(e)){console.warn(`Download for ${e} is already in progress.`);return}this.isOpfsSupported?await this.runOpfsDownload(e,n,i,o,!1):await this.runIdbDownload(e,n,i,o,!1)}async resumeDownload(e,n,i,o){this.controllers.has(e)||(this.isOpfsSupported?await this.runOpfsDownload(e,n,i,o,!0):await this.runIdbDownload(e,n,i,o,!0))}async runOpfsDownload(e,n,i,o,l){const s=new AbortController;this.controllers.set(e,s);let a=0,c=0;try{const f=await this.getOpfsRoot();if(!f)throw new Error("Could not access OPFS.");const d=await f.getFileHandle(e,{create:!0}),h=await this.getDb(),p=await h.get(nt,e);if(l&&p&&p.total>0&&(c=p.total,a=(await d.getFile()).size,a>=c&&(console.warn(`Resuming download for ${e}, but existing file is complete or corrupt. Restarting.`),a=0)),c===0){const v=await fetch(n,{method:"HEAD",signal:s.signal});if(!v.ok)throw new Error(`Failed to get model info. Status: ${v.status}`);if(c=Number(v.headers.get("Content-Length")),isNaN(c)||c===0)throw new Error("Could not determine file size.");a=0}if(await h.put(nt,{modelName:e,total:c,status:"downloading"}),o({downloaded:a,total:c,percent:c>0?a/c*100:0,status:"downloading"}),a<c){const v=await fetch(n,{headers:{Range:`bytes=${a}-`},signal:s.signal});if(!v.ok||!v.body)throw new Error(`Download request failed. Status: ${v.status}`);const E=await d.createWritable({keepExistingData:!0});await E.seek(a);const A=v.body.getReader();for(;;){const{done:y,value:m}=await A.read();if(y)break;await E.write(m),a+=m.length,o({downloaded:a,total:c,percent:a/c*100,status:"downloading"})}await E.close()}const g=await d.getFile();if(g.size!==c)throw new Error(`Final file size ${g.size} does not match expected size ${c}`);await h.put(nt,{modelName:e,total:c,status:"completed"}),o({downloaded:c,total:c,percent:100,status:"completed"}),console.log(`Model ${e} downloaded to OPFS successfully.`)}catch(f){this.handleDownloadError(f,e,a,c,o)}finally{this.controllers.delete(e)}}async runIdbDownload(e,n,i,o,l){const s=new AbortController;this.controllers.set(e,s);let a=0,c=0,f=0;const d=5*1024*1024;try{const h=await this.getDb();if(l){const p=await h.get(nt,e);if(!p||!p.total)return this.runIdbDownload(e,n,i,o,!1);c=p.total;const g=await h.getAllFromIndex(nn,"modelName",e);a=g.reduce((v,E)=>v+E.data.byteLength,0),f=g.length}else{await this.deleteModel(e);const p=await fetch(n,{method:"HEAD",signal:s.signal});if(!p.ok)throw new Error(`Failed to get model info. Status: ${p.status}`);if(c=Number(p.headers.get("Content-Length")),isNaN(c)||c===0)throw new Error("Could not determine file size.")}for(await h.put(nt,{modelName:e,total:c,status:"downloading"});a<c;){const p=a,g=Math.min(a+d-1,c-1),v=await fetch(n,{headers:{Range:`bytes=${p}-${g}`},signal:s.signal});if(!v.ok)throw new Error(`Chunk download failed. Status: ${v.status}`);const E=await v.arrayBuffer();await h.put(nn,{modelName:e,chunkIndex:f,data:E}),a+=E.byteLength,f++,o({downloaded:a,total:c,percent:a/c*100,status:"downloading"})}await this._consolidateModel(e,o)}catch(h){this.handleDownloadError(h,e,a,c,o)}finally{this.controllers.delete(e)}}handleDownloadError(e,n,i,o,l){if(e instanceof DOMException&&e.name==="AbortError")console.log(`Download for ${n} was paused.`),this.getDb().then(s=>s.put(nt,{modelName:n,total:o,status:"paused",downloaded:i})),l({downloaded:i,total:o,percent:o>0?i/o*100:0,status:"paused"});else{const s=e instanceof Error?e.message:"Unknown download error";console.error(`Download error for ${n}:`,e),this.getDb().then(a=>a.put(nt,{modelName:n,status:"error",error:s,total:o})),l({downloaded:i,total:o,percent:o>0?i/o*100:0,status:"error",error:s})}}async _consolidateModel(e,n){const i=await this.getDb(),o=await i.get(nt,e);if(!o)return;const l=o.total||0,s=o.downloaded||l;try{n({downloaded:s,total:l,percent:100,status:"consolidating"});const a=await this.getModelFromChunksAsStream(e);if(!a)throw new Error("Failed to reconstruct model from chunks.");await i.put(Rl,{modelName:e,blob:a}),await this._deleteChunks(e),await i.put(nt,{modelName:e,total:l,status:"completed",downloaded:l}),n({downloaded:l,total:l,percent:100,status:"completed"}),console.log(`Model ${e} consolidated successfully.`)}catch(a){const c=a instanceof Error?a.message:"Unknown consolidation error";console.error(`Consolidation error for ${e}:`,a),await i.put(nt,{modelName:e,status:"error",error:c,total:l}),n({downloaded:s,total:l,percent:s/l*100,status:"error",error:`Consolidation failed: ${c}`})}}async _deleteChunks(e){const i=(await this.getDb()).transaction(nn,"readwrite");let l=await i.objectStore(nn).index("modelName").openCursor(IDBKeyRange.only(e));for(;l;)l.delete(),l=await l.continue();await i.done}pauseDownload(e){const n=this.controllers.get(e);n&&(n.abort(),this.controllers.delete(e))}async deleteModel(e){if(this.pauseDownload(e),this.isOpfsSupported)try{const i=await this.getOpfsRoot();i&&await i.removeEntry(e)}catch(i){i instanceof DOMException&&i.name==="NotFoundError"||console.error(`Error deleting ${e} from OPFS:`,i)}const n=await this.getDb();await n.delete(nt,e),await n.delete(Rl,e),await this._deleteChunks(e)}async getStatus(e){const n=await this.getDb(),i=await n.get(nt,e);if(!i)return{downloaded:0,total:0,percent:0,status:"not_started"};const o=i.total||0;if(i.status==="completed")return{downloaded:o,total:o,percent:100,status:"completed"};let l=0;if(this.isOpfsSupported)try{const s=await this.getOpfsRoot();s&&(l=(await(await s.getFileHandle(e)).getFile()).size)}catch{}else l=(await n.getAllFromIndex(nn,"modelName",e)).reduce((a,c)=>a+c.data.byteLength,0);return{downloaded:l,total:o,percent:o>0?l/o*100:0,status:i.status,error:i.error}}async getModelAsBlob(e){const n=await this.getDb(),i=await n.get(nt,e);if(!i||i.status!=="completed")return null;if(this.isOpfsSupported)try{const l=await this.getOpfsRoot();if(l){const a=await(await l.getFileHandle(e)).getFile();return a.size===i.total?a:(console.error(`OPFS file for ${e} is incomplete. Expected ${i.total}, found ${a.size}.`),null)}}catch(l){console.warn(`Could not get model ${e} from OPFS, will check IndexedDB.`,l)}const o=await n.get(Rl,e);return o&&o.blob?o.blob:(console.warn(`Consolidated model for ${e} not found in store. Reconstructing from chunks as a fallback.`),this.getModelFromChunksAsStream(e))}async getModelFromChunksAsStream(e){const n=await this.getDb();if(!await n.getFromIndex(nn,"modelName",e))return null;const o=new ReadableStream({async start(l){let c=await n.transaction(nn,"readonly").objectStore(nn).index("modelName").openCursor(IDBKeyRange.only(e));for(;c;)l.enqueue(new Uint8Array(c.value.data)),c=await c.continue();l.close()}});try{return await new Response(o).blob()}catch{return null}}getDb(){return this.dbPromise}}const go=new SN,Xs=window.SpeechRecognition||window.webkitSpeechRecognition,Sg=t=>{let e;if(t.numberOfChannels>1){e=new Float32Array(t.length);for(let d=0;d<t.length;d++){let h=0;for(let p=0;p<t.numberOfChannels;p++)h+=t.getChannelData(p)[d];e[d]=h/t.numberOfChannels}}else e=t.getChannelData(0);const n=1,i=e.length*n*2+44,o=new ArrayBuffer(i),l=new DataView(o);let s=0;const a=d=>{l.setUint16(s,d,!0),s+=2},c=d=>{l.setUint32(s,d,!0),s+=4},f=d=>{for(let h=0;h<d.length;h++)l.setUint8(s+h,d.charCodeAt(h));s+=d.length};f("RIFF"),c(i-8),f("WAVE"),f("fmt "),c(16),a(1),a(n),c(t.sampleRate),c(t.sampleRate*2*n),a(n*2),a(16),f("data"),c(e.length*2);for(let d=0;d<e.length;d++){let h=Math.max(-1,Math.min(1,e[d]));l.setInt16(s,h<0?h*32768:h*32767,!0),s+=2}return new Blob([l],{type:"audio/wav"})},TN=()=>{var nd;const{t}=Fi(),[e,n]=w.useState(""),[i,o]=w.useState(""),[l,s]=w.useState(qa[0]),[a,c]=w.useState(qa[6]),[f,d]=w.useState(!1),[h,p]=w.useState(!1),[g,v]=w.useState(!1),[E,A]=w.useState(!1),[y,m]=w.useState(!1),[T,C]=w.useState(!1),[x,N]=w.useState([]),[_,I]=w.useState(""),[b,L]=w.useState("gemini-2.5-flash"),[B,ce]=w.useState("gemini"),[U,pe]=w.useState(""),[J,M]=w.useState(""),[z,O]=w.useState(""),[Q,ne]=w.useState(!1),[xe,Bt]=w.useState([]),[$e,rt]=w.useState(navigator.onLine),[Wt,Yi]=w.useState(!1),[yi,vi]=w.useState(null),[fn,Ki]=w.useState(!1),[$i,Xi]=w.useState(""),[Qi,Zi]=w.useState(1),[dn,Si]=w.useState(1),[Ne,Wi]=w.useState(!1),[gl,ji]=w.useState({}),[jt,Gn]=w.useState(!1),[ml,pn]=w.useState(!1),[eo,to]=w.useState(4096),[no,io]=w.useState(40),[oo,lo]=w.useState(.3),[so,ao]=w.useState(101),[ro,uo]=w.useState(!1),[yl,xs]=w.useState(1),[vl,Vn]=w.useState(null),[co,ws]=w.useState(null),hn=w.useRef(null),Xe=w.useRef(null),k=w.useRef(D=>{}),H=w.useCallback((D,G="error")=>{hn.current&&clearTimeout(hn.current),ws({message:D,type:G}),hn.current=window.setTimeout(()=>{ws(null)},5e3)},[]),Oe=w.useRef(null),We=w.useRef(null),je=w.useRef(""),et=w.useRef(null),bt=w.useRef(null),Rt=w.useRef([]),Nt=w.useRef(null),zn=w.useRef(null),Bn=w.useRef(null);w.useEffect(()=>{k.current=D=>{const{type:G,payload:P}=D.data;switch(G){case"init_done":pn(!0),H(t("notifications.offlineModelInitSuccess",{modelIdentifier:P.modelIdentifier}),"success"),Gn(!1);break;case"init_error":pn(!1),H(P.error||t("notifications.offlineModelInitFailed"),"error"),console.error("Offline model init failed via worker:",P.error),Gn(!1);break;case"unload_done":pn(!1),Gn(!1);break;case"translation_chunk":o(q=>q.length===0?P.chunk.trimStart():q+P.chunk);break;case"translation_done":{const q={id:Date.now(),inputText:e,translatedText:P.result,sourceLang:l,targetLang:a};N(Z=>{const fe=[q,...Z].slice(0,50);return localStorage.setItem("translation-history",JSON.stringify(fe)),fe}),d(!1);break}case"translation_error":H(t("notifications.translationFailed",{errorMessage:P.error}),"error"),d(!1);break;case"translation_cancelled":d(!1);break;case"extract_text_done":n(P.text),o(""),P.text.trim()||H(t("notifications.noTextInImage"),"error"),d(!1);break;case"extract_text_error":H(t("notifications.imageProcessingFailed",{errorMessage:P.error}),"error"),n(""),d(!1);break;case"transcribe_done":n(P.text),d(!1),P.audioUrl&&URL.revokeObjectURL(P.audioUrl);break;case"transcribe_error":H(t("notifications.transcriptionFailed",{errorMessage:P.error}),"error"),n(""),d(!1),P.audioUrl&&URL.revokeObjectURL(P.audioUrl);break}}},[t,H,e,l,a]),w.useEffect(()=>{const D=new Worker(new URL("/Gemini-AI-Translator/assets/offline.worker-DQ2YPw9Z.js",import.meta.url),{type:"module"});Xe.current=D;const G=P=>k.current(P);return D.addEventListener("message",G),D.onerror=P=>{console.error("Worker error:",P),H(`A critical worker error occurred: ${P.message}`,"error"),Gn(!1),d(!1)},()=>{D.removeEventListener("message",G),D.terminate(),Xe.current=null}},[H]),w.useEffect(()=>{(async()=>{const G={};for(const P of Fa)P.value&&(G[P.value]=await go.getStatus(P.value));ji(G)})()},[]),w.useEffect(()=>{const D=()=>rt(!0),G=()=>rt(!1);return window.addEventListener("online",D),window.addEventListener("offline",G),()=>{window.removeEventListener("online",D),window.removeEventListener("offline",G)}},[]),w.useEffect(()=>{const D=localStorage.getItem("api-key");D&&I(D);const G=localStorage.getItem("model-name");G&&L(G);const P=localStorage.getItem("online-provider");P&&ce(P);const q=localStorage.getItem("openai-api-url");q&&pe(q);const Z=localStorage.getItem("hf-api-key");Z&&M(Z);const fe=localStorage.getItem("offline-model-name");fe&&O(fe);const Te=localStorage.getItem("offline-mode-enabled");Te&&Wi(JSON.parse(Te));const Ee=localStorage.getItem("is-two-step-jp-cn-enabled");Ee&&ne(JSON.parse(Ee));const Ce=localStorage.getItem("tts-enabled");Ce&&Ki(JSON.parse(Ce));const ze=localStorage.getItem("tts-voice-uri");ze&&Xi(ze);const qt=localStorage.getItem("tts-rate");qt&&Zi(JSON.parse(qt));const tt=localStorage.getItem("tts-pitch");tt&&Si(JSON.parse(tt));const we=localStorage.getItem("offline-max-tokens");we&&to(JSON.parse(we));const mt=localStorage.getItem("offline-top-k");mt&&io(JSON.parse(mt));const Ft=localStorage.getItem("offline-temperature");Ft&&lo(JSON.parse(Ft));const gn=localStorage.getItem("offline-random-seed");gn&&ao(JSON.parse(gn));const mn=localStorage.getItem("offline-support-audio");mn&&uo(JSON.parse(mn));const tn=localStorage.getItem("offline-max-num-images");tn&&xs(JSON.parse(tn));try{const Be=localStorage.getItem("translation-history");Be&&N(JSON.parse(Be))}catch(Be){console.error("Failed to load translation history:",Be)}},[]),w.useEffect(()=>{const D=()=>Bt(window.speechSynthesis.getVoices());window.speechSynthesis.onvoiceschanged=D,D()},[]);const Nr=Ne&&!!z&&((nd=gl[z])==null?void 0:nd.status)==="completed",en=Nr&&ml;w.useEffect(()=>{var P;const D=Nr?z:null;if(!Ne||!D){(ml||jt)&&((P=Xe.current)==null||P.postMessage({type:"unload"}));return}const G=async()=>{var q;Gn(!0),pn(!1);try{const Z=await go.getModelAsBlob(D);if(!Z)throw new Error(`Model blob for ${D} not found.`);const fe={maxTokens:eo,topK:no,temperature:oo,randomSeed:so,supportAudio:ro,maxNumImages:yl};(q=Xe.current)==null||q.postMessage({type:"init",payload:{modelBlob:Z,modelSource:D,options:fe}})}catch(Z){const fe=Z instanceof Error?Z.message:t("notifications.offlineModelInitFailed");H(fe,"error"),console.error("Offline model init failed (main thread):",Z),pn(!1),Gn(!1)}};Xe.current&&G()},[Nr,z,Ne,H,t,eo,no,oo,so,ro,yl]);const fo=w.useCallback(async D=>{var P;if(!D.trim()){o("");return}Bn.current&&Bn.current.abort();const G=new AbortController;Bn.current=G,d(!0),o("");try{if(Ne){if(!z)throw new Error("Please select an offline model in settings.");if(jt)throw new Error("Offline model is still initializing.");if(!en)throw new Error("Selected offline model is not ready.");(P=Xe.current)==null||P.postMessage({type:"translate",payload:{text:D,sourceLang:t(l.name),targetLang:t(a.name),sourceLangCode:l.code,targetLangCode:a.code,isTwoStepEnabled:Q}})}else{if(!$e)throw new Error("You are offline. Enable offline mode or connect to the internet.");let q="";const Z=Te=>{q+=Te,o(Ee=>Ee.length===0?Te.trimStart():Ee+Te)};if(B==="openai"){if(!_)throw new Error("OpenAI API Key is not set. Please add it in the settings.");if(!U)throw new Error("OpenAI API URL is not set. Please add it in the settings.");q=await iN(D,t(l.name),t(a.name),_,b,U,Z,G.signal)}else{if(!_)throw new Error("Gemini API Key is not set. Please add it in the settings.");q=await tN(D,t(l.name),t(a.name),_,b,Z,G.signal)}const fe={id:Date.now(),inputText:D,translatedText:q,sourceLang:l,targetLang:a};N(Te=>{const Ee=[fe,...Te].slice(0,50);return localStorage.setItem("translation-history",JSON.stringify(Ee)),Ee}),d(!1)}}catch(q){if(q instanceof DOMException&&q.name==="AbortError"){console.log("Translation cancelled by user."),d(!1);return}const Z=q instanceof Error?q.message:"An unknown error occurred.";H(t("notifications.translationFailed",{errorMessage:Z}),"error"),q instanceof Error&&(q.message.includes("select an offline model")||q.message.includes("API Key is not set")||q.message.includes("API URL is not set"))&&m(!0),console.error(q),d(!1)}finally{!Ne&&Bn.current===G&&(Bn.current=null)}},[l,a,_,b,$e,Ne,z,en,jt,H,B,U,Q,t]),Kv=w.useCallback(()=>{fo(e)},[e,fo]),$v=w.useCallback(()=>{var D,G;Ne?(D=Xe.current)==null||D.postMessage({type:"cancel_translation"}):(G=Bn.current)==null||G.abort()},[Ne]),Xv=w.useCallback(()=>{l.code!=="auto"&&(s(a),c(l),n(i),o(e))},[l,a,e,i]),Qv=w.useCallback(D=>{if(!i||!("speechSynthesis"in window)||window.speechSynthesis.speaking&&(window.speechSynthesis.cancel(),Wt&&(fn||yi===D)))return;const G=new SpeechSynthesisUtterance(i);if(G.lang=a.code,fn){const P=xe.find(q=>q.voiceURI===$i);P&&(G.voice=P),G.rate=Qi,G.pitch=dn}else{const P=xe.filter(q=>q.lang.startsWith(a.code));if(P.length>0){const q=P.find(Te=>/female|women|girl|mei-jia|zira|ayumi|kyoko/i.test(Te.name)),Z=P.find(Te=>/male|men|boy|liang|ichiro/i.test(Te.name));let fe;D==="female"?fe=q||P.find(Te=>Te!==Z)||P[0]:fe=Z||P.find(Te=>Te!==q)||P[0],G.voice=fe}}G.onstart=()=>{Yi(!0),vi(fn?null:D)},G.onend=()=>{Yi(!1),vi(null)},G.onerror=P=>{console.error("SpeechSynthesisUtterance.onerror",P),H(t("notifications.speechError",{error:P.error}),"error"),Yi(!1),vi(null)},window.speechSynthesis.speak(G)},[i,a,xe,Wt,yi,H,fn,$i,Qi,dn,t]);w.useEffect(()=>{if(!Xs)return;const D=new Xs;return D.continuous=!0,D.interimResults=!0,D.lang=l.code==="auto"?"en-US":l.code,D.onresult=G=>n(Array.from(G.results).map(P=>P[0].transcript).join("")),D.onerror=G=>H(t("notifications.speechRecognitionError",{error:G.error}),"error"),D.onend=()=>p(!1),Oe.current=D,()=>D.stop()},[l.code,H,t]),w.useEffect(()=>{if(!Xs||l.code==="auto")return;const D=new Xs;return D.continuous=!0,D.interimResults=!0,D.lang=l.code,D.onresult=G=>{const P=Array.from(G.results).map(q=>q[0].transcript).join("");je.current=P,n(`[Speech] ${P}`)},D.onerror=G=>{H(t("notifications.speechRecognitionError",{error:G.error}),"error"),v(!1)},D.onend=()=>{v(!1);const G=je.current.trim();G?(n(G),fo(G)):n("")},We.current=D,()=>D.stop()},[l.code,H,fo,t]);const jf=w.useCallback(()=>{Oe.current&&(h?Oe.current.stop():(n(""),o(""),Oe.current.start()),p(!h))},[h]),bs=w.useCallback(async()=>{if(h)zn.current&&(clearInterval(zn.current),zn.current=null),Vn(null),bt.current&&bt.current.state==="recording"&&bt.current.stop(),et.current&&(et.current.getTracks().forEach(D=>D.stop()),et.current=null),Nt.current&&Nt.current.state!=="closed"&&(Nt.current.close(),Nt.current=null),p(!1);else try{n(""),o("");const D=await navigator.mediaDevices.getUserMedia({audio:!0}),G=new(window.AudioContext||window.webkitAudioContext);Nt.current=G;const P=G.createMediaStreamSource(D),q=G.createBiquadFilter();q.type="highpass",q.frequency.value=150;const Z=G.createDynamicsCompressor();Z.threshold.value=-50,Z.knee.value=40,Z.ratio.value=12,Z.attack.value=0,Z.release.value=.25;const fe=G.createMediaStreamDestination();P.connect(q),q.connect(Z),Z.connect(fe);const Te=fe.stream;if(et.current=D,typeof MediaRecorder>"u"){H(t("notifications.mediaRecorderUnsupported"),"error"),D.getTracks().forEach(Ce=>Ce.stop()),G.close();return}const Ee=new MediaRecorder(Te);bt.current=Ee,Rt.current=[],Ee.ondataavailable=Ce=>{Ce.data.size>0&&Rt.current.push(Ce.data)},Ee.onstop=async()=>{var qt;if(d(!0),n(t("notifications.processingAudio")),o(""),Rt.current.length===0){d(!1),n(""),H(t("notifications.noAudioRecorded"),"error");return}const Ce=new Blob(Rt.current,{type:Ee.mimeType});Rt.current=[];let ze=null;try{ze=new(window.AudioContext||window.webkitAudioContext);const tt=await Ce.arrayBuffer(),we=await ze.decodeAudioData(tt),mt=16e3;let Ft=we;if(we.sampleRate!==mt){const tn=we.length*mt/we.sampleRate,Be=new OfflineAudioContext(1,tn,mt),Ti=Be.createBufferSource();Ti.buffer=we,Ti.connect(Be.destination),Ti.start(),Ft=await Be.startRendering()}const gn=Sg(Ft),mn=URL.createObjectURL(gn);(qt=Xe.current)==null||qt.postMessage({type:"transcribe",payload:{audioUrl:mn,sourceLang:t(l.name)}})}catch(tt){const we=tt instanceof Error?tt.message:"An unknown error occurred while processing audio.";H(t("notifications.transcriptionFailed",{errorMessage:we}),"error"),n(""),d(!1)}finally{ze&&ze.state!=="closed"&&ze.close()}},zn.current&&clearInterval(zn.current),Vn(30),zn.current=window.setInterval(()=>{Vn(Ce=>Ce!==null&&Ce>0?Ce-1:0)},1e3),Ee.start(),p(!0)}catch(D){H(t("notifications.micPermissionError"),"error"),console.error("Error starting offline recording:",D)}},[h,l,H,t]);w.useEffect(()=>{vl===0&&bs()},[vl,bs]);const Zv=w.useCallback(()=>{Ne?en?bs():H(t("notifications.offlineModelNotReadyRecording"),"error"):$e?jf():H(t("notifications.offlineSRError"),"error")},[Ne,en,$e,bs,jf,H,t]),ed=w.useCallback(()=>{We.current&&(g?We.current.stop():(n(""),o(""),je.current="",We.current.start(),v(!0)))},[g]),td=w.useCallback(async()=>{if(g)bt.current&&bt.current.state==="recording"&&bt.current.stop(),et.current&&(et.current.getTracks().forEach(D=>D.stop()),et.current=null),Nt.current&&Nt.current.state!=="closed"&&(Nt.current.close(),Nt.current=null),v(!1);else try{n(""),o("");const D=await navigator.mediaDevices.getUserMedia({audio:!0}),G=new(window.AudioContext||window.webkitAudioContext);Nt.current=G;const P=G.createMediaStreamSource(D),q=G.createBiquadFilter();q.type="highpass",q.frequency.value=150;const Z=G.createDynamicsCompressor();Z.threshold.value=-50,Z.knee.value=40,Z.ratio.value=12,Z.attack.value=0,Z.release.value=.25;const fe=G.createMediaStreamDestination();P.connect(q),q.connect(Z),Z.connect(fe);const Te=fe.stream;if(et.current=D,typeof MediaRecorder>"u"){H(t("notifications.mediaRecorderUnsupported"),"error"),D.getTracks().forEach(Ce=>Ce.stop()),G.close();return}const Ee=new MediaRecorder(Te);bt.current=Ee,Rt.current=[],Ee.ondataavailable=Ce=>{Ce.data.size>0&&Rt.current.push(Ce.data)},Ee.onstop=async()=>{var qt;if(d(!0),n(t("notifications.processingAudio")),o(""),Rt.current.length===0){d(!1),n(""),H(t("notifications.noAudioRecorded"),"error");return}const Ce=new Blob(Rt.current,{type:Ee.mimeType});Rt.current=[];let ze=null;try{ze=new(window.AudioContext||window.webkitAudioContext);const tt=await Ce.arrayBuffer(),we=await ze.decodeAudioData(tt),mt=16e3;let Ft=we;if(we.sampleRate!==mt){const Be=we.length*mt/we.sampleRate,Ti=new OfflineAudioContext(1,Be,mt),Ir=Ti.createBufferSource();Ir.buffer=we,Ir.connect(Ti.destination),Ir.start(),Ft=await Ti.startRendering()}const gn=Sg(Ft),mn=URL.createObjectURL(gn);(qt=Xe.current)==null||qt.postMessage({type:"transcribe",payload:{audioUrl:mn,sourceLang:t(l.name)}});const tn=k.current;k.current=Be=>{Be.data.type==="transcribe_done"?(n(Be.data.payload.text),fo(Be.data.payload.text),Be.data.payload.audioUrl&&URL.revokeObjectURL(Be.data.payload.audioUrl),k.current=tn):tn(Be)}}catch(tt){const we=tt instanceof Error?tt.message:"An unknown error occurred during speech translation.";H(t("notifications.astFailed",{errorMessage:we}),"error"),n("")}finally{ze&&ze.state!=="closed"&&ze.close()}},Ee.start(),v(!0)}catch(D){H(t("notifications.micPermissionError"),"error"),console.error("Error starting offline AST recording:",D)}},[g,l.name,H,fo,t]),Wv=w.useCallback(()=>{if(l.code==="auto"){H(t("notifications.astSelectLanguage"),"error");return}Ne?en?td():H(t("notifications.astOfflineModelNotReady"),"error"):$e?ed():H(t("notifications.astOfflineError"),"error")},[l.code,Ne,en,$e,td,ed,H,t]),jv=w.useCallback(async D=>{var G;A(!1),d(!0),n(t("notifications.processingImage")),o("");try{if(Ne){if(!en)throw new Error(t("notifications.offlineImageError"));(G=Xe.current)==null||G.postMessage({type:"extractText",payload:{imageUrl:D}})}else{if(!$e)throw new Error(t("notifications.offlineImageTranslateError"));let P;if(B==="openai"){if(!_)throw new Error("OpenAI API Key is not set. Please add it in the settings.");if(!U)throw new Error("OpenAI API URL is not set. Please add it in the settings.");P=await oN(D,t(a.name),_,b,U)}else{if(!_)throw new Error("Gemini API Key is not set. Please add it in the settings.");P=await nN(D,t(a.name),_,b)}n(P.sourceText),o(P.translatedText);const q={id:Date.now(),inputText:P.sourceText,translatedText:P.translatedText,sourceLang:l,targetLang:a};N(Z=>{const fe=[q,...Z].slice(0,50);return localStorage.setItem("translation-history",JSON.stringify(fe)),fe}),d(!1)}}catch(P){const q=P instanceof Error?P.message:"An unknown error occurred.";H(t("notifications.imageProcessingFailed",{errorMessage:q}),"error"),n(""),d(!1)}},[Ne,en,$e,_,b,a,l,H,B,U,t]),eS=(D,G,P,q,Z,fe,Te,Ee,Ce,ze,qt,tt,we,mt,Ft,gn,mn,tn)=>{I(D),L(G),ce(fe),pe(Te),M(P),O(q),Wi(Z),ne(tt),Ki(Ee),Xi(Ce),Zi(ze),Si(qt),to(we),io(mt),lo(Ft),ao(gn),uo(mn),xs(tn),localStorage.setItem("api-key",D),localStorage.setItem("model-name",G),localStorage.setItem("online-provider",fe),localStorage.setItem("openai-api-url",Te),localStorage.setItem("hf-api-key",P),localStorage.setItem("offline-model-name",q),localStorage.setItem("offline-mode-enabled",JSON.stringify(Z)),localStorage.setItem("is-two-step-jp-cn-enabled",JSON.stringify(tt)),localStorage.setItem("tts-enabled",JSON.stringify(Ee)),localStorage.setItem("tts-voice-uri",Ce),localStorage.setItem("tts-rate",JSON.stringify(ze)),localStorage.setItem("tts-pitch",JSON.stringify(qt)),localStorage.setItem("offline-max-tokens",JSON.stringify(we)),localStorage.setItem("offline-top-k",JSON.stringify(mt)),localStorage.setItem("offline-temperature",JSON.stringify(Ft)),localStorage.setItem("offline-random-seed",JSON.stringify(gn)),localStorage.setItem("offline-support-audio",JSON.stringify(mn)),localStorage.setItem("offline-max-num-images",JSON.stringify(tn))},tS=D=>{n(D.inputText),o(D.translatedText),s(D.sourceLang),c(D.targetLang),C(!1)},nS=()=>{N([]),localStorage.removeItem("translation-history")},Mr=(D,G)=>{ji(P=>({...P,[D]:G}))},iS=(D,G)=>go.startDownload(D,G,J,P=>Mr(D,P)),oS=(D,G)=>go.resumeDownload(D,G,J,P=>Mr(D,P)),lS=D=>go.pauseDownload(D),sS=async D=>{await go.deleteModel(D),Mr(D,{downloaded:0,total:0,percent:0,status:"not_started"})};return S.jsxs("div",{className:"bg-slate-100 h-full flex flex-col",children:[S.jsxs("div",{className:"w-full h-full max-w-6xl mx-auto flex-grow flex flex-col landscape:flex-row p-2 landscape:p-4 gap-4",children:[S.jsx("main",{className:"flex-1 landscape:h-full flex flex-col min-h-0 min-w-0",children:S.jsx(zC,{translatedText:i,targetLang:a,setTargetLang:c,isLoading:f,onSpeak:Qv,onSwapLanguages:Xv,onOpenHistory:()=>C(!0),onClearText:()=>o(""),isOfflineModeEnabled:Ne,isOfflineModelInitializing:jt,isOfflineModelReady:en,offlineModelName:z,isSpeaking:Wt,speakingGender:yi,onlineProvider:B,isOfflineTtsEnabled:fn,isAstRecording:g,onToggleAstRecording:Wv})}),S.jsx("div",{className:"flex-1 landscape:h-full flex flex-col min-h-0 min-w-0",children:S.jsx(VC,{inputText:e,setInputText:n,sourceLang:l,setSourceLang:s,isLoading:f||jt,onTranslate:Kv,onCancel:$v,isRecording:h,onToggleRecording:Zv,onOpenCamera:()=>A(!0),onOpenSettings:()=>m(!0),isOnline:$e,isOfflineModeEnabled:Ne,isOfflineModelReady:en,recordingCountdown:vl})})]}),co&&S.jsx("div",{className:`fixed top-5 left-1/2 -translate-x-1/2 px-4 py-3 rounded z-20 shadow-lg text-white ${co.type==="error"?"bg-red-500":"bg-green-500"}`,role:"alert",children:co.message}),E&&S.jsx(BC,{onClose:()=>A(!1),onImageCaptured:jv}),S.jsx(qC,{isOpen:y,onClose:()=>m(!1),onSave:eS,currentApiKey:_,currentModelName:b,currentOnlineProvider:B,currentOpenaiApiUrl:U,currentHuggingFaceApiKey:J,currentOfflineModelName:z,currentIsOfflineModeEnabled:Ne,currentIsTwoStepJpCnEnabled:Q,downloadProgress:gl,onStartDownload:iS,onResumeDownload:oS,onPauseDownload:lS,onDeleteModel:sS,isOfflineModelInitializing:jt,voices:xe,targetLang:a,currentIsOfflineTtsEnabled:fn,currentOfflineTtsVoiceURI:$i,currentOfflineTtsRate:Qi,currentOfflineTtsPitch:dn,currentOfflineMaxTokens:eo,currentOfflineTopK:no,currentOfflineTemperature:oo,currentOfflineRandomSeed:so,currentOfflineSupportAudio:ro,currentOfflineMaxNumImages:yl}),S.jsx(FC,{isOpen:T,onClose:()=>C(!1),history:x,onSelectHistory:tS,onClearHistory:nS})]})},K=t=>typeof t=="string",Nl=()=>{let t,e;const n=new Promise((i,o)=>{t=i,e=o});return n.resolve=t,n.reject=e,n},Tg=t=>t==null?"":""+t,EN=(t,e,n)=>{t.forEach(i=>{e[i]&&(n[i]=e[i])})},CN=/###/g,Eg=t=>t&&t.indexOf("###")>-1?t.replace(CN,"."):t,Cg=t=>!t||K(t),Ql=(t,e,n)=>{const i=K(e)?e.split("."):e;let o=0;for(;o<i.length-1;){if(Cg(t))return{};const l=Eg(i[o]);!t[l]&&n&&(t[l]=new n),Object.prototype.hasOwnProperty.call(t,l)?t=t[l]:t={},++o}return Cg(t)?{}:{obj:t,k:Eg(i[o])}},Ag=(t,e,n)=>{const{obj:i,k:o}=Ql(t,e,Object);if(i!==void 0||e.length===1){i[o]=n;return}let l=e[e.length-1],s=e.slice(0,e.length-1),a=Ql(t,s,Object);for(;a.obj===void 0&&s.length;)l=`${s[s.length-1]}.${l}`,s=s.slice(0,s.length-1),a=Ql(t,s,Object),a&&a.obj&&typeof a.obj[`${a.k}.${l}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${l}`]=n},AN=(t,e,n,i)=>{const{obj:o,k:l}=Ql(t,e,Object);o[l]=o[l]||[],o[l].push(n)},Za=(t,e)=>{const{obj:n,k:i}=Ql(t,e);if(n)return n[i]},_N=(t,e,n)=>{const i=Za(t,n);return i!==void 0?i:Za(e,n)},zv=(t,e,n)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in t?K(t[i])||t[i]instanceof String||K(e[i])||e[i]instanceof String?n&&(t[i]=e[i]):zv(t[i],e[i],n):t[i]=e[i]);return t},mo=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var xN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const wN=t=>K(t)?t.replace(/[&<>"'\/]/g,e=>xN[e]):t;class bN{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const RN=[" ",",","?","!",";"],NN=new bN(20),MN=(t,e,n)=>{e=e||"",n=n||"";const i=RN.filter(s=>e.indexOf(s)<0&&n.indexOf(s)<0);if(i.length===0)return!0;const o=NN.getRegExp(`(${i.map(s=>s==="?"?"\\?":s).join("|")})`);let l=!o.test(t);if(!l){const s=t.indexOf(n);s>0&&!o.test(t.substring(0,s))&&(l=!0)}return l},Vc=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const i=e.split(n);let o=t;for(let l=0;l<i.length;){if(!o||typeof o!="object")return;let s,a="";for(let c=l;c<i.length;++c)if(c!==l&&(a+=n),a+=i[c],s=o[a],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&c<i.length-1)continue;l+=c-l+1;break}o=s}return o},Wa=t=>t&&t.replace("_","-"),IN={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class ja{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||IN,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,i,o){return o&&!this.debug?null:(K(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new ja(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ja(this.logger,e)}}var an=new ja;class Rr{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const o=this.observers[i].get(n)||0;this.observers[i].set(n,o+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(s=>{let[a,c]=s;for(let f=0;f<c;f++)a(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(s=>{let[a,c]=s;for(let f=0;f<c;f++)a.apply(a,[e,...i])})}}class _g extends Rr{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,s=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],i&&(Array.isArray(i)?a.push(...i):K(i)&&l?a.push(...i.split(l)):a.push(i)));const c=Za(this.data,a);return!c&&!n&&!i&&e.indexOf(".")>-1&&(e=a[0],n=a[1],i=a.slice(2).join(".")),c||!s||!K(i)?c:Vc(this.data&&this.data[e]&&this.data[e][n],i,l)}addResource(e,n,i,o){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let a=[e,n];i&&(a=a.concat(s?i.split(s):i)),e.indexOf(".")>-1&&(a=e.split("."),o=n,n=a[1]),this.addNamespaces(n),Ag(this.data,a,o),l.silent||this.emit("added",e,n,i,o)}addResources(e,n,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const l in i)(K(i[l])||Array.isArray(i[l]))&&this.addResource(e,n,l,i[l],{silent:!0});o.silent||this.emit("added",e,n,i)}addResourceBundle(e,n,i,o,l){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),o=i,i=n,n=a[1]),this.addNamespaces(n);let c=Za(this.data,a)||{};s.skipCopy||(i=JSON.parse(JSON.stringify(i))),o?zv(c,i,l):c={...c,...i},Ag(this.data,a,c),s.silent||this.emit("added",e,n,i)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(o=>n[o]&&Object.keys(n[o]).length>0)}toJSON(){return this.data}}var Bv={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,i,o){return t.forEach(l=>{this.processors[l]&&(e=this.processors[l].process(e,n,i,o))}),e}};const xg={};class er extends Rr{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),EN(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=an.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const i=this.resolve(e,n);return i&&i.res!==void 0}extractFromKey(e,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let l=n.ns||this.options.defaultNS||[];const s=i&&e.indexOf(i)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!MN(e,i,o);if(s&&!a){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:K(l)?[l]:l};const f=e.split(i);(i!==o||i===o&&this.options.ns.indexOf(f[0])>-1)&&(l=f.shift()),e=f.join(o)}return{key:e,namespaces:K(l)?[l]:l}}translate(e,n,i){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,l=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(e[e.length-1],n),c=a[a.length-1],f=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&f.toLowerCase()==="cimode"){if(d){const C=n.nsSeparator||this.options.nsSeparator;return o?{res:`${c}${C}${s}`,usedKey:s,exactUsedKey:s,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:`${c}${C}${s}`}return o?{res:s,usedKey:s,exactUsedKey:s,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:s}const h=this.resolve(e,n);let p=h&&h.res;const g=h&&h.usedKey||s,v=h&&h.exactUsedKey||s,E=Object.prototype.toString.apply(p),A=["[object Number]","[object Function]","[object RegExp]"],y=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject,T=!K(p)&&typeof p!="boolean"&&typeof p!="number";if(m&&p&&T&&A.indexOf(E)<0&&!(K(y)&&Array.isArray(p))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,p,{...n,ns:a}):`key '${s} (${this.language})' returned an object instead of string.`;return o?(h.res=C,h.usedParams=this.getUsedParamsDetails(n),h):C}if(l){const C=Array.isArray(p),x=C?[]:{},N=C?v:g;for(const _ in p)if(Object.prototype.hasOwnProperty.call(p,_)){const I=`${N}${l}${_}`;x[_]=this.translate(I,{...n,joinArrays:!1,ns:a}),x[_]===I&&(x[_]=p[_])}p=x}}else if(m&&K(y)&&Array.isArray(p))p=p.join(y),p&&(p=this.extendTranslation(p,e,n,i));else{let C=!1,x=!1;const N=n.count!==void 0&&!K(n.count),_=er.hasDefaultValue(n),I=N?this.pluralResolver.getSuffix(f,n.count,n):"",b=n.ordinal&&N?this.pluralResolver.getSuffix(f,n.count,{ordinal:!1}):"",L=N&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),B=L&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${I}`]||n[`defaultValue${b}`]||n.defaultValue;!this.isValidLookup(p)&&_&&(C=!0,p=B),this.isValidLookup(p)||(x=!0,p=s);const U=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&x?void 0:p,pe=_&&B!==p&&this.options.updateMissing;if(x||C||pe){if(this.logger.log(pe?"updateKey":"missingKey",f,c,s,pe?B:p),l){const O=this.resolve(s,{...n,keySeparator:!1});O&&O.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let J=[];const M=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&M&&M[0])for(let O=0;O<M.length;O++)J.push(M[O]);else this.options.saveMissingTo==="all"?J=this.languageUtils.toResolveHierarchy(n.lng||this.language):J.push(n.lng||this.language);const z=(O,Q,ne)=>{const xe=_&&ne!==p?ne:U;this.options.missingKeyHandler?this.options.missingKeyHandler(O,c,Q,xe,pe,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(O,c,Q,xe,pe,n),this.emit("missingKey",O,c,Q,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&N?J.forEach(O=>{const Q=this.pluralResolver.getSuffixes(O,n);L&&n[`defaultValue${this.options.pluralSeparator}zero`]&&Q.indexOf(`${this.options.pluralSeparator}zero`)<0&&Q.push(`${this.options.pluralSeparator}zero`),Q.forEach(ne=>{z([O],s+ne,n[`defaultValue${ne}`]||B)})}):z(J,s,B))}p=this.extendTranslation(p,e,n,h,i),x&&p===s&&this.options.appendNamespaceToMissingKey&&(p=`${c}:${s}`),(x||C)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${s}`:s,C?p:void 0):p=this.options.parseMissingKeyHandler(p))}return o?(h.res=p,h.usedParams=this.getUsedParamsDetails(n),h):p}extendTranslation(e,n,i,o,l){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const f=K(e)&&(i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(f){const p=e.match(this.interpolator.nestingRegexp);d=p&&p.length}let h=i.replace&&!K(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,i.lng||this.language||o.usedLng,i),f){const p=e.match(this.interpolator.nestingRegexp),g=p&&p.length;d<g&&(i.nest=!1)}!i.lng&&this.options.compatibilityAPI!=="v1"&&o&&o.res&&(i.lng=this.language||o.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var p=arguments.length,g=new Array(p),v=0;v<p;v++)g[v]=arguments[v];return l&&l[0]===g[0]&&!i.context?(s.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${n[0]}`),null):s.translate(...g,n)},i)),i.interpolation&&this.interpolator.reset()}const a=i.postProcess||this.options.postProcess,c=K(a)?[a]:a;return e!=null&&c&&c.length&&i.applyPostProcessor!==!1&&(e=Bv.handle(c,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,o,l,s,a;return K(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(i))return;const f=this.extractFromKey(c,n),d=f.key;o=d;let h=f.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const p=n.count!==void 0&&!K(n.count),g=p&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),v=n.context!==void 0&&(K(n.context)||typeof n.context=="number")&&n.context!=="",E=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(A=>{this.isValidLookup(i)||(a=A,!xg[`${E[0]}-${A}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(xg[`${E[0]}-${A}`]=!0,this.logger.warn(`key "${o}" for languages "${E.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),E.forEach(y=>{if(this.isValidLookup(i))return;s=y;const m=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(m,d,y,A,n);else{let C;p&&(C=this.pluralResolver.getSuffix(y,n.count,n));const x=`${this.options.pluralSeparator}zero`,N=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(m.push(d+C),n.ordinal&&C.indexOf(N)===0&&m.push(d+C.replace(N,this.options.pluralSeparator)),g&&m.push(d+x)),v){const _=`${d}${this.options.contextSeparator}${n.context}`;m.push(_),p&&(m.push(_+C),n.ordinal&&C.indexOf(N)===0&&m.push(_+C.replace(N,this.options.pluralSeparator)),g&&m.push(_+x))}}let T;for(;T=m.pop();)this.isValidLookup(i)||(l=T,i=this.getResource(y,A,T,n))}))})}),{res:i,usedKey:o,exactUsedKey:l,usedLng:s,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,i,o):this.resourceStore.getResource(e,n,i,o)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!K(e.replace);let o=i?e.replace:e;if(i&&typeof e.count<"u"&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!i){o={...o};for(const l of n)delete o[l]}return o}static hasDefaultValue(e){const n="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&n===i.substring(0,n.length)&&e[i]!==void 0)return!0;return!1}}const Tu=t=>t.charAt(0).toUpperCase()+t.slice(1);class wg{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=an.create("languageUtils")}getScriptPartFromCode(e){if(e=Wa(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Wa(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(K(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let o=Intl.getCanonicalLocales(e)[0];if(o&&this.options.lowerCaseLng&&(o=o.toLowerCase()),o)return o}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let i=e.split("-");return this.options.lowerCaseLng?i=i.map(o=>o.toLowerCase()):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=Tu(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=Tu(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=Tu(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(i=>{if(n)return;const o=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(o))&&(n=o)}),!n&&this.options.supportedLngs&&e.forEach(i=>{if(n)return;const o=this.getLanguagePartFromCode(i);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(l=>{if(l===o)return l;if(!(l.indexOf("-")<0&&o.indexOf("-")<0)&&(l.indexOf("-")>0&&o.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===o||l.indexOf(o)===0&&o.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),K(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let i=e[n];return i||(i=e[this.getScriptPartFromCode(n)]),i||(i=e[this.formatLanguageCode(n)]),i||(i=e[this.getLanguagePartFromCode(n)]),i||(i=e.default),i||[]}toResolveHierarchy(e,n){const i=this.getFallbackCodes(n||this.options.fallbackLng||[],e),o=[],l=s=>{s&&(this.isSupportedCode(s)?o.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return K(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(e))):K(e)&&l(this.formatLanguageCode(e)),i.forEach(s=>{o.indexOf(s)<0&&l(this.formatLanguageCode(s))}),o}}let DN=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],LN={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const UN=["v1","v2","v3"],kN=["v4"],bg={zero:0,one:1,two:2,few:3,many:4,other:5},ON=()=>{const t={};return DN.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:LN[e.fc]}})}),t};class PN{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=an.create("pluralResolver"),(!this.options.compatibilityJSON||kN.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=ON(),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const i=Wa(e==="dev"?"en":e),o=n.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:i,type:o});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let s;try{s=new Intl.PluralRules(i,{type:o})}catch{if(!e.match(/-|_/))return;const c=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(c,n)}return this.pluralRulesCache[l]=s,s}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,i).map(o=>`${n}${o}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((o,l)=>bg[o]-bg[l]).map(o=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${o}`):i.numbers.map(o=>this.getSuffix(e,o,n)):[]}getSuffix(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=this.getRule(e,i);return o?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${o.select(n)}`:this.getSuffixRetroCompatible(o,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const i=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let o=e.numbers[i];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));const l=()=>this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString();return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?`_plural_${o.toString()}`:l():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?l():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!UN.includes(this.options.compatibilityJSON)}}const Rg=function(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=_N(t,e,n);return!l&&o&&K(n)&&(l=Vc(t,n,i),l===void 0&&(l=Vc(e,n,i))),l},Eu=t=>t.replace(/\$/g,"$$$$");class HN{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=an.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:i,useRawValueToEscape:o,prefix:l,prefixEscaped:s,suffix:a,suffixEscaped:c,formatSeparator:f,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:p,nestingPrefixEscaped:g,nestingSuffix:v,nestingSuffixEscaped:E,nestingOptionsSeparator:A,maxReplaces:y,alwaysFormat:m}=e.interpolation;this.escape=n!==void 0?n:wN,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=l?mo(l):s||"{{",this.suffix=a?mo(a):c||"}}",this.formatSeparator=f||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=p?mo(p):g||mo("$t("),this.nestingSuffix=v?mo(v):E||mo(")"),this.nestingOptionsSeparator=A||",",this.maxReplaces=y||1e3,this.alwaysFormat=m!==void 0?m:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,i)=>n&&n.source===i?(n.lastIndex=0,n):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,i,o){let l,s,a;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=g=>{if(g.indexOf(this.formatSeparator)<0){const y=Rg(n,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,i,{...o,...n,interpolationkey:g}):y}const v=g.split(this.formatSeparator),E=v.shift().trim(),A=v.join(this.formatSeparator).trim();return this.format(Rg(n,c,E,this.options.keySeparator,this.options.ignoreJSONStructure),A,i,{...o,...n,interpolationkey:E})};this.resetRegExp();const d=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,h=o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Eu(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Eu(this.escape(g)):Eu(g)}].forEach(g=>{for(a=0;l=g.regex.exec(e);){const v=l[1].trim();if(s=f(v),s===void 0)if(typeof d=="function"){const A=d(e,l,o);s=K(A)?A:""}else if(o&&Object.prototype.hasOwnProperty.call(o,v))s="";else if(h){s=l[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${e}`),s="";else!K(s)&&!this.useRawValueToEscape&&(s=Tg(s));const E=g.safeValue(s);if(e=e.replace(l[0],E),h?(g.regex.lastIndex+=s.length,g.regex.lastIndex-=l[0].length):g.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,l,s;const a=(c,f)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const h=c.split(new RegExp(`${d}[ ]*{`));let p=`{${h[1]}`;c=h[0],p=this.interpolate(p,s);const g=p.match(/'/g),v=p.match(/"/g);(g&&g.length%2===0&&!v||v.length%2!==0)&&(p=p.replace(/'/g,'"'));try{s=JSON.parse(p),f&&(s={...f,...s})}catch(E){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,E),`${c}${d}${p}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,c};for(;o=this.nestingRegexp.exec(e);){let c=[];s={...i},s=s.replace&&!K(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let f=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){const d=o[1].split(this.formatSeparator).map(h=>h.trim());o[1]=d.shift(),c=d,f=!0}if(l=n(a.call(this,o[1].trim(),s),s),l&&o[0]===e&&!K(l))return l;K(l)||(l=Tg(l)),l||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),l=""),f&&(l=c.reduce((d,h)=>this.format(d,h,i.lng,{...i,interpolationkey:o[1].trim()}),l.trim())),e=e.replace(o[0],l),this.regexp.lastIndex=0}return e}}const GN=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const i=t.split("(");e=i[0].toLowerCase().trim();const o=i[1].substring(0,i[1].length-1);e==="currency"&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach(s=>{if(s){const[a,...c]=s.split(":"),f=c.join(":").trim().replace(/^'+|'+$/g,""),d=a.trim();n[d]||(n[d]=f),f==="false"&&(n[d]=!1),f==="true"&&(n[d]=!0),isNaN(f)||(n[d]=parseInt(f,10))}})}return{formatName:e,formatOptions:n}},yo=t=>{const e={};return(n,i,o)=>{let l=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(l={...l,[o.interpolationkey]:void 0});const s=i+JSON.stringify(l);let a=e[s];return a||(a=t(Wa(i),o),e[s]=a),a(n)}};class VN{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=an.create("formatter"),this.options=e,this.formats={number:yo((n,i)=>{const o=new Intl.NumberFormat(n,{...i});return l=>o.format(l)}),currency:yo((n,i)=>{const o=new Intl.NumberFormat(n,{...i,style:"currency"});return l=>o.format(l)}),datetime:yo((n,i)=>{const o=new Intl.DateTimeFormat(n,{...i});return l=>o.format(l)}),relativetime:yo((n,i)=>{const o=new Intl.RelativeTimeFormat(n,{...i});return l=>o.format(l,i.range||"day")}),list:yo((n,i)=>{const o=new Intl.ListFormat(n,{...i});return l=>o.format(l)})},this.init(e)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=yo(n)}format(e,n,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const l=n.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(a=>a.indexOf(")")>-1)){const a=l.findIndex(c=>c.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,a)].join(this.formatSeparator)}return l.reduce((a,c)=>{const{formatName:f,formatOptions:d}=GN(c);if(this.formats[f]){let h=a;try{const p=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},g=p.locale||p.lng||o.locale||o.lng||i;h=this.formats[f](a,g,{...d,...o,...p})}catch(p){this.logger.warn(p)}return h}else this.logger.warn(`there was no format function for ${f}`);return a},e)}}const zN=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class BN extends Rr{constructor(e,n,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=o,this.logger=an.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,o.backend,o)}queueLoad(e,n,i,o){const l={},s={},a={},c={};return e.forEach(f=>{let d=!0;n.forEach(h=>{const p=`${f}|${h}`;!i.reload&&this.store.hasResourceBundle(f,h)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?s[p]===void 0&&(s[p]=!0):(this.state[p]=1,d=!1,s[p]===void 0&&(s[p]=!0),l[p]===void 0&&(l[p]=!0),c[h]===void 0&&(c[h]=!0)))}),d||(a[f]=!0)}),(Object.keys(l).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(l),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(c)}}loaded(e,n,i){const o=e.split("|"),l=o[0],s=o[1];n&&this.emit("failedLoading",l,s,n),!n&&i&&this.store.addResourceBundle(l,s,i,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&i&&(this.state[e]=0);const a={};this.queue.forEach(c=>{AN(c.loaded,[l],s),zN(c,e),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(f=>{a[f]||(a[f]={});const d=c.loaded[f];d.length&&d.forEach(h=>{a[f][h]===void 0&&(a[f][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(c=>!c.done)}read(e,n,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:i,tried:o,wait:l,callback:s});return}this.readingCalls++;const a=(f,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(f&&d&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,i,o+1,l*2,s)},l);return}s(f,d)},c=this.backend[i].bind(this.backend);if(c.length===2){try{const f=c(e,n);f&&typeof f.then=="function"?f.then(d=>a(null,d)).catch(a):a(null,f)}catch(f){a(f)}return}return c(e,n,a)}prepareLoading(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();K(e)&&(e=this.languageUtils.toResolveHierarchy(e)),K(n)&&(n=[n]);const l=this.queueLoad(e,n,i,o);if(!l.toLoad.length)return l.pending.length||o(),null;l.toLoad.forEach(s=>{this.loadOne(s)})}load(e,n,i){this.prepareLoading(e,n,{},i)}reload(e,n,i){this.prepareLoading(e,n,{reload:!0},i)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=e.split("|"),o=i[0],l=i[1];this.read(o,l,"read",void 0,void 0,(s,a)=>{s&&this.logger.warn(`${n}loading namespace ${l} for language ${o} failed`,s),!s&&a&&this.logger.log(`${n}loaded namespace ${l} for language ${o}`,a),this.loaded(e,s,a)})}saveMissing(e,n,i,o,l){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend&&this.backend.create){const c={...s,isUpdate:l},f=this.backend.create.bind(this.backend);if(f.length<6)try{let d;f.length===5?d=f(e,n,i,o,c):d=f(e,n,i,o),d&&typeof d.then=="function"?d.then(h=>a(null,h)).catch(a):a(null,d)}catch(d){a(d)}else f(e,n,i,o,a,c)}!e||!e[0]||this.store.addResource(e[0],n,i,o)}}}const Ng=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),K(t[1])&&(e.defaultValue=t[1]),K(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(i=>{e[i]=n[i]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Mg=t=>(K(t.ns)&&(t.ns=[t.ns]),K(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),K(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),Qs=()=>{},qN=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class fs extends Rr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Mg(e),this.services={},this.logger=an,this.modules={external:[]},qN(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(i=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(K(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const o=Ng();this.options={...o,...this.options,...Mg(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...o.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const l=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?an.init(l(this.modules.logger),this.options):an.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=VN);const h=new wg(this.options);this.store=new _g(this.options.resources,this.options);const p=this.services;p.logger=an,p.resourceStore=this.store,p.languageUtils=h,p.pluralResolver=new PN(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(p.formatter=l(d),p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new HN(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new BN(l(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(g){for(var v=arguments.length,E=new Array(v>1?v-1:0),A=1;A<v;A++)E[A-1]=arguments[A];e.emit(g,...E)}),this.modules.languageDetector&&(p.languageDetector=l(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=l(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new er(this.services,this.options),this.translator.on("*",function(g){for(var v=arguments.length,E=new Array(v>1?v-1:0),A=1;A<v;A++)E[A-1]=arguments[A];e.emit(g,...E)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,i||(i=Qs),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const c=Nl(),f=()=>{const d=(h,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(p),i(h,p)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),c}loadResources(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qs;const o=K(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(o&&o.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const l=[],s=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(f=>{f!=="cimode"&&l.indexOf(f)<0&&l.push(f)})};o?s(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>s(c)),this.options.preload&&this.options.preload.forEach(a=>s(a)),this.services.backendConnector.load(l,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(a)})}else i(null)}reloadResources(e,n,i){const o=Nl();return typeof e=="function"&&(i=e,e=void 0),typeof n=="function"&&(i=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),i||(i=Qs),this.services.backendConnector.reload(e,n,l=>{o.resolve(),i(l)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Bv.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(e,n){var i=this;this.isLanguageChangingTo=e;const o=Nl();this.emit("languageChanging",e);const l=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},s=(c,f)=>{f?(l(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,o.resolve(function(){return i.t(...arguments)}),n&&n(c,function(){return i.t(...arguments)})},a=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const f=K(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);f&&(this.language||l(f),this.translator.language||this.translator.changeLanguage(f),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(f)),this.loadResources(f,d=>{s(d,f)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),o}getFixedT(e,n,i){var o=this;const l=function(s,a){let c;if(typeof a!="object"){for(var f=arguments.length,d=new Array(f>2?f-2:0),h=2;h<f;h++)d[h-2]=arguments[h];c=o.options.overloadTranslationOptionHandler([s,a].concat(d))}else c={...a};c.lng=c.lng||l.lng,c.lngs=c.lngs||l.lngs,c.ns=c.ns||l.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||i||l.keyPrefix);const p=o.options.keySeparator||".";let g;return c.keyPrefix&&Array.isArray(s)?g=s.map(v=>`${c.keyPrefix}${p}${v}`):g=c.keyPrefix?`${c.keyPrefix}${p}${s}`:s,o.t(g,c)};return K(e)?l.lng=e:l.lngs=e,l.ns=n,l.keyPrefix=i,l}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=n.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const s=(a,c)=>{const f=this.services.backendConnector.state[`${a}|${c}`];return f===-1||f===0||f===2};if(n.precheck){const a=n.precheck(this,s);if(a!==void 0)return a}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(i,e)&&(!o||s(l,e)))}loadNamespaces(e,n){const i=Nl();return this.options.ns?(K(e)&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{i.resolve(),n&&n(o)}),i):(n&&n(),Promise.resolve())}loadLanguages(e,n){const i=Nl();K(e)&&(e=[e]);const o=this.options.preload||[],l=e.filter(s=>o.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return l.length?(this.options.preload=o.concat(l),this.loadResources(s=>{i.resolve(),n&&n(s)}),i):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services&&this.services.languageUtils||new wg(Ng());return n.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new fs(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qs;const i=e.forkResourceStore;i&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},l=new fs(o);return(e.debug!==void 0||e.prefix!==void 0)&&(l.logger=l.logger.clone(e)),["store","services","language"].forEach(a=>{l[a]=this[a]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},i&&(l.store=new _g(this.store.data,o),l.services.resourceStore=l.store),l.translator=new er(l.services,o),l.translator.on("*",function(a){for(var c=arguments.length,f=new Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];l.emit(a,...f)}),l.init(o,n),l.translator.options=o,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ze=fs.createInstance();Ze.createInstance=fs.createInstance;Ze.createInstance;Ze.dir;Ze.init;Ze.loadResources;Ze.reloadResources;Ze.use;Ze.changeLanguage;Ze.getFixedT;Ze.t;Ze.exists;Ze.setDefaultNamespace;Ze.hasLoadedNamespace;Ze.loadNamespaces;Ze.loadLanguages;const{slice:FN,forEach:JN}=[];function YN(t){return JN.call(FN.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function KN(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const Ig=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,$N=function(t,e){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},o=encodeURIComponent(e);let l=`${t}=${o}`;if(i.maxAge>0){const s=i.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");l+=`; Max-Age=${Math.floor(s)}`}if(i.domain){if(!Ig.test(i.domain))throw new TypeError("option domain is invalid");l+=`; Domain=${i.domain}`}if(i.path){if(!Ig.test(i.path))throw new TypeError("option path is invalid");l+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");l+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(l+="; HttpOnly"),i.secure&&(l+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(l+="; Partitioned"),l},Dg={create(t,e,n,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+n*60*1e3)),i&&(o.domain=i),document.cookie=$N(t,e,o)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let i=0;i<n.length;i++){let o=n[i];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(e)===0)return o.substring(e.length,o.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var XN={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return Dg.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:i,cookieDomain:o,cookieOptions:l}=e;n&&typeof document<"u"&&Dg.create(n,t,i,o,l)}},QN={name:"querystring",lookup(t){var i;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:o}=window.location;!window.location.search&&((i=window.location.hash)==null?void 0:i.indexOf("?"))>-1&&(o=window.location.hash.substring(window.location.hash.indexOf("?")));const s=o.substring(1).split("&");for(let a=0;a<s.length;a++){const c=s[a].indexOf("=");c>0&&s[a].substring(0,c)===e&&(n=s[a].substring(c+1))}}return n}},ZN={name:"hash",lookup(t){var o;let{lookupHash:e,lookupFromHashIndex:n}=t,i;if(typeof window<"u"){const{hash:l}=window.location;if(l&&l.length>2){const s=l.substring(1);if(e){const a=s.split("&");for(let c=0;c<a.length;c++){const f=a[c].indexOf("=");f>0&&a[c].substring(0,f)===e&&(i=a[c].substring(f+1))}}if(i)return i;if(!i&&n>-1){const a=l.match(/\/([a-zA-Z-]*)/g);return Array.isArray(a)?(o=a[typeof n=="number"?n:0])==null?void 0:o.replace("/",""):void 0}}}return i}};let vo=null;const Lg=()=>{if(vo!==null)return vo;try{if(vo=typeof window<"u"&&window.localStorage!==null,!vo)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{vo=!1}return vo};var WN={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&Lg())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&Lg()&&window.localStorage.setItem(n,t)}};let So=null;const Ug=()=>{if(So!==null)return So;try{if(So=typeof window<"u"&&window.sessionStorage!==null,!So)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{So=!1}return So};var jN={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&Ug())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&Ug()&&window.sessionStorage.setItem(n,t)}},eM={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:i,language:o}=navigator;if(n)for(let l=0;l<n.length;l++)e.push(n[l]);i&&e.push(i),o&&e.push(o)}return e.length>0?e:void 0}},tM={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const i=e||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(n=i.getAttribute("lang")),n}},nM={name:"path",lookup(t){var o;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(o=n[typeof e=="number"?e:0])==null?void 0:o.replace("/",""):void 0}},iM={name:"subdomain",lookup(t){var o,l;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,i=typeof window<"u"&&((l=(o=window.location)==null?void 0:o.hostname)==null?void 0:l.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(i)return i[n]}};let qv=!1;try{document.cookie,qv=!0}catch{}const Fv=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];qv||Fv.splice(1,1);const oM=()=>({order:Fv,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class Jv{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=YN(n,this.options||{},oM()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=o=>o.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(XN),this.addDetector(QN),this.addDetector(WN),this.addDetector(jN),this.addDetector(eM),this.addDetector(tM),this.addDetector(nM),this.addDetector(iM),this.addDetector(ZN)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(i=>{if(this.detectors[i]){let o=this.detectors[i].lookup(this.options);o&&typeof o=="string"&&(o=[o]),o&&(n=n.concat(o))}}),n=n.filter(i=>i!=null&&!KN(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(e,this.options)}))}}Jv.type="languageDetector";const lM={en:{translation:{languages:{autoDetect:"Auto Detect",english:"English",chineseTraditional:"Chinese (Traditional)",chineseTraditionalHK:"Chinese (Traditional) HK",chineseSimplified:"Chinese (Simplified)",spanish:"Spanish",japanese:"Japanese",french:"French",german:"German",korean:"Korean",russian:"Russian",portuguese:"Portuguese",italian:"Italian"},translationInput:{online:"Online",offline:"Offline",cameraAriaLabel:"Translate from camera",settingsAriaLabel:"Open settings",placeholderListening:"Listening...",placeholderEnterText:"Enter text to translate",clearText:"Clear text",countdownPrefix:"0:",recordingStop:"Stop recording",recordingStart:"Start recording",cancelTranslation:"Cancel Translation",translateOffline:"Translate using offline model",translate:"Translate"},translationOutput:{modeOnline:"Mode: Online ({{provider}})",modeOfflineInitializing:"Mode: Offline ({{modelName}}) - Initializing...",modeOfflineReady:"Mode: Offline ({{modelName}})",modeOfflineNotReady:"Mode: Offline ({{modelName}}) - Model not ready",modeOfflineNoModel:"Mode: Offline - No model selected",flipScreenAriaLabel:"Flip screen",copyAriaLabel:"Copy translated text",historyAriaLabel:"View translation history",clearAriaLabel:"Clear translated text",placeholder:"Translation",speakStop:"Stop speaking",speakCustomVoice:"Speak with custom voice",speakFemale:"Speak with female voice",speakMale:"Speak with male voice",astStop:"Stop speech translation",astStart:"Start speech translation",astTitle:"Automatic Speech Translation"},settings:{title:"Settings",closeAriaLabel:"Close settings",tabOnline:"Online",tabOffline:"Offline",tabTts:"Offline TTS",tabOfflineParams:"Offline Params",providerLabel:"Provider",providerGemini:"Gemini",providerOpenAI:"OpenAI",openaiUrlLabel:"OpenAI API URL",openaiUrlPlaceholder:"e.g., https://api.openai.com",apiKeyLabel:"API Key",apiKeyPlaceholder:"Enter your Gemini or OpenAI API Key",modelNameLabel:"Model Name",modelNameGeminiPlaceholder:"e.g., gemini-2.5-flash",modelNameOpenAIPlaceholder:"e.g., gpt-4o",hfApiKeyLabel:"Hugging Face API Key",hfApiKeyPlaceholder:"Required to download models",hfApiKeyDescription:"A key is required for model downloads from Hugging Face.",manageModelsLabel:"Manage Offline Models",download:"Download",pause:"Pause",resume:"Resume",retry:"Retry",deleteModelAriaLabel:"Delete {{modelName}}",statusInitializing:"Initializing...",statusError:"Error: {{error}}",enableOfflineLabel:"Enable Offline Translation",enableOfflineDescription:"Use local model for translations.",enableTwoStepLabel:"High-Accuracy JPZH Mode",enableTwoStepDescription:"Improves Japanese to Chinese translation via English.",enableCustomTtsLabel:"Enable Custom Offline TTS",enableCustomTtsDescription:"Customize the voice for text-to-speech.",voiceLabel:"Voice",voicePlaceholder:"No voices available for {{languageName}}",rateLabel:"Rate",pitchLabel:"Pitch",offlineParamsDescription:"Advanced parameters for the local offline model. Changes will require the model to be re-initialized.",maxTokensLabel:"Max Tokens",topKLabel:"Top K",temperatureLabel:"Temperature",randomSeedLabel:"Random Seed",supportAudioLabel:"Enable Audio Input (for transcription)",supportAudioDescription:"Allows the model to process audio files.",maxNumImagesLabel:"Enable Image Input (for OCR)",maxNumImagesDescription:"Allows the model to process one image.",clearSettingsButton:"Clear Settings",saveSettingsButton:"Save Settings",languageLabel:"UI Language"},history:{title:"Translation History",closeAriaLabel:"Close history",empty:"No history yet.",selectAriaLabel:"Select translation from {{sourceLang}} to {{targetLang}}",clearAriaLabel:"Clear all translation history",clearButton:"Clear History"},camera:{title:"Camera Translation View",closeAriaLabel:"Close camera view",errorAccess:"Could not access the camera. Please ensure permissions are granted.",errorCapture:"Failed to capture image: {{message}}",errorLoad:"Failed to load image: {{message}}",zoomAriaLabel:"Zoom camera",galleryAriaLabel:"Import from gallery",captureAriaLabel:"Capture and process image",processingAriaLabel:"Processing image",flashOffAriaLabel:"Turn on flash",flashOnAriaLabel:"Turn off flash"},notifications:{offlineModelInitSuccess:"Offline model {{modelIdentifier}} initialized successfully.",offlineModelInitFailed:"Failed to load offline model.",translationFailed:"Translation Failed: {{errorMessage}}",speechError:"Speech synthesis error: {{error}}",speechRecognitionError:"Speech recognition error: {{error}}",mediaRecorderUnsupported:"MediaRecorder API is not supported in this browser.",processingAudio:"[Processing audio...]",noAudioRecorded:"No audio was recorded.",transcriptionFailed:"Transcription Failed: {{errorMessage}}",micPermissionError:"Could not start recording. Please grant microphone permissions.",offlineModelNotReadyRecording:"Offline model is not ready for recording.",offlineSRError:"You are offline. Cannot use online speech recognition.",astFailed:"AST Failed: {{errorMessage}}",astSelectLanguage:"Please select a source language before using speech translation.",astOfflineModelNotReady:"Offline model is not ready for speech translation.",astOfflineError:"You are offline. Cannot use online speech translation.",processingImage:"[Processing image...]",offlineImageError:"Offline model is not ready for image processing.",noTextInImage:"No text found in the image.",offlineImageTranslateError:"You are offline. Cannot use online image translation.",imageProcessingFailed:"Image Processing Failed: {{errorMessage}}"},common:{status:{not_started:"Not Started",downloading:"Downloading",paused:"Paused",completed:"Completed",error:"Error",consolidating:"Consolidating...",initializing:"Initializing..."}}}},"zh-TW":{translation:{languages:{autoDetect:"",english:"",chineseTraditional:"",chineseTraditionalHK:" ()",chineseSimplified:"",spanish:"",japanese:"",french:"",german:"",korean:"",russian:"",portuguese:"",italian:""},translationInput:{online:"",offline:"",cameraAriaLabel:"",settingsAriaLabel:"",placeholderListening:"...",placeholderEnterText:"",clearText:"",countdownPrefix:"0:",recordingStop:"",recordingStart:"",cancelTranslation:"",translateOffline:"",translate:""},translationOutput:{modeOnline:" ({{provider}})",modeOfflineInitializing:" ({{modelName}}) - ...",modeOfflineReady:" ({{modelName}})",modeOfflineNotReady:" ({{modelName}}) - ",modeOfflineNoModel:" - ",flipScreenAriaLabel:"",copyAriaLabel:"",historyAriaLabel:"",clearAriaLabel:"",placeholder:"",speakStop:"",speakCustomVoice:"",speakFemale:"",speakMale:"",astStop:"",astStart:"",astTitle:""},settings:{title:"",closeAriaLabel:"",tabOnline:"",tabOffline:"",tabTts:" TTS",tabOfflineParams:"",providerLabel:"",providerGemini:"Gemini",providerOpenAI:"OpenAI",openaiUrlLabel:"OpenAI API URL",openaiUrlPlaceholder:"https://api.openai.com",apiKeyLabel:"API ",apiKeyPlaceholder:" Gemini  OpenAI API ",modelNameLabel:"",modelNameGeminiPlaceholder:"gemini-2.5-flash",modelNameOpenAIPlaceholder:"gpt-4o",hfApiKeyLabel:"Hugging Face API ",hfApiKeyPlaceholder:"",hfApiKeyDescription:" Hugging Face ",manageModelsLabel:"",download:"",pause:"",resume:"",retry:"",deleteModelAriaLabel:" {{modelName}}",statusInitializing:"...",statusError:"{{error}}",enableOfflineLabel:"",enableOfflineDescription:"",enableTwoStepLabel:"  ",enableTwoStepDescription:"",enableCustomTtsLabel:" TTS",enableCustomTtsDescription:"",voiceLabel:"",voicePlaceholder:" {{languageName}} ",rateLabel:"",pitchLabel:"",offlineParamsDescription:"",maxTokensLabel:" (Max Tokens)",topKLabel:"Top K",temperatureLabel:" (Temperature)",randomSeedLabel:" (Random Seed)",supportAudioLabel:" ()",supportAudioDescription:"",maxNumImagesLabel:" ()",maxNumImagesDescription:"",clearSettingsButton:"",saveSettingsButton:"",languageLabel:""},history:{title:"",closeAriaLabel:"",empty:"",selectAriaLabel:" {{sourceLang}}  {{targetLang}} ",clearAriaLabel:"",clearButton:""},camera:{title:"",closeAriaLabel:"",errorAccess:"",errorCapture:"{{message}}",errorLoad:"{{message}}",zoomAriaLabel:"",galleryAriaLabel:"",captureAriaLabel:"",processingAriaLabel:"",flashOffAriaLabel:"",flashOnAriaLabel:""},notifications:{offlineModelInitSuccess:" {{modelIdentifier}} ",offlineModelInitFailed:"",translationFailed:"{{errorMessage}}",speechError:"{{error}}",speechRecognitionError:"{{error}}",mediaRecorderUnsupported:" MediaRecorder API",processingAudio:"[...]",noAudioRecorded:"",transcriptionFailed:"{{errorMessage}}",micPermissionError:"",offlineModelNotReadyRecording:"",offlineSRError:"",astFailed:"{{errorMessage}}",astSelectLanguage:"",astOfflineModelNotReady:"",astOfflineError:"",processingImage:"[...]",offlineImageError:"",noTextInImage:"",offlineImageTranslateError:"",imageProcessingFailed:"{{errorMessage}}"},common:{status:{not_started:"",downloading:"",paused:"",completed:"",error:"",consolidating:"...",initializing:"..."}}}}};Ze.use(Jv).use(vC).init({resources:lM,fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});const Yv=document.getElementById("root");if(!Yv)throw new Error("Could not find root element to mount to");const sM=sC.createRoot(Yv);sM.render(S.jsx(ad.StrictMode,{children:S.jsx(ad.Suspense,{fallback:"Loading...",children:S.jsx(TN,{})})}));
