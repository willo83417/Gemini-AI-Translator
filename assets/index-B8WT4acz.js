var uS=Object.defineProperty;var cS=(t,e,n)=>e in t?uS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var El=(t,e,n)=>cS(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Pg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hg={exports:{}},lr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fS=Symbol.for("react.transitional.element"),dS=Symbol.for("react.fragment");function Gg(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var o in e)o!=="key"&&(n[o]=e[o])}else n=e;return e=n.ref,{$$typeof:fS,type:t,key:i,ref:e!==void 0?e:null,props:n}}lr.Fragment=dS;lr.jsx=Gg;lr.jsxs=Gg;Hg.exports=lr;var S=Hg.exports,Vg={exports:{}},$={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fc=Symbol.for("react.transitional.element"),pS=Symbol.for("react.portal"),hS=Symbol.for("react.fragment"),gS=Symbol.for("react.strict_mode"),mS=Symbol.for("react.profiler"),yS=Symbol.for("react.consumer"),vS=Symbol.for("react.context"),SS=Symbol.for("react.forward_ref"),TS=Symbol.for("react.suspense"),ES=Symbol.for("react.memo"),zg=Symbol.for("react.lazy"),CS=Symbol.for("react.activity"),sd=Symbol.iterator;function _S(t){return t===null||typeof t!="object"?null:(t=sd&&t[sd]||t["@@iterator"],typeof t=="function"?t:null)}var Bg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qg=Object.assign,Fg={};function jo(t,e,n){this.props=t,this.context=e,this.refs=Fg,this.updater=n||Bg}jo.prototype.isReactComponent={};jo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};jo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Jg(){}Jg.prototype=jo.prototype;function Jc(t,e,n){this.props=t,this.context=e,this.refs=Fg,this.updater=n||Bg}var Yc=Jc.prototype=new Jg;Yc.constructor=Jc;qg(Yc,jo.prototype);Yc.isPureReactComponent=!0;var ad=Array.isArray;function xu(){}var Se={H:null,A:null,T:null,S:null},Yg=Object.prototype.hasOwnProperty;function Kc(t,e,n){var i=n.ref;return{$$typeof:Fc,type:t,key:e,ref:i!==void 0?i:null,props:n}}function AS(t,e){return Kc(t.type,e,t.props)}function $c(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fc}function xS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var rd=/\/+/g;function kr(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xS(""+t.key):e.toString(36)}function wS(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(xu,xu):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function go(t,e,n,i,o){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(l){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Fc:case pS:s=!0;break;case zg:return s=t._init,go(s(t._payload),e,n,i,o)}}if(s)return o=o(t),s=i===""?"."+kr(t,0):i,ad(o)?(n="",s!=null&&(n=s.replace(rd,"$&/")+"/"),go(o,e,n,"",function(f){return f})):o!=null&&($c(o)&&(o=AS(o,n+(o.key==null||t&&t.key===o.key?"":(""+o.key).replace(rd,"$&/")+"/")+s)),e.push(o)),1;s=0;var r=i===""?".":i+":";if(ad(t))for(var c=0;c<t.length;c++)i=t[c],l=r+kr(i,c),s+=go(i,e,n,l,o);else if(c=_S(t),typeof c=="function")for(t=c.call(t),c=0;!(i=t.next()).done;)i=i.value,l=r+kr(i,c++),s+=go(i,e,n,l,o);else if(l==="object"){if(typeof t.then=="function")return go(wS(t),e,n,i,o);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function Ds(t,e,n){if(t==null)return t;var i=[],o=0;return go(t,i,"","",function(l){return e.call(n,l,o++)}),i}function bS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ud=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},RS={map:Ds,forEach:function(t,e,n){Ds(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ds(t,function(){e++}),e},toArray:function(t){return Ds(t,function(e){return e})||[]},only:function(t){if(!$c(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$.Activity=CS;$.Children=RS;$.Component=jo;$.Fragment=hS;$.Profiler=mS;$.PureComponent=Jc;$.StrictMode=gS;$.Suspense=TS;$.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Se;$.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Se.H.useMemoCache(t)}};$.cache=function(t){return function(){return t.apply(null,arguments)}};$.cacheSignal=function(){return null};$.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=qg({},t.props),o=t.key;if(e!=null)for(l in e.key!==void 0&&(o=""+e.key),e)!Yg.call(e,l)||l==="key"||l==="__self"||l==="__source"||l==="ref"&&e.ref===void 0||(i[l]=e[l]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var s=Array(l),r=0;r<l;r++)s[r]=arguments[r+2];i.children=s}return Kc(t.type,o,i)};$.createContext=function(t){return t={$$typeof:vS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:yS,_context:t},t};$.createElement=function(t,e,n){var i,o={},l=null;if(e!=null)for(i in e.key!==void 0&&(l=""+e.key),e)Yg.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(o[i]=e[i]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var r=Array(s),c=0;c<s;c++)r[c]=arguments[c+2];o.children=r}if(t&&t.defaultProps)for(i in s=t.defaultProps,s)o[i]===void 0&&(o[i]=s[i]);return Kc(t,l,o)};$.createRef=function(){return{current:null}};$.forwardRef=function(t){return{$$typeof:SS,render:t}};$.isValidElement=$c;$.lazy=function(t){return{$$typeof:zg,_payload:{_status:-1,_result:t},_init:bS}};$.memo=function(t,e){return{$$typeof:ES,type:t,compare:e===void 0?null:e}};$.startTransition=function(t){var e=Se.T,n={};Se.T=n;try{var i=t(),o=Se.S;o!==null&&o(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(xu,ud)}catch(l){ud(l)}finally{e!==null&&n.types!==null&&(e.types=n.types),Se.T=e}};$.unstable_useCacheRefresh=function(){return Se.H.useCacheRefresh()};$.use=function(t){return Se.H.use(t)};$.useActionState=function(t,e,n){return Se.H.useActionState(t,e,n)};$.useCallback=function(t,e){return Se.H.useCallback(t,e)};$.useContext=function(t){return Se.H.useContext(t)};$.useDebugValue=function(){};$.useDeferredValue=function(t,e){return Se.H.useDeferredValue(t,e)};$.useEffect=function(t,e){return Se.H.useEffect(t,e)};$.useEffectEvent=function(t){return Se.H.useEffectEvent(t)};$.useId=function(){return Se.H.useId()};$.useImperativeHandle=function(t,e,n){return Se.H.useImperativeHandle(t,e,n)};$.useInsertionEffect=function(t,e){return Se.H.useInsertionEffect(t,e)};$.useLayoutEffect=function(t,e){return Se.H.useLayoutEffect(t,e)};$.useMemo=function(t,e){return Se.H.useMemo(t,e)};$.useOptimistic=function(t,e){return Se.H.useOptimistic(t,e)};$.useReducer=function(t,e,n){return Se.H.useReducer(t,e,n)};$.useRef=function(t){return Se.H.useRef(t)};$.useState=function(t){return Se.H.useState(t)};$.useSyncExternalStore=function(t,e,n){return Se.H.useSyncExternalStore(t,e,n)};$.useTransition=function(){return Se.H.useTransition()};$.version="19.2.3";Vg.exports=$;var w=Vg.exports;const cd=Pg(w);var Kg={exports:{}},sr={},$g={exports:{}},Xg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,V){var k=I.length;I.push(V);e:for(;0<k;){var Q=k-1>>>1,te=I[Q];if(0<o(te,V))I[Q]=V,I[k]=te,k=Q;else break e}}function n(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var V=I[0],k=I.pop();if(k!==V){I[0]=k;e:for(var Q=0,te=I.length,Le=te>>>1;Q<Le;){var nt=2*(Q+1)-1,Ln=I[nt],xe=nt+1,sn=I[xe];if(0>o(Ln,k))xe<te&&0>o(sn,Ln)?(I[Q]=sn,I[xe]=k,Q=xe):(I[Q]=Ln,I[nt]=k,Q=nt);else if(xe<te&&0>o(sn,k))I[Q]=sn,I[xe]=k,Q=xe;else break e}}return V}function o(I,V){var k=I.sortIndex-V.sortIndex;return k!==0?k:I.id-V.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var s=Date,r=s.now();t.unstable_now=function(){return s.now()-r}}var c=[],f=[],d=1,h=null,p=3,g=!1,v=!1,E=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function C(I){for(var V=n(f);V!==null;){if(V.callback===null)i(f);else if(V.startTime<=I)i(f),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(f)}}function x(I){if(E=!1,C(I),!v)if(n(c)!==null)v=!0,M||(M=!0,se());else{var V=n(f);V!==null&&F(x,V.startTime-I)}}var M=!1,A=-1,N=5,b=-1;function L(){return _?!0:!(t.unstable_now()-b<N)}function z(){if(_=!1,M){var I=t.unstable_now();b=I;var V=!0;try{e:{v=!1,E&&(E=!1,m(A),A=-1),g=!0;var k=p;try{t:{for(C(I),h=n(c);h!==null&&!(h.expirationTime>I&&L());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,p=h.priorityLevel;var te=Q(h.expirationTime<=I);if(I=t.unstable_now(),typeof te=="function"){h.callback=te,C(I),V=!0;break t}h===n(c)&&i(c),C(I)}else i(c);h=n(c)}if(h!==null)V=!0;else{var Le=n(f);Le!==null&&F(x,Le.startTime-I),V=!1}}break e}finally{h=null,p=k,g=!1}V=void 0}}finally{V?se():M=!1}}}var se;if(typeof T=="function")se=function(){T(z)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,ae=O.port2;O.port1.onmessage=z,se=function(){ae.postMessage(null)}}else se=function(){y(z,0)};function F(I,V){A=y(function(){I(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(I){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var k=p;p=V;try{return I()}finally{p=k}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(I,V){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var k=p;p=I;try{return V()}finally{p=k}},t.unstable_scheduleCallback=function(I,V,k){var Q=t.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?Q+k:Q):k=Q,I){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=k+te,I={id:d++,callback:V,priorityLevel:I,startTime:k,expirationTime:te,sortIndex:-1},k>Q?(I.sortIndex=k,e(f,I),n(c)===null&&I===n(f)&&(E?(m(A),A=-1):E=!0,F(x,k-Q))):(I.sortIndex=te,e(c,I),v||g||(v=!0,M||(M=!0,se()))),I},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(I){var V=p;return function(){var k=p;p=V;try{return I.apply(this,arguments)}finally{p=k}}}})(Xg);$g.exports=Xg;var NS=$g.exports,Qg={exports:{}},tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MS=w;function Zg(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function zn(){}var je={d:{f:zn,r:function(){throw Error(Zg(522))},D:zn,C:zn,L:zn,m:zn,X:zn,S:zn,M:zn},p:0,findDOMNode:null},IS=Symbol.for("react.portal");function DS(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:IS,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var Hl=MS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ar(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=je;tt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(Zg(299));return DS(t,e,null,n)};tt.flushSync=function(t){var e=Hl.T,n=je.p;try{if(Hl.T=null,je.p=2,t)return t()}finally{Hl.T=e,je.p=n,je.d.f()}};tt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,je.d.C(t,e))};tt.prefetchDNS=function(t){typeof t=="string"&&je.d.D(t)};tt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=ar(n,e.crossOrigin),o=typeof e.integrity=="string"?e.integrity:void 0,l=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?je.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:o,fetchPriority:l}):n==="script"&&je.d.X(t,{crossOrigin:i,integrity:o,fetchPriority:l,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};tt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=ar(e.as,e.crossOrigin);je.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&je.d.M(t)};tt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=ar(n,e.crossOrigin);je.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};tt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=ar(e.as,e.crossOrigin);je.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else je.d.m(t)};tt.requestFormReset=function(t){je.d.r(t)};tt.unstable_batchedUpdates=function(t,e){return t(e)};tt.useFormState=function(t,e,n){return Hl.H.useFormState(t,e,n)};tt.useFormStatus=function(){return Hl.H.useHostTransitionStatus()};tt.version="19.2.3";function Wg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wg)}catch(t){console.error(t)}}Wg(),Qg.exports=tt;var LS=Qg.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ke=NS,jg=w,US=LS;function R(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function em(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nm(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fd(t){if(hs(t)!==t)throw Error(R(188))}function kS(t){var e=t.alternate;if(!e){if(e=hs(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,i=e;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return fd(o),t;if(l===i)return fd(o),e;l=l.sibling}throw Error(R(188))}if(n.return!==i.return)n=o,i=l;else{for(var s=!1,r=o.child;r;){if(r===n){s=!0,n=o,i=l;break}if(r===i){s=!0,i=o,n=l;break}r=r.sibling}if(!s){for(r=l.child;r;){if(r===n){s=!0,n=l,i=o;break}if(r===i){s=!0,i=l,n=o;break}r=r.sibling}if(!s)throw Error(R(189))}}if(n.alternate!==i)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function im(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=im(t),e!==null)return e;t=t.sibling}return null}var Te=Object.assign,OS=Symbol.for("react.element"),Ls=Symbol.for("react.transitional.element"),Dl=Symbol.for("react.portal"),So=Symbol.for("react.fragment"),om=Symbol.for("react.strict_mode"),wu=Symbol.for("react.profiler"),lm=Symbol.for("react.consumer"),vn=Symbol.for("react.context"),Xc=Symbol.for("react.forward_ref"),bu=Symbol.for("react.suspense"),Ru=Symbol.for("react.suspense_list"),Qc=Symbol.for("react.memo"),Bn=Symbol.for("react.lazy"),Nu=Symbol.for("react.activity"),PS=Symbol.for("react.memo_cache_sentinel"),dd=Symbol.iterator;function Cl(t){return t===null||typeof t!="object"?null:(t=dd&&t[dd]||t["@@iterator"],typeof t=="function"?t:null)}var HS=Symbol.for("react.client.reference");function Mu(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===HS?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case So:return"Fragment";case wu:return"Profiler";case om:return"StrictMode";case bu:return"Suspense";case Ru:return"SuspenseList";case Nu:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Dl:return"Portal";case vn:return t.displayName||"Context";case lm:return(t._context.displayName||"Context")+".Consumer";case Xc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qc:return e=t.displayName||null,e!==null?e:Mu(t.type)||"Memo";case Bn:e=t._payload,t=t._init;try{return Mu(t(e))}catch{}}return null}var Ll=Array.isArray,q=jg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=US.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Li={pending:!1,data:null,method:null,action:null},Iu=[],To=-1;function on(t){return{current:t}}function He(t){0>To||(t.current=Iu[To],Iu[To]=null,To--)}function me(t,e){To++,Iu[To]=t.current,t.current=e}var nn=on(null),jl=on(null),jn=on(null),va=on(null);function Sa(t,e){switch(me(jn,e),me(jl,t),me(nn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?vp(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=vp(e),t=x0(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}He(nn),me(nn,t)}function Bo(){He(nn),He(jl),He(jn)}function Du(t){t.memoizedState!==null&&me(va,t);var e=nn.current,n=x0(e,t.type);e!==n&&(me(jl,t),me(nn,n))}function Ta(t){jl.current===t&&(He(nn),He(jl)),va.current===t&&(He(va),cs._currentValue=Li)}var Or,pd;function Ri(t){if(Or===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Or=e&&e[1]||"",pd=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Or+t+pd}var Pr=!1;function Hr(t,e){if(!t||Pr)return"";Pr=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(g){var p=g}Reflect.construct(t,[],h)}else{try{h.call()}catch(g){p=g}t.call(h.prototype)}}else{try{throw Error()}catch(g){p=g}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(g){if(g&&p&&typeof g.stack=="string")return[g.stack,p.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=i.DetermineComponentFrameRoot(),s=l[0],r=l[1];if(s&&r){var c=s.split(`
`),f=r.split(`
`);for(o=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;o<f.length&&!f[o].includes("DetermineComponentFrameRoot");)o++;if(i===c.length||o===f.length)for(i=c.length-1,o=f.length-1;1<=i&&0<=o&&c[i]!==f[o];)o--;for(;1<=i&&0<=o;i--,o--)if(c[i]!==f[o]){if(i!==1||o!==1)do if(i--,o--,0>o||c[i]!==f[o]){var d=`
`+c[i].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=i&&0<=o);break}}}finally{Pr=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ri(n):""}function GS(t,e){switch(t.tag){case 26:case 27:case 5:return Ri(t.type);case 16:return Ri("Lazy");case 13:return t.child!==e&&e!==null?Ri("Suspense Fallback"):Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return Hr(t.type,!1);case 11:return Hr(t.type.render,!1);case 1:return Hr(t.type,!0);case 31:return Ri("Activity");default:return""}}function hd(t){try{var e="",n=null;do e+=GS(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Lu=Object.prototype.hasOwnProperty,Zc=ke.unstable_scheduleCallback,Gr=ke.unstable_cancelCallback,VS=ke.unstable_shouldYield,zS=ke.unstable_requestPaint,gt=ke.unstable_now,BS=ke.unstable_getCurrentPriorityLevel,sm=ke.unstable_ImmediatePriority,am=ke.unstable_UserBlockingPriority,Ea=ke.unstable_NormalPriority,qS=ke.unstable_LowPriority,rm=ke.unstable_IdlePriority,FS=ke.log,JS=ke.unstable_setDisableYieldValue,gs=null,mt=null;function $n(t){if(typeof FS=="function"&&JS(t),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode(gs,t)}catch{}}var yt=Math.clz32?Math.clz32:$S,YS=Math.log,KS=Math.LN2;function $S(t){return t>>>=0,t===0?32:31-(YS(t)/KS|0)|0}var Us=256,ks=262144,Os=4194304;function Ni(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function rr(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var o=0,l=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var r=i&134217727;return r!==0?(i=r&~l,i!==0?o=Ni(i):(s&=r,s!==0?o=Ni(s):n||(n=r&~t,n!==0&&(o=Ni(n))))):(r=i&~l,r!==0?o=Ni(r):s!==0?o=Ni(s):n||(n=i&~t,n!==0&&(o=Ni(n)))),o===0?0:e!==0&&e!==o&&!(e&l)&&(l=o&-o,n=e&-e,l>=n||l===32&&(n&4194048)!==0)?e:o}function ms(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function XS(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function um(){var t=Os;return Os<<=1,!(Os&62914560)&&(Os=4194304),t}function Vr(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ys(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function QS(t,e,n,i,o,l){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var r=t.entanglements,c=t.expirationTimes,f=t.hiddenUpdates;for(n=s&~n;0<n;){var d=31-yt(n),h=1<<d;r[d]=0,c[d]=-1;var p=f[d];if(p!==null)for(f[d]=null,d=0;d<p.length;d++){var g=p[d];g!==null&&(g.lane&=-536870913)}n&=~h}i!==0&&cm(t,i,0),l!==0&&o===0&&t.tag!==0&&(t.suspendedLanes|=l&~(s&~e))}function cm(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-yt(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function fm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-yt(n),o=1<<i;o&e|t[i]&e&&(t[i]|=e),n&=~o}}function dm(t,e){var n=e&-e;return n=n&42?1:Wc(n),n&(t.suspendedLanes|e)?0:n}function Wc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function jc(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function pm(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:O0(t.type))}function gd(t,e){var n=ce.p;try{return ce.p=t,e()}finally{ce.p=n}}var di=Math.random().toString(36).slice(2),Be="__reactFiber$"+di,rt="__reactProps$"+di,el="__reactContainer$"+di,Uu="__reactEvents$"+di,ZS="__reactListeners$"+di,WS="__reactHandles$"+di,md="__reactResources$"+di,vs="__reactMarker$"+di;function ef(t){delete t[Be],delete t[rt],delete t[Uu],delete t[ZS],delete t[WS]}function Eo(t){var e=t[Be];if(e)return e;for(var n=t.parentNode;n;){if(e=n[el]||n[Be]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_p(t);t!==null;){if(n=t[Be])return n;t=_p(t)}return e}t=n,n=t.parentNode}return null}function tl(t){if(t=t[Be]||t[el]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Ul(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(R(33))}function Lo(t){var e=t[md];return e||(e=t[md]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Pe(t){t[vs]=!0}var hm=new Set,gm={};function Ji(t,e){qo(t,e),qo(t+"Capture",e)}function qo(t,e){for(gm[t]=e,t=0;t<e.length;t++)hm.add(e[t])}var jS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yd={},vd={};function eT(t){return Lu.call(vd,t)?!0:Lu.call(yd,t)?!1:jS.test(t)?vd[t]=!0:(yd[t]=!0,!1)}function ta(t,e,n){if(eT(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Ps(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function fn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function At(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tT(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,l=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){n=""+s,l.call(this,s)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ku(t){if(!t._valueTracker){var e=mm(t)?"checked":"value";t._valueTracker=tT(t,e,""+t[e])}}function ym(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=mm(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Ca(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var nT=/[\n"\\]/g;function bt(t){return t.replace(nT,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Ou(t,e,n,i,o,l,s,r){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+At(e)):t.value!==""+At(e)&&(t.value=""+At(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?Pu(t,s,At(e)):n!=null?Pu(t,s,At(n)):i!=null&&t.removeAttribute("value"),o==null&&l!=null&&(t.defaultChecked=!!l),o!=null&&(t.checked=o&&typeof o!="function"&&typeof o!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.name=""+At(r):t.removeAttribute("name")}function vm(t,e,n,i,o,l,s,r){if(l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(t.type=l),e!=null||n!=null){if(!(l!=="submit"&&l!=="reset"||e!=null)){ku(t);return}n=n!=null?""+At(n):"",e=e!=null?""+At(e):n,r||e===t.value||(t.value=e),t.defaultValue=e}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=r?t.checked:!!i,t.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s),ku(t)}function Pu(t,e,n){e==="number"&&Ca(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Uo(t,e,n,i){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&i&&(t[n].defaultSelected=!0)}else{for(n=""+At(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,i&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Sm(t,e,n){if(e!=null&&(e=""+At(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+At(n):""}function Tm(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(R(92));if(Ll(i)){if(1<i.length)throw Error(R(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=At(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),ku(t)}function Fo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var iT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sd(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||iT.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Em(t,e,n){if(e!=null&&typeof e!="object")throw Error(R(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var o in e)i=e[o],e.hasOwnProperty(o)&&n[o]!==i&&Sd(t,o,i)}else for(var l in e)e.hasOwnProperty(l)&&Sd(t,l,e[l])}function tf(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(t){return lT.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Sn(){}var Hu=null;function nf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Co=null,ko=null;function Td(t){var e=tl(t);if(e&&(t=e.stateNode)){var n=t[rt]||null;e:switch(t=e.stateNode,e.type){case"input":if(Ou(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+bt(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var o=i[rt]||null;if(!o)throw Error(R(90));Ou(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&ym(i)}break e;case"textarea":Sm(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Uo(t,!!n.multiple,e,!1)}}}var zr=!1;function Cm(t,e,n){if(zr)return t(e,n);zr=!0;try{var i=t(e);return i}finally{if(zr=!1,(Co!==null||ko!==null)&&(Tr(),Co&&(e=Co,t=ko,ko=Co=null,Td(e),t)))for(e=0;e<t.length;e++)Td(t[e])}}function es(t,e){var n=t.stateNode;if(n===null)return null;var i=n[rt]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gu=!1;if(An)try{var _l={};Object.defineProperty(_l,"passive",{get:function(){Gu=!0}}),window.addEventListener("test",_l,_l),window.removeEventListener("test",_l,_l)}catch{Gu=!1}var Xn=null,of=null,ia=null;function _m(){if(ia)return ia;var t,e=of,n=e.length,i,o="value"in Xn?Xn.value:Xn.textContent,l=o.length;for(t=0;t<n&&e[t]===o[t];t++);var s=n-t;for(i=1;i<=s&&e[n-i]===o[l-i];i++);return ia=o.slice(t,1<i?1-i:void 0)}function oa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hs(){return!0}function Ed(){return!1}function ut(t){function e(n,i,o,l,s){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=l,this.target=s,this.currentTarget=null;for(var r in t)t.hasOwnProperty(r)&&(n=t[r],this[r]=n?n(l):l[r]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Hs:Ed,this.isPropagationStopped=Ed,this}return Te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hs)},persist:function(){},isPersistent:Hs}),e}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ur=ut(Yi),Ss=Te({},Yi,{view:0,detail:0}),sT=ut(Ss),Br,qr,Al,cr=Te({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Al&&(Al&&t.type==="mousemove"?(Br=t.screenX-Al.screenX,qr=t.screenY-Al.screenY):qr=Br=0,Al=t),Br)},movementY:function(t){return"movementY"in t?t.movementY:qr}}),Cd=ut(cr),aT=Te({},cr,{dataTransfer:0}),rT=ut(aT),uT=Te({},Ss,{relatedTarget:0}),Fr=ut(uT),cT=Te({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),fT=ut(cT),dT=Te({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pT=ut(dT),hT=Te({},Yi,{data:0}),_d=ut(hT),gT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yT[t])?!!e[t]:!1}function lf(){return vT}var ST=Te({},Ss,{key:function(t){if(t.key){var e=gT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=oa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lf,charCode:function(t){return t.type==="keypress"?oa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),TT=ut(ST),ET=Te({},cr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ad=ut(ET),CT=Te({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lf}),_T=ut(CT),AT=Te({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),xT=ut(AT),wT=Te({},cr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bT=ut(wT),RT=Te({},Yi,{newState:0,oldState:0}),NT=ut(RT),MT=[9,13,27,32],sf=An&&"CompositionEvent"in window,Gl=null;An&&"documentMode"in document&&(Gl=document.documentMode);var IT=An&&"TextEvent"in window&&!Gl,Am=An&&(!sf||Gl&&8<Gl&&11>=Gl),xd=" ",wd=!1;function xm(t,e){switch(t){case"keyup":return MT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _o=!1;function DT(t,e){switch(t){case"compositionend":return wm(e);case"keypress":return e.which!==32?null:(wd=!0,xd);case"textInput":return t=e.data,t===xd&&wd?null:t;default:return null}}function LT(t,e){if(_o)return t==="compositionend"||!sf&&xm(t,e)?(t=_m(),ia=of=Xn=null,_o=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Am&&e.locale!=="ko"?null:e.data;default:return null}}var UT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!UT[t.type]:e==="textarea"}function bm(t,e,n,i){Co?ko?ko.push(i):ko=[i]:Co=i,e=Va(e,"onChange"),0<e.length&&(n=new ur("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Vl=null,ts=null;function kT(t){C0(t,0)}function fr(t){var e=Ul(t);if(ym(e))return t}function Rd(t,e){if(t==="change")return e}var Rm=!1;if(An){var Jr;if(An){var Yr="oninput"in document;if(!Yr){var Nd=document.createElement("div");Nd.setAttribute("oninput","return;"),Yr=typeof Nd.oninput=="function"}Jr=Yr}else Jr=!1;Rm=Jr&&(!document.documentMode||9<document.documentMode)}function Md(){Vl&&(Vl.detachEvent("onpropertychange",Nm),ts=Vl=null)}function Nm(t){if(t.propertyName==="value"&&fr(ts)){var e=[];bm(e,ts,t,nf(t)),Cm(kT,e)}}function OT(t,e,n){t==="focusin"?(Md(),Vl=e,ts=n,Vl.attachEvent("onpropertychange",Nm)):t==="focusout"&&Md()}function PT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fr(ts)}function HT(t,e){if(t==="click")return fr(e)}function GT(t,e){if(t==="input"||t==="change")return fr(e)}function VT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var St=typeof Object.is=="function"?Object.is:VT;function ns(t,e){if(St(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!Lu.call(e,o)||!St(t[o],e[o]))return!1}return!0}function Id(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dd(t,e){var n=Id(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Id(n)}}function Mm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Mm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Im(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Ca(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ca(t.document)}return e}function af(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var zT=An&&"documentMode"in document&&11>=document.documentMode,Ao=null,Vu=null,zl=null,zu=!1;function Ld(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zu||Ao==null||Ao!==Ca(i)||(i=Ao,"selectionStart"in i&&af(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),zl&&ns(zl,i)||(zl=i,i=Va(Vu,"onSelect"),0<i.length&&(e=new ur("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ao)))}function bi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xo={animationend:bi("Animation","AnimationEnd"),animationiteration:bi("Animation","AnimationIteration"),animationstart:bi("Animation","AnimationStart"),transitionrun:bi("Transition","TransitionRun"),transitionstart:bi("Transition","TransitionStart"),transitioncancel:bi("Transition","TransitionCancel"),transitionend:bi("Transition","TransitionEnd")},Kr={},Dm={};An&&(Dm=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function Ki(t){if(Kr[t])return Kr[t];if(!xo[t])return t;var e=xo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Dm)return Kr[t]=e[n];return t}var Lm=Ki("animationend"),Um=Ki("animationiteration"),km=Ki("animationstart"),BT=Ki("transitionrun"),qT=Ki("transitionstart"),FT=Ki("transitioncancel"),Om=Ki("transitionend"),Pm=new Map,Bu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bu.push("scrollEnd");function qt(t,e){Pm.set(t,e),Ji(e,[t])}var _a=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},_t=[],wo=0,rf=0;function dr(){for(var t=wo,e=rf=wo=0;e<t;){var n=_t[e];_t[e++]=null;var i=_t[e];_t[e++]=null;var o=_t[e];_t[e++]=null;var l=_t[e];if(_t[e++]=null,i!==null&&o!==null){var s=i.pending;s===null?o.next=o:(o.next=s.next,s.next=o),i.pending=o}l!==0&&Hm(n,o,l)}}function pr(t,e,n,i){_t[wo++]=t,_t[wo++]=e,_t[wo++]=n,_t[wo++]=i,rf|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function uf(t,e,n,i){return pr(t,e,n,i),Aa(t)}function $i(t,e){return pr(t,null,null,e),Aa(t)}function Hm(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var o=!1,l=t.return;l!==null;)l.childLanes|=n,i=l.alternate,i!==null&&(i.childLanes|=n),l.tag===22&&(t=l.stateNode,t===null||t._visibility&1||(o=!0)),t=l,l=l.return;return t.tag===3?(l=t.stateNode,o&&e!==null&&(o=31-yt(n),t=l.hiddenUpdates,i=t[o],i===null?t[o]=[e]:i.push(e),e.lane=n|536870912),l):null}function Aa(t){if(50<Ql)throw Ql=0,uc=null,Error(R(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var bo={};function JT(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(t,e,n,i){return new JT(t,e,n,i)}function cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function En(t,e){var n=t.alternate;return n===null?(n=pt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Gm(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function la(t,e,n,i,o,l){var s=0;if(i=t,typeof t=="function")cf(t)&&(s=1);else if(typeof t=="string")s=QE(t,n,nn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Nu:return t=pt(31,n,e,o),t.elementType=Nu,t.lanes=l,t;case So:return Ui(n.children,o,l,e);case om:s=8,o|=24;break;case wu:return t=pt(12,n,e,o|2),t.elementType=wu,t.lanes=l,t;case bu:return t=pt(13,n,e,o),t.elementType=bu,t.lanes=l,t;case Ru:return t=pt(19,n,e,o),t.elementType=Ru,t.lanes=l,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vn:s=10;break e;case lm:s=9;break e;case Xc:s=11;break e;case Qc:s=14;break e;case Bn:s=16,i=null;break e}s=29,n=Error(R(130,t===null?"null":typeof t,"")),i=null}return e=pt(s,n,e,o),e.elementType=t,e.type=i,e.lanes=l,e}function Ui(t,e,n,i){return t=pt(7,t,i,e),t.lanes=n,t}function $r(t,e,n){return t=pt(6,t,null,e),t.lanes=n,t}function Vm(t){var e=pt(18,null,null,0);return e.stateNode=t,e}function Xr(t,e,n){return e=pt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Ud=new WeakMap;function Rt(t,e){if(typeof t=="object"&&t!==null){var n=Ud.get(t);return n!==void 0?n:(e={value:t,source:e,stack:hd(e)},Ud.set(t,e),e)}return{value:t,source:e,stack:hd(e)}}var Ro=[],No=0,xa=null,is=0,xt=[],wt=0,ri=null,Wt=1,jt="";function mn(t,e){Ro[No++]=is,Ro[No++]=xa,xa=t,is=e}function zm(t,e,n){xt[wt++]=Wt,xt[wt++]=jt,xt[wt++]=ri,ri=t;var i=Wt;t=jt;var o=32-yt(i)-1;i&=~(1<<o),n+=1;var l=32-yt(e)+o;if(30<l){var s=o-o%5;l=(i&(1<<s)-1).toString(32),i>>=s,o-=s,Wt=1<<32-yt(e)+o|n<<o|i,jt=l+t}else Wt=1<<l|n<<o|i,jt=t}function ff(t){t.return!==null&&(mn(t,1),zm(t,1,0))}function df(t){for(;t===xa;)xa=Ro[--No],Ro[No]=null,is=Ro[--No],Ro[No]=null;for(;t===ri;)ri=xt[--wt],xt[wt]=null,jt=xt[--wt],xt[wt]=null,Wt=xt[--wt],xt[wt]=null}function Bm(t,e){xt[wt++]=Wt,xt[wt++]=jt,xt[wt++]=ri,Wt=e.id,jt=e.overflow,ri=t}var qe=null,ve=null,ne=!1,ei=null,Nt=!1,qu=Error(R(519));function ui(t){var e=Error(R(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw os(Rt(e,t)),qu}function kd(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Be]=t,e[rt]=i,n){case"dialog":W("cancel",e),W("close",e);break;case"iframe":case"object":case"embed":W("load",e);break;case"video":case"audio":for(n=0;n<rs.length;n++)W(rs[n],e);break;case"source":W("error",e);break;case"img":case"image":case"link":W("error",e),W("load",e);break;case"details":W("toggle",e);break;case"input":W("invalid",e),vm(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":W("invalid",e);break;case"textarea":W("invalid",e),Tm(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||A0(e.textContent,n)?(i.popover!=null&&(W("beforetoggle",e),W("toggle",e)),i.onScroll!=null&&W("scroll",e),i.onScrollEnd!=null&&W("scrollend",e),i.onClick!=null&&(e.onclick=Sn),e=!0):e=!1,e||ui(t,!0)}function Od(t){for(qe=t.return;qe;)switch(qe.tag){case 5:case 31:case 13:Nt=!1;return;case 27:case 3:Nt=!0;return;default:qe=qe.return}}function ao(t){if(t!==qe)return!1;if(!ne)return Od(t),ne=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||hc(t.type,t.memoizedProps)),n=!n),n&&ve&&ui(t),Od(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));ve=Cp(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));ve=Cp(t)}else e===27?(e=ve,pi(t.type)?(t=vc,vc=null,ve=t):ve=e):ve=qe?It(t.stateNode.nextSibling):null;return!0}function Vi(){ve=qe=null,ne=!1}function Qr(){var t=ei;return t!==null&&(st===null?st=t:st.push.apply(st,t),ei=null),t}function os(t){ei===null?ei=[t]:ei.push(t)}var Fu=on(null),Xi=null,Tn=null;function Fn(t,e,n){me(Fu,e._currentValue),e._currentValue=n}function Cn(t){t._currentValue=Fu.current,He(Fu)}function Ju(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Yu(t,e,n,i){var o=t.child;for(o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){var s=o.child;l=l.firstContext;e:for(;l!==null;){var r=l;l=o;for(var c=0;c<e.length;c++)if(r.context===e[c]){l.lanes|=n,r=l.alternate,r!==null&&(r.lanes|=n),Ju(l.return,n,t),i||(s=null);break e}l=r.next}}else if(o.tag===18){if(s=o.return,s===null)throw Error(R(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ju(s,n,t),s=null}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}}function nl(t,e,n,i){t=null;for(var o=e,l=!1;o!==null;){if(!l){if(o.flags&524288)l=!0;else if(o.flags&262144)break}if(o.tag===10){var s=o.alternate;if(s===null)throw Error(R(387));if(s=s.memoizedProps,s!==null){var r=o.type;St(o.pendingProps.value,s.value)||(t!==null?t.push(r):t=[r])}}else if(o===va.current){if(s=o.alternate,s===null)throw Error(R(387));s.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(t!==null?t.push(cs):t=[cs])}o=o.return}t!==null&&Yu(e,t,n,i),e.flags|=262144}function wa(t){for(t=t.firstContext;t!==null;){if(!St(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zi(t){Xi=t,Tn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Fe(t){return qm(Xi,t)}function Gs(t,e){return Xi===null&&zi(t),qm(t,e)}function qm(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Tn===null){if(t===null)throw Error(R(308));Tn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Tn=Tn.next=e;return n}var YT=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},KT=ke.unstable_scheduleCallback,$T=ke.unstable_NormalPriority,Ie={$$typeof:vn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new YT,data:new Map,refCount:0}}function Ts(t){t.refCount--,t.refCount===0&&KT($T,function(){t.controller.abort()})}var Bl=null,Ku=0,Jo=0,Oo=null;function XT(t,e){if(Bl===null){var n=Bl=[];Ku=0,Jo=Hf(),Oo={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Ku++,e.then(Pd,Pd),e}function Pd(){if(--Ku===0&&Bl!==null){Oo!==null&&(Oo.status="fulfilled");var t=Bl;Bl=null,Jo=0,Oo=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function QT(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var o=0;o<n.length;o++)(0,n[o])(e)},function(o){for(i.status="rejected",i.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),i}var Hd=q.S;q.S=function(t,e){i0=gt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&XT(t,e),Hd!==null&&Hd(t,e)};var ki=on(null);function hf(){var t=ki.current;return t!==null?t:ge.pooledCache}function sa(t,e){e===null?me(ki,ki.current):me(ki,e.pool)}function Fm(){var t=hf();return t===null?null:{parent:Ie._currentValue,pool:t}}var il=Error(R(460)),gf=Error(R(474)),hr=Error(R(542)),ba={then:function(){}};function Gd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Jm(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Sn,Sn),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,zd(t),t;default:if(typeof e.status=="string")e.then(Sn,Sn);else{if(t=ge,t!==null&&100<t.shellSuspendCounter)throw Error(R(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var o=e;o.status="fulfilled",o.value=i}},function(i){if(e.status==="pending"){var o=e;o.status="rejected",o.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,zd(t),t}throw Oi=e,il}}function Mi(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Oi=n,il):n}}var Oi=null;function Vd(){if(Oi===null)throw Error(R(459));var t=Oi;return Oi=null,t}function zd(t){if(t===il||t===hr)throw Error(R(483))}var Po=null,ls=0;function Vs(t){var e=ls;return ls+=1,Po===null&&(Po=[]),Jm(Po,t,e)}function xl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function zs(t,e){throw e.$$typeof===OS?Error(R(525)):(t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Ym(t){function e(y,m){if(t){var T=y.deletions;T===null?(y.deletions=[m],y.flags|=16):T.push(m)}}function n(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function i(y){for(var m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function o(y,m){return y=En(y,m),y.index=0,y.sibling=null,y}function l(y,m,T){return y.index=T,t?(T=y.alternate,T!==null?(T=T.index,T<m?(y.flags|=67108866,m):T):(y.flags|=67108866,m)):(y.flags|=1048576,m)}function s(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function r(y,m,T,C){return m===null||m.tag!==6?(m=$r(T,y.mode,C),m.return=y,m):(m=o(m,T),m.return=y,m)}function c(y,m,T,C){var x=T.type;return x===So?d(y,m,T.props.children,C,T.key):m!==null&&(m.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Bn&&Mi(x)===m.type)?(m=o(m,T.props),xl(m,T),m.return=y,m):(m=la(T.type,T.key,T.props,null,y.mode,C),xl(m,T),m.return=y,m)}function f(y,m,T,C){return m===null||m.tag!==4||m.stateNode.containerInfo!==T.containerInfo||m.stateNode.implementation!==T.implementation?(m=Xr(T,y.mode,C),m.return=y,m):(m=o(m,T.children||[]),m.return=y,m)}function d(y,m,T,C,x){return m===null||m.tag!==7?(m=Ui(T,y.mode,C,x),m.return=y,m):(m=o(m,T),m.return=y,m)}function h(y,m,T){if(typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint")return m=$r(""+m,y.mode,T),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ls:return T=la(m.type,m.key,m.props,null,y.mode,T),xl(T,m),T.return=y,T;case Dl:return m=Xr(m,y.mode,T),m.return=y,m;case Bn:return m=Mi(m),h(y,m,T)}if(Ll(m)||Cl(m))return m=Ui(m,y.mode,T,null),m.return=y,m;if(typeof m.then=="function")return h(y,Vs(m),T);if(m.$$typeof===vn)return h(y,Gs(y,m),T);zs(y,m)}return null}function p(y,m,T,C){var x=m!==null?m.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return x!==null?null:r(y,m,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ls:return T.key===x?c(y,m,T,C):null;case Dl:return T.key===x?f(y,m,T,C):null;case Bn:return T=Mi(T),p(y,m,T,C)}if(Ll(T)||Cl(T))return x!==null?null:d(y,m,T,C,null);if(typeof T.then=="function")return p(y,m,Vs(T),C);if(T.$$typeof===vn)return p(y,m,Gs(y,T),C);zs(y,T)}return null}function g(y,m,T,C,x){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return y=y.get(T)||null,r(m,y,""+C,x);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ls:return y=y.get(C.key===null?T:C.key)||null,c(m,y,C,x);case Dl:return y=y.get(C.key===null?T:C.key)||null,f(m,y,C,x);case Bn:return C=Mi(C),g(y,m,T,C,x)}if(Ll(C)||Cl(C))return y=y.get(T)||null,d(m,y,C,x,null);if(typeof C.then=="function")return g(y,m,T,Vs(C),x);if(C.$$typeof===vn)return g(y,m,T,Gs(m,C),x);zs(m,C)}return null}function v(y,m,T,C){for(var x=null,M=null,A=m,N=m=0,b=null;A!==null&&N<T.length;N++){A.index>N?(b=A,A=null):b=A.sibling;var L=p(y,A,T[N],C);if(L===null){A===null&&(A=b);break}t&&A&&L.alternate===null&&e(y,A),m=l(L,m,N),M===null?x=L:M.sibling=L,M=L,A=b}if(N===T.length)return n(y,A),ne&&mn(y,N),x;if(A===null){for(;N<T.length;N++)A=h(y,T[N],C),A!==null&&(m=l(A,m,N),M===null?x=A:M.sibling=A,M=A);return ne&&mn(y,N),x}for(A=i(A);N<T.length;N++)b=g(A,y,N,T[N],C),b!==null&&(t&&b.alternate!==null&&A.delete(b.key===null?N:b.key),m=l(b,m,N),M===null?x=b:M.sibling=b,M=b);return t&&A.forEach(function(z){return e(y,z)}),ne&&mn(y,N),x}function E(y,m,T,C){if(T==null)throw Error(R(151));for(var x=null,M=null,A=m,N=m=0,b=null,L=T.next();A!==null&&!L.done;N++,L=T.next()){A.index>N?(b=A,A=null):b=A.sibling;var z=p(y,A,L.value,C);if(z===null){A===null&&(A=b);break}t&&A&&z.alternate===null&&e(y,A),m=l(z,m,N),M===null?x=z:M.sibling=z,M=z,A=b}if(L.done)return n(y,A),ne&&mn(y,N),x;if(A===null){for(;!L.done;N++,L=T.next())L=h(y,L.value,C),L!==null&&(m=l(L,m,N),M===null?x=L:M.sibling=L,M=L);return ne&&mn(y,N),x}for(A=i(A);!L.done;N++,L=T.next())L=g(A,y,N,L.value,C),L!==null&&(t&&L.alternate!==null&&A.delete(L.key===null?N:L.key),m=l(L,m,N),M===null?x=L:M.sibling=L,M=L);return t&&A.forEach(function(se){return e(y,se)}),ne&&mn(y,N),x}function _(y,m,T,C){if(typeof T=="object"&&T!==null&&T.type===So&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Ls:e:{for(var x=T.key;m!==null;){if(m.key===x){if(x=T.type,x===So){if(m.tag===7){n(y,m.sibling),C=o(m,T.props.children),C.return=y,y=C;break e}}else if(m.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Bn&&Mi(x)===m.type){n(y,m.sibling),C=o(m,T.props),xl(C,T),C.return=y,y=C;break e}n(y,m);break}else e(y,m);m=m.sibling}T.type===So?(C=Ui(T.props.children,y.mode,C,T.key),C.return=y,y=C):(C=la(T.type,T.key,T.props,null,y.mode,C),xl(C,T),C.return=y,y=C)}return s(y);case Dl:e:{for(x=T.key;m!==null;){if(m.key===x)if(m.tag===4&&m.stateNode.containerInfo===T.containerInfo&&m.stateNode.implementation===T.implementation){n(y,m.sibling),C=o(m,T.children||[]),C.return=y,y=C;break e}else{n(y,m);break}else e(y,m);m=m.sibling}C=Xr(T,y.mode,C),C.return=y,y=C}return s(y);case Bn:return T=Mi(T),_(y,m,T,C)}if(Ll(T))return v(y,m,T,C);if(Cl(T)){if(x=Cl(T),typeof x!="function")throw Error(R(150));return T=x.call(T),E(y,m,T,C)}if(typeof T.then=="function")return _(y,m,Vs(T),C);if(T.$$typeof===vn)return _(y,m,Gs(y,T),C);zs(y,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,m!==null&&m.tag===6?(n(y,m.sibling),C=o(m,T),C.return=y,y=C):(n(y,m),C=$r(T,y.mode,C),C.return=y,y=C),s(y)):n(y,m)}return function(y,m,T,C){try{ls=0;var x=_(y,m,T,C);return Po=null,x}catch(A){if(A===il||A===hr)throw A;var M=pt(29,A,null,y.mode);return M.lanes=C,M.return=y,M}finally{}}}var Bi=Ym(!0),Km=Ym(!1),qn=!1;function mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $u(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ti(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ni(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ue&2){var o=i.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),i.pending=e,e=Aa(t),Hm(t,null,n),e}return pr(t,i,e,n),Aa(t)}function ql(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,fm(t,n)}}function Zr(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};l===null?o=l=s:l=l.next=s,n=n.next}while(n!==null);l===null?o=l=e:l=l.next=e}else o=l=e;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Xu=!1;function Fl(){if(Xu){var t=Oo;if(t!==null)throw t}}function Jl(t,e,n,i){Xu=!1;var o=t.updateQueue;qn=!1;var l=o.firstBaseUpdate,s=o.lastBaseUpdate,r=o.shared.pending;if(r!==null){o.shared.pending=null;var c=r,f=c.next;c.next=null,s===null?l=f:s.next=f,s=c;var d=t.alternate;d!==null&&(d=d.updateQueue,r=d.lastBaseUpdate,r!==s&&(r===null?d.firstBaseUpdate=f:r.next=f,d.lastBaseUpdate=c))}if(l!==null){var h=o.baseState;s=0,d=f=c=null,r=l;do{var p=r.lane&-536870913,g=p!==r.lane;if(g?(ee&p)===p:(i&p)===p){p!==0&&p===Jo&&(Xu=!0),d!==null&&(d=d.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var v=t,E=r;p=e;var _=n;switch(E.tag){case 1:if(v=E.payload,typeof v=="function"){h=v.call(_,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=E.payload,p=typeof v=="function"?v.call(_,h,p):v,p==null)break e;h=Te({},h,p);break e;case 2:qn=!0}}p=r.callback,p!==null&&(t.flags|=64,g&&(t.flags|=8192),g=o.callbacks,g===null?o.callbacks=[p]:g.push(p))}else g={lane:p,tag:r.tag,payload:r.payload,callback:r.callback,next:null},d===null?(f=d=g,c=h):d=d.next=g,s|=p;if(r=r.next,r===null){if(r=o.shared.pending,r===null)break;g=r,r=g.next,g.next=null,o.lastBaseUpdate=g,o.shared.pending=null}}while(!0);d===null&&(c=h),o.baseState=c,o.firstBaseUpdate=f,o.lastBaseUpdate=d,l===null&&(o.shared.lanes=0),fi|=s,t.lanes=s,t.memoizedState=h}}function $m(t,e){if(typeof t!="function")throw Error(R(191,t));t.call(e)}function Xm(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)$m(n[t],e)}var Yo=on(null),Ra=on(0);function Bd(t,e){t=Rn,me(Ra,t),me(Yo,e),Rn=t|e.baseLanes}function Qu(){me(Ra,Rn),me(Yo,Yo.current)}function yf(){Rn=Ra.current,He(Yo),He(Ra)}var Tt=on(null),Mt=null;function Jn(t){var e=t.alternate;me(be,be.current&1),me(Tt,t),Mt===null&&(e===null||Yo.current!==null||e.memoizedState!==null)&&(Mt=t)}function Zu(t){me(be,be.current),me(Tt,t),Mt===null&&(Mt=t)}function Qm(t){t.tag===22?(me(be,be.current),me(Tt,t),Mt===null&&(Mt=t)):Yn()}function Yn(){me(be,be.current),me(Tt,Tt.current)}function dt(t){He(Tt),Mt===t&&(Mt=null),He(be)}var be=on(0);function Na(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||mc(n)||yc(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xn=0,X=null,he=null,Ne=null,Ma=!1,Ho=!1,qi=!1,Ia=0,ss=0,Go=null,ZT=0;function _e(){throw Error(R(321))}function vf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!St(t[n],e[n]))return!1;return!0}function Sf(t,e,n,i,o,l){return xn=l,X=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,q.H=t===null||t.memoizedState===null?by:Mf,qi=!1,l=n(i,o),qi=!1,Ho&&(l=Wm(e,n,i,o)),Zm(t),l}function Zm(t){q.H=as;var e=he!==null&&he.next!==null;if(xn=0,Ne=he=X=null,Ma=!1,ss=0,Go=null,e)throw Error(R(300));t===null||De||(t=t.dependencies,t!==null&&wa(t)&&(De=!0))}function Wm(t,e,n,i){X=t;var o=0;do{if(Ho&&(Go=null),ss=0,Ho=!1,25<=o)throw Error(R(301));if(o+=1,Ne=he=null,t.updateQueue!=null){var l=t.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}q.H=Ry,l=e(n,i)}while(Ho);return l}function WT(){var t=q.H,e=t.useState()[0];return e=typeof e.then=="function"?Es(e):e,t=t.useState()[0],(he!==null?he.memoizedState:null)!==t&&(X.flags|=1024),e}function Tf(){var t=Ia!==0;return Ia=0,t}function Ef(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Cf(t){if(Ma){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ma=!1}xn=0,Ne=he=X=null,Ho=!1,ss=Ia=0,Go=null}function Ze(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?X.memoizedState=Ne=t:Ne=Ne.next=t,Ne}function Re(){if(he===null){var t=X.alternate;t=t!==null?t.memoizedState:null}else t=he.next;var e=Ne===null?X.memoizedState:Ne.next;if(e!==null)Ne=e,he=t;else{if(t===null)throw X.alternate===null?Error(R(467)):Error(R(310));he=t,t={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},Ne===null?X.memoizedState=Ne=t:Ne=Ne.next=t}return Ne}function gr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Es(t){var e=ss;return ss+=1,Go===null&&(Go=[]),t=Jm(Go,t,e),e=X,(Ne===null?e.memoizedState:Ne.next)===null&&(e=e.alternate,q.H=e===null||e.memoizedState===null?by:Mf),t}function mr(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Es(t);if(t.$$typeof===vn)return Fe(t)}throw Error(R(438,String(t)))}function _f(t){var e=null,n=X.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=X.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(o){return o.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=gr(),X.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=PS;return e.index++,n}function wn(t,e){return typeof e=="function"?e(t):e}function aa(t){var e=Re();return Af(e,he,t)}function Af(t,e,n){var i=t.queue;if(i===null)throw Error(R(311));i.lastRenderedReducer=n;var o=t.baseQueue,l=i.pending;if(l!==null){if(o!==null){var s=o.next;o.next=l.next,l.next=s}e.baseQueue=o=l,i.pending=null}if(l=t.baseState,o===null)t.memoizedState=l;else{e=o.next;var r=s=null,c=null,f=e,d=!1;do{var h=f.lane&-536870913;if(h!==f.lane?(ee&h)===h:(xn&h)===h){var p=f.revertLane;if(p===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),h===Jo&&(d=!0);else if((xn&p)===p){f=f.next,p===Jo&&(d=!0);continue}else h={lane:0,revertLane:f.revertLane,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(r=c=h,s=l):c=c.next=h,X.lanes|=p,fi|=p;h=f.action,qi&&n(l,h),l=f.hasEagerState?f.eagerState:n(l,h)}else p={lane:h,revertLane:f.revertLane,gesture:f.gesture,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(r=c=p,s=l):c=c.next=p,X.lanes|=h,fi|=h;f=f.next}while(f!==null&&f!==e);if(c===null?s=l:c.next=r,!St(l,t.memoizedState)&&(De=!0,d&&(n=Oo,n!==null)))throw n;t.memoizedState=l,t.baseState=s,t.baseQueue=c,i.lastRenderedState=l}return o===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Wr(t){var e=Re(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var i=n.dispatch,o=n.pending,l=e.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do l=t(l,s.action),s=s.next;while(s!==o);St(l,e.memoizedState)||(De=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),n.lastRenderedState=l}return[l,i]}function jm(t,e,n){var i=X,o=Re(),l=ne;if(l){if(n===void 0)throw Error(R(407));n=n()}else n=e();var s=!St((he||o).memoizedState,n);if(s&&(o.memoizedState=n,De=!0),o=o.queue,xf(ny.bind(null,i,o,t),[t]),o.getSnapshot!==e||s||Ne!==null&&Ne.memoizedState.tag&1){if(i.flags|=2048,Ko(9,{destroy:void 0},ty.bind(null,i,o,n,e),null),ge===null)throw Error(R(349));l||xn&127||ey(i,e,n)}return n}function ey(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=X.updateQueue,e===null?(e=gr(),X.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ty(t,e,n,i){e.value=n,e.getSnapshot=i,iy(e)&&oy(t)}function ny(t,e,n){return n(function(){iy(e)&&oy(t)})}function iy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!St(t,n)}catch{return!0}}function oy(t){var e=$i(t,2);e!==null&&at(e,t,2)}function Wu(t){var e=Ze();if(typeof t=="function"){var n=t;if(t=n(),qi){$n(!0);try{n()}finally{$n(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:t},e}function ly(t,e,n,i){return t.baseState=n,Af(t,he,typeof i=="function"?i:wn)}function jT(t,e,n,i,o){if(vr(t))throw Error(R(485));if(t=e.action,t!==null){var l={payload:o,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){l.listeners.push(s)}};q.T!==null?n(!0):l.isTransition=!1,i(l),n=e.pending,n===null?(l.next=e.pending=l,sy(e,l)):(l.next=n.next,e.pending=n.next=l)}}function sy(t,e){var n=e.action,i=e.payload,o=t.state;if(e.isTransition){var l=q.T,s={};q.T=s;try{var r=n(o,i),c=q.S;c!==null&&c(s,r),qd(t,e,r)}catch(f){ju(t,e,f)}finally{l!==null&&s.types!==null&&(l.types=s.types),q.T=l}}else try{l=n(o,i),qd(t,e,l)}catch(f){ju(t,e,f)}}function qd(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Fd(t,e,i)},function(i){return ju(t,e,i)}):Fd(t,e,n)}function Fd(t,e,n){e.status="fulfilled",e.value=n,ay(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,sy(t,n)))}function ju(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,ay(e),e=e.next;while(e!==i)}t.action=null}function ay(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function ry(t,e){return e}function Jd(t,e){if(ne){var n=ge.formState;if(n!==null){e:{var i=X;if(ne){if(ve){t:{for(var o=ve,l=Nt;o.nodeType!==8;){if(!l){o=null;break t}if(o=It(o.nextSibling),o===null){o=null;break t}}l=o.data,o=l==="F!"||l==="F"?o:null}if(o){ve=It(o.nextSibling),i=o.data==="F!";break e}}ui(i)}i=!1}i&&(e=n[0])}}return n=Ze(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ry,lastRenderedState:e},n.queue=i,n=Ay.bind(null,X,i),i.dispatch=n,i=Wu(!1),l=Nf.bind(null,X,!1,i.queue),i=Ze(),o={state:e,dispatch:null,action:t,pending:null},i.queue=o,n=jT.bind(null,X,o,l,n),o.dispatch=n,i.memoizedState=t,[e,n,!1]}function Yd(t){var e=Re();return uy(e,he,t)}function uy(t,e,n){if(e=Af(t,e,ry)[0],t=aa(wn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Es(e)}catch(s){throw s===il?hr:s}else i=e;e=Re();var o=e.queue,l=o.dispatch;return n!==e.memoizedState&&(X.flags|=2048,Ko(9,{destroy:void 0},eE.bind(null,o,n),null)),[i,l,t]}function eE(t,e){t.action=e}function Kd(t){var e=Re(),n=he;if(n!==null)return uy(e,n,t);Re(),e=e.memoizedState,n=Re();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function Ko(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=X.updateQueue,e===null&&(e=gr(),X.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function cy(){return Re().memoizedState}function ra(t,e,n,i){var o=Ze();X.flags|=t,o.memoizedState=Ko(1|e,{destroy:void 0},n,i===void 0?null:i)}function yr(t,e,n,i){var o=Re();i=i===void 0?null:i;var l=o.memoizedState.inst;he!==null&&i!==null&&vf(i,he.memoizedState.deps)?o.memoizedState=Ko(e,l,n,i):(X.flags|=t,o.memoizedState=Ko(1|e,l,n,i))}function $d(t,e){ra(8390656,8,t,e)}function xf(t,e){yr(2048,8,t,e)}function tE(t){X.flags|=4;var e=X.updateQueue;if(e===null)e=gr(),X.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function fy(t){var e=Re().memoizedState;return tE({ref:e,nextImpl:t}),function(){if(ue&2)throw Error(R(440));return e.impl.apply(void 0,arguments)}}function dy(t,e){return yr(4,2,t,e)}function py(t,e){return yr(4,4,t,e)}function hy(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gy(t,e,n){n=n!=null?n.concat([t]):null,yr(4,4,hy.bind(null,e,t),n)}function wf(){}function my(t,e){var n=Re();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&vf(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function yy(t,e){var n=Re();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&vf(e,i[1]))return i[0];if(i=t(),qi){$n(!0);try{t()}finally{$n(!1)}}return n.memoizedState=[i,e],i}function bf(t,e,n){return n===void 0||xn&1073741824&&!(ee&261930)?t.memoizedState=e:(t.memoizedState=n,t=l0(),X.lanes|=t,fi|=t,n)}function vy(t,e,n,i){return St(n,e)?n:Yo.current!==null?(t=bf(t,n,i),St(t,e)||(De=!0),t):!(xn&42)||xn&1073741824&&!(ee&261930)?(De=!0,t.memoizedState=n):(t=l0(),X.lanes|=t,fi|=t,e)}function Sy(t,e,n,i,o){var l=ce.p;ce.p=l!==0&&8>l?l:8;var s=q.T,r={};q.T=r,Nf(t,!1,e,n);try{var c=o(),f=q.S;if(f!==null&&f(r,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=QT(c,i);Yl(t,e,d,vt(t))}else Yl(t,e,i,vt(t))}catch(h){Yl(t,e,{then:function(){},status:"rejected",reason:h},vt())}finally{ce.p=l,s!==null&&r.types!==null&&(s.types=r.types),q.T=s}}function nE(){}function ec(t,e,n,i){if(t.tag!==5)throw Error(R(476));var o=Ty(t).queue;Sy(t,o,e,Li,n===null?nE:function(){return Ey(t),n(i)})}function Ty(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Li,baseState:Li,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:Li},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Ey(t){var e=Ty(t);e.next===null&&(e=t.alternate.memoizedState),Yl(t,e.next.queue,{},vt())}function Rf(){return Fe(cs)}function Cy(){return Re().memoizedState}function _y(){return Re().memoizedState}function iE(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=vt();t=ti(n);var i=ni(e,t,n);i!==null&&(at(i,e,n),ql(i,e,n)),e={cache:pf()},t.payload=e;return}e=e.return}}function oE(t,e,n){var i=vt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},vr(t)?xy(e,n):(n=uf(t,e,n,i),n!==null&&(at(n,t,i),wy(n,e,i)))}function Ay(t,e,n){var i=vt();Yl(t,e,n,i)}function Yl(t,e,n,i){var o={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(vr(t))xy(e,o);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=e.lastRenderedReducer,l!==null))try{var s=e.lastRenderedState,r=l(s,n);if(o.hasEagerState=!0,o.eagerState=r,St(r,s))return pr(t,e,o,0),ge===null&&dr(),!1}catch{}finally{}if(n=uf(t,e,o,i),n!==null)return at(n,t,i),wy(n,e,i),!0}return!1}function Nf(t,e,n,i){if(i={lane:2,revertLane:Hf(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},vr(t)){if(e)throw Error(R(479))}else e=uf(t,n,i,2),e!==null&&at(e,t,2)}function vr(t){var e=t.alternate;return t===X||e!==null&&e===X}function xy(t,e){Ho=Ma=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wy(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,fm(t,n)}}var as={readContext:Fe,use:mr,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e};as.useEffectEvent=_e;var by={readContext:Fe,use:mr,useCallback:function(t,e){return Ze().memoizedState=[t,e===void 0?null:e],t},useContext:Fe,useEffect:$d,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,ra(4194308,4,hy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ra(4194308,4,t,e)},useInsertionEffect:function(t,e){ra(4,2,t,e)},useMemo:function(t,e){var n=Ze();e=e===void 0?null:e;var i=t();if(qi){$n(!0);try{t()}finally{$n(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Ze();if(n!==void 0){var o=n(e);if(qi){$n(!0);try{n(e)}finally{$n(!1)}}}else o=e;return i.memoizedState=i.baseState=o,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},i.queue=t,t=t.dispatch=oE.bind(null,X,t),[i.memoizedState,t]},useRef:function(t){var e=Ze();return t={current:t},e.memoizedState=t},useState:function(t){t=Wu(t);var e=t.queue,n=Ay.bind(null,X,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:wf,useDeferredValue:function(t,e){var n=Ze();return bf(n,t,e)},useTransition:function(){var t=Wu(!1);return t=Sy.bind(null,X,t.queue,!0,!1),Ze().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=X,o=Ze();if(ne){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),ge===null)throw Error(R(349));ee&127||ey(i,e,n)}o.memoizedState=n;var l={value:n,getSnapshot:e};return o.queue=l,$d(ny.bind(null,i,l,t),[t]),i.flags|=2048,Ko(9,{destroy:void 0},ty.bind(null,i,l,n,e),null),n},useId:function(){var t=Ze(),e=ge.identifierPrefix;if(ne){var n=jt,i=Wt;n=(i&~(1<<32-yt(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Ia++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=ZT++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Rf,useFormState:Jd,useActionState:Jd,useOptimistic:function(t){var e=Ze();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Nf.bind(null,X,!0,n),n.dispatch=e,[t,e]},useMemoCache:_f,useCacheRefresh:function(){return Ze().memoizedState=iE.bind(null,X)},useEffectEvent:function(t){var e=Ze(),n={impl:t};return e.memoizedState=n,function(){if(ue&2)throw Error(R(440));return n.impl.apply(void 0,arguments)}}},Mf={readContext:Fe,use:mr,useCallback:my,useContext:Fe,useEffect:xf,useImperativeHandle:gy,useInsertionEffect:dy,useLayoutEffect:py,useMemo:yy,useReducer:aa,useRef:cy,useState:function(){return aa(wn)},useDebugValue:wf,useDeferredValue:function(t,e){var n=Re();return vy(n,he.memoizedState,t,e)},useTransition:function(){var t=aa(wn)[0],e=Re().memoizedState;return[typeof t=="boolean"?t:Es(t),e]},useSyncExternalStore:jm,useId:Cy,useHostTransitionStatus:Rf,useFormState:Yd,useActionState:Yd,useOptimistic:function(t,e){var n=Re();return ly(n,he,t,e)},useMemoCache:_f,useCacheRefresh:_y};Mf.useEffectEvent=fy;var Ry={readContext:Fe,use:mr,useCallback:my,useContext:Fe,useEffect:xf,useImperativeHandle:gy,useInsertionEffect:dy,useLayoutEffect:py,useMemo:yy,useReducer:Wr,useRef:cy,useState:function(){return Wr(wn)},useDebugValue:wf,useDeferredValue:function(t,e){var n=Re();return he===null?bf(n,t,e):vy(n,he.memoizedState,t,e)},useTransition:function(){var t=Wr(wn)[0],e=Re().memoizedState;return[typeof t=="boolean"?t:Es(t),e]},useSyncExternalStore:jm,useId:Cy,useHostTransitionStatus:Rf,useFormState:Kd,useActionState:Kd,useOptimistic:function(t,e){var n=Re();return he!==null?ly(n,he,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:_f,useCacheRefresh:_y};Ry.useEffectEvent=fy;function jr(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Te({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var tc={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=vt(),o=ti(i);o.payload=e,n!=null&&(o.callback=n),e=ni(t,o,i),e!==null&&(at(e,t,i),ql(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=vt(),o=ti(i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ni(t,o,i),e!==null&&(at(e,t,i),ql(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vt(),i=ti(n);i.tag=2,e!=null&&(i.callback=e),e=ni(t,i,n),e!==null&&(at(e,t,n),ql(e,t,n))}};function Xd(t,e,n,i,o,l,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,l,s):e.prototype&&e.prototype.isPureReactComponent?!ns(n,i)||!ns(o,l):!0}function Qd(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&tc.enqueueReplaceState(e,e.state,null)}function Fi(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Te({},n));for(var o in t)n[o]===void 0&&(n[o]=t[o])}return n}function Ny(t){_a(t)}function My(t){console.error(t)}function Iy(t){_a(t)}function Da(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Zd(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function nc(t,e,n){return n=ti(n),n.tag=3,n.payload={element:null},n.callback=function(){Da(t,e)},n}function Dy(t){return t=ti(t),t.tag=3,t}function Ly(t,e,n,i){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var l=i.value;t.payload=function(){return o(l)},t.callback=function(){Zd(e,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Zd(e,n,i),typeof o!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var r=i.stack;this.componentDidCatch(i.value,{componentStack:r!==null?r:""})})}function lE(t,e,n,i,o){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&nl(e,n,o,!0),n=Tt.current,n!==null){switch(n.tag){case 31:case 13:return Mt===null?Pa():n.alternate===null&&Ae===0&&(Ae=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===ba?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),cu(t,i,o)),!1;case 22:return n.flags|=65536,i===ba?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),cu(t,i,o)),!1}throw Error(R(435,n.tag))}return cu(t,i,o),Pa(),!1}if(ne)return e=Tt.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=o,i!==qu&&(t=Error(R(422),{cause:i}),os(Rt(t,n)))):(i!==qu&&(e=Error(R(423),{cause:i}),os(Rt(e,n))),t=t.current.alternate,t.flags|=65536,o&=-o,t.lanes|=o,i=Rt(i,n),o=nc(t.stateNode,i,o),Zr(t,o),Ae!==4&&(Ae=2)),!1;var l=Error(R(520),{cause:i});if(l=Rt(l,n),Xl===null?Xl=[l]:Xl.push(l),Ae!==4&&(Ae=2),e===null)return!0;i=Rt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=o&-o,n.lanes|=t,t=nc(n.stateNode,i,t),Zr(n,t),!1;case 1:if(e=n.type,l=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(ii===null||!ii.has(l))))return n.flags|=65536,o&=-o,n.lanes|=o,o=Dy(o),Ly(o,t,n,i),Zr(n,o),!1}n=n.return}while(n!==null);return!1}var If=Error(R(461)),De=!1;function ze(t,e,n,i){e.child=t===null?Km(e,null,n,i):Bi(e,t.child,n,i)}function Wd(t,e,n,i,o){n=n.render;var l=e.ref;if("ref"in i){var s={};for(var r in i)r!=="ref"&&(s[r]=i[r])}else s=i;return zi(e),i=Sf(t,e,n,s,l,o),r=Tf(),t!==null&&!De?(Ef(t,e,o),bn(t,e,o)):(ne&&r&&ff(e),e.flags|=1,ze(t,e,i,o),e.child)}function jd(t,e,n,i,o){if(t===null){var l=n.type;return typeof l=="function"&&!cf(l)&&l.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=l,Uy(t,e,l,i,o)):(t=la(n.type,null,i,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(l=t.child,!Df(t,o)){var s=l.memoizedProps;if(n=n.compare,n=n!==null?n:ns,n(s,i)&&t.ref===e.ref)return bn(t,e,o)}return e.flags|=1,t=En(l,i),t.ref=e.ref,t.return=e,e.child=t}function Uy(t,e,n,i,o){if(t!==null){var l=t.memoizedProps;if(ns(l,i)&&t.ref===e.ref)if(De=!1,e.pendingProps=i=l,Df(t,o))t.flags&131072&&(De=!0);else return e.lanes=t.lanes,bn(t,e,o)}return ic(t,e,n,i,o)}function ky(t,e,n,i){var o=i.children,l=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(l=l!==null?l.baseLanes|n:n,t!==null){for(i=e.child=t.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~l}else i=0,e.child=null;return ep(t,e,l,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&sa(e,l!==null?l.cachePool:null),l!==null?Bd(e,l):Qu(),Qm(e);else return i=e.lanes=536870912,ep(t,e,l!==null?l.baseLanes|n:n,n,i)}else l!==null?(sa(e,l.cachePool),Bd(e,l),Yn(),e.memoizedState=null):(t!==null&&sa(e,null),Qu(),Yn());return ze(t,e,o,n),e.child}function kl(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function ep(t,e,n,i,o){var l=hf();return l=l===null?null:{parent:Ie._currentValue,pool:l},e.memoizedState={baseLanes:n,cachePool:l},t!==null&&sa(e,null),Qu(),Qm(e),t!==null&&nl(t,e,i,!0),e.childLanes=o,null}function ua(t,e){return e=La({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function tp(t,e,n){return Bi(e,t.child,null,n),t=ua(e,e.pendingProps),t.flags|=2,dt(e),e.memoizedState=null,t}function sE(t,e,n){var i=e.pendingProps,o=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(ne){if(i.mode==="hidden")return t=ua(e,i),e.lanes=536870912,kl(null,t);if(Zu(e),(t=ve)?(t=b0(t,Nt),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ri!==null?{id:Wt,overflow:jt}:null,retryLane:536870912,hydrationErrors:null},n=Vm(t),n.return=e,e.child=n,qe=e,ve=null)):t=null,t===null)throw ui(e);return e.lanes=536870912,null}return ua(e,i)}var l=t.memoizedState;if(l!==null){var s=l.dehydrated;if(Zu(e),o)if(e.flags&256)e.flags&=-257,e=tp(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(R(558));else if(De||nl(t,e,n,!1),o=(n&t.childLanes)!==0,De||o){if(i=ge,i!==null&&(s=dm(i,n),s!==0&&s!==l.retryLane))throw l.retryLane=s,$i(t,s),at(i,t,s),If;Pa(),e=tp(t,e,n)}else t=l.treeContext,ve=It(s.nextSibling),qe=e,ne=!0,ei=null,Nt=!1,t!==null&&Bm(e,t),e=ua(e,i),e.flags|=4096;return e}return t=En(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function ca(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(R(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function ic(t,e,n,i,o){return zi(e),n=Sf(t,e,n,i,void 0,o),i=Tf(),t!==null&&!De?(Ef(t,e,o),bn(t,e,o)):(ne&&i&&ff(e),e.flags|=1,ze(t,e,n,o),e.child)}function np(t,e,n,i,o,l){return zi(e),e.updateQueue=null,n=Wm(e,i,n,o),Zm(t),i=Tf(),t!==null&&!De?(Ef(t,e,l),bn(t,e,l)):(ne&&i&&ff(e),e.flags|=1,ze(t,e,n,l),e.child)}function ip(t,e,n,i,o){if(zi(e),e.stateNode===null){var l=bo,s=n.contextType;typeof s=="object"&&s!==null&&(l=Fe(s)),l=new n(i,l),e.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=tc,e.stateNode=l,l._reactInternals=e,l=e.stateNode,l.props=i,l.state=e.memoizedState,l.refs={},mf(e),s=n.contextType,l.context=typeof s=="object"&&s!==null?Fe(s):bo,l.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(jr(e,n,s,i),l.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(s=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),s!==l.state&&tc.enqueueReplaceState(l,l.state,null),Jl(e,i,l,o),Fl(),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){l=e.stateNode;var r=e.memoizedProps,c=Fi(n,r);l.props=c;var f=l.context,d=n.contextType;s=bo,typeof d=="object"&&d!==null&&(s=Fe(d));var h=n.getDerivedStateFromProps;d=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function",r=e.pendingProps!==r,d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(r||f!==s)&&Qd(e,l,i,s),qn=!1;var p=e.memoizedState;l.state=p,Jl(e,i,l,o),Fl(),f=e.memoizedState,r||p!==f||qn?(typeof h=="function"&&(jr(e,n,h,i),f=e.memoizedState),(c=qn||Xd(e,n,c,i,p,f,s))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=f),l.props=i,l.state=f,l.context=s,i=c):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{l=e.stateNode,$u(t,e),s=e.memoizedProps,d=Fi(n,s),l.props=d,h=e.pendingProps,p=l.context,f=n.contextType,c=bo,typeof f=="object"&&f!==null&&(c=Fe(f)),r=n.getDerivedStateFromProps,(f=typeof r=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==h||p!==c)&&Qd(e,l,i,c),qn=!1,p=e.memoizedState,l.state=p,Jl(e,i,l,o),Fl();var g=e.memoizedState;s!==h||p!==g||qn||t!==null&&t.dependencies!==null&&wa(t.dependencies)?(typeof r=="function"&&(jr(e,n,r,i),g=e.memoizedState),(d=qn||Xd(e,n,d,i,p,g,c)||t!==null&&t.dependencies!==null&&wa(t.dependencies))?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,g,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,g,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),l.props=i,l.state=g,l.context=c,i=d):(typeof l.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return l=i,ca(t,e),i=(e.flags&128)!==0,l||i?(l=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:l.render(),e.flags|=1,t!==null&&i?(e.child=Bi(e,t.child,null,o),e.child=Bi(e,null,n,o)):ze(t,e,n,o),e.memoizedState=l.state,t=e.child):t=bn(t,e,o),t}function op(t,e,n,i){return Vi(),e.flags|=256,ze(t,e,n,i),e.child}var eu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tu(t){return{baseLanes:t,cachePool:Fm()}}function nu(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=ht),t}function Oy(t,e,n){var i=e.pendingProps,o=!1,l=(e.flags&128)!==0,s;if((s=l)||(s=t!==null&&t.memoizedState===null?!1:(be.current&2)!==0),s&&(o=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(ne){if(o?Jn(e):Yn(),(t=ve)?(t=b0(t,Nt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ri!==null?{id:Wt,overflow:jt}:null,retryLane:536870912,hydrationErrors:null},n=Vm(t),n.return=e,e.child=n,qe=e,ve=null)):t=null,t===null)throw ui(e);return yc(t)?e.lanes=32:e.lanes=536870912,null}var r=i.children;return i=i.fallback,o?(Yn(),o=e.mode,r=La({mode:"hidden",children:r},o),i=Ui(i,o,n,null),r.return=e,i.return=e,r.sibling=i,e.child=r,i=e.child,i.memoizedState=tu(n),i.childLanes=nu(t,s,n),e.memoizedState=eu,kl(null,i)):(Jn(e),oc(e,r))}var c=t.memoizedState;if(c!==null&&(r=c.dehydrated,r!==null)){if(l)e.flags&256?(Jn(e),e.flags&=-257,e=iu(t,e,n)):e.memoizedState!==null?(Yn(),e.child=t.child,e.flags|=128,e=null):(Yn(),r=i.fallback,o=e.mode,i=La({mode:"visible",children:i.children},o),r=Ui(r,o,n,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,Bi(e,t.child,null,n),i=e.child,i.memoizedState=tu(n),i.childLanes=nu(t,s,n),e.memoizedState=eu,e=kl(null,i));else if(Jn(e),yc(r)){if(s=r.nextSibling&&r.nextSibling.dataset,s)var f=s.dgst;s=f,i=Error(R(419)),i.stack="",i.digest=s,os({value:i,source:null,stack:null}),e=iu(t,e,n)}else if(De||nl(t,e,n,!1),s=(n&t.childLanes)!==0,De||s){if(s=ge,s!==null&&(i=dm(s,n),i!==0&&i!==c.retryLane))throw c.retryLane=i,$i(t,i),at(s,t,i),If;mc(r)||Pa(),e=iu(t,e,n)}else mc(r)?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,ve=It(r.nextSibling),qe=e,ne=!0,ei=null,Nt=!1,t!==null&&Bm(e,t),e=oc(e,i.children),e.flags|=4096);return e}return o?(Yn(),r=i.fallback,o=e.mode,c=t.child,f=c.sibling,i=En(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,f!==null?r=En(f,r):(r=Ui(r,o,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,kl(null,i),i=e.child,r=t.child.memoizedState,r===null?r=tu(n):(o=r.cachePool,o!==null?(c=Ie._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=Fm(),r={baseLanes:r.baseLanes|n,cachePool:o}),i.memoizedState=r,i.childLanes=nu(t,s,n),e.memoizedState=eu,kl(t.child,i)):(Jn(e),n=t.child,t=n.sibling,n=En(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function oc(t,e){return e=La({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function La(t,e){return t=pt(22,t,null,e),t.lanes=0,t}function iu(t,e,n){return Bi(e,t.child,null,n),t=oc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function lp(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Ju(t.return,e,n)}function ou(t,e,n,i,o,l){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o,treeForkCount:l}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=o,s.treeForkCount=l)}function Py(t,e,n){var i=e.pendingProps,o=i.revealOrder,l=i.tail;i=i.children;var s=be.current,r=(s&2)!==0;if(r?(s=s&1|2,e.flags|=128):s&=1,me(be,s),ze(t,e,i,n),i=ne?is:0,!r&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lp(t,n,e);else if(t.tag===19)lp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Na(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),ou(e,!1,o,n,l,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Na(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}ou(e,!0,n,null,l,i);break;case"together":ou(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function bn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fi|=e.lanes,!(n&e.childLanes))if(t!==null){if(nl(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=En(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=En(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Df(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&wa(t)))}function aE(t,e,n){switch(e.tag){case 3:Sa(e,e.stateNode.containerInfo),Fn(e,Ie,t.memoizedState.cache),Vi();break;case 27:case 5:Du(e);break;case 4:Sa(e,e.stateNode.containerInfo);break;case 10:Fn(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Zu(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Jn(e),e.flags|=128,null):n&e.child.childLanes?Oy(t,e,n):(Jn(e),t=bn(t,e,n),t!==null?t.sibling:null);Jn(e);break;case 19:var o=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(nl(t,e,n,!1),i=(n&e.childLanes)!==0),o){if(i)return Py(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),me(be,be.current),i)break;return null;case 22:return e.lanes=0,ky(t,e,n,e.pendingProps);case 24:Fn(e,Ie,t.memoizedState.cache)}return bn(t,e,n)}function Hy(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)De=!0;else{if(!Df(t,n)&&!(e.flags&128))return De=!1,aE(t,e,n);De=!!(t.flags&131072)}else De=!1,ne&&e.flags&1048576&&zm(e,is,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=Mi(e.elementType),e.type=t,typeof t=="function")cf(t)?(i=Fi(t,i),e.tag=1,e=ip(null,e,t,i,n)):(e.tag=0,e=ic(null,e,t,i,n));else{if(t!=null){var o=t.$$typeof;if(o===Xc){e.tag=11,e=Wd(null,e,t,i,n);break e}else if(o===Qc){e.tag=14,e=jd(null,e,t,i,n);break e}}throw e=Mu(t)||t,Error(R(306,e,""))}}return e;case 0:return ic(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,o=Fi(i,e.pendingProps),ip(t,e,i,o,n);case 3:e:{if(Sa(e,e.stateNode.containerInfo),t===null)throw Error(R(387));i=e.pendingProps;var l=e.memoizedState;o=l.element,$u(t,e),Jl(e,i,null,n);var s=e.memoizedState;if(i=s.cache,Fn(e,Ie,i),i!==l.cache&&Yu(e,[Ie],n,!0),Fl(),i=s.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=l,e.memoizedState=l,e.flags&256){e=op(t,e,i,n);break e}else if(i!==o){o=Rt(Error(R(424)),e),os(o),e=op(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ve=It(t.firstChild),qe=e,ne=!0,ei=null,Nt=!0,n=Km(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Vi(),i===o){e=bn(t,e,n);break e}ze(t,e,i,n)}e=e.child}return e;case 26:return ca(t,e),t===null?(n=xp(e.type,null,e.pendingProps,null))?e.memoizedState=n:ne||(n=e.type,t=e.pendingProps,i=za(jn.current).createElement(n),i[Be]=e,i[rt]=t,Je(i,n,t),Pe(i),e.stateNode=i):e.memoizedState=xp(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Du(e),t===null&&ne&&(i=e.stateNode=R0(e.type,e.pendingProps,jn.current),qe=e,Nt=!0,o=ve,pi(e.type)?(vc=o,ve=It(i.firstChild)):ve=o),ze(t,e,e.pendingProps.children,n),ca(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ne&&((o=i=ve)&&(i=PE(i,e.type,e.pendingProps,Nt),i!==null?(e.stateNode=i,qe=e,ve=It(i.firstChild),Nt=!1,o=!0):o=!1),o||ui(e)),Du(e),o=e.type,l=e.pendingProps,s=t!==null?t.memoizedProps:null,i=l.children,hc(o,l)?i=null:s!==null&&hc(o,s)&&(e.flags|=32),e.memoizedState!==null&&(o=Sf(t,e,WT,null,null,n),cs._currentValue=o),ca(t,e),ze(t,e,i,n),e.child;case 6:return t===null&&ne&&((t=n=ve)&&(n=HE(n,e.pendingProps,Nt),n!==null?(e.stateNode=n,qe=e,ve=null,t=!0):t=!1),t||ui(e)),null;case 13:return Oy(t,e,n);case 4:return Sa(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Bi(e,null,i,n):ze(t,e,i,n),e.child;case 11:return Wd(t,e,e.type,e.pendingProps,n);case 7:return ze(t,e,e.pendingProps,n),e.child;case 8:return ze(t,e,e.pendingProps.children,n),e.child;case 12:return ze(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,Fn(e,e.type,i.value),ze(t,e,i.children,n),e.child;case 9:return o=e.type._context,i=e.pendingProps.children,zi(e),o=Fe(o),i=i(o),e.flags|=1,ze(t,e,i,n),e.child;case 14:return jd(t,e,e.type,e.pendingProps,n);case 15:return Uy(t,e,e.type,e.pendingProps,n);case 19:return Py(t,e,n);case 31:return sE(t,e,n);case 22:return ky(t,e,n,e.pendingProps);case 24:return zi(e),i=Fe(Ie),t===null?(o=hf(),o===null&&(o=ge,l=pf(),o.pooledCache=l,l.refCount++,l!==null&&(o.pooledCacheLanes|=n),o=l),e.memoizedState={parent:i,cache:o},mf(e),Fn(e,Ie,o)):(t.lanes&n&&($u(t,e),Jl(e,null,null,n),Fl()),o=t.memoizedState,l=e.memoizedState,o.parent!==i?(o={parent:i,cache:i},e.memoizedState=o,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=o),Fn(e,Ie,i)):(i=l.cache,Fn(e,Ie,i),i!==o.cache&&Yu(e,[Ie],n,!0))),ze(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(R(156,e.tag))}function dn(t){t.flags|=4}function lu(t,e,n,i,o){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(o&335544128)===o)if(t.stateNode.complete)t.flags|=8192;else if(r0())t.flags|=8192;else throw Oi=ba,gf}else t.flags&=-16777217}function sp(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!I0(e))if(r0())t.flags|=8192;else throw Oi=ba,gf}function Bs(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?um():536870912,t.lanes|=e,$o|=e)}function wl(t,e){if(!ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function ye(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function rE(t,e,n){var i=e.pendingProps;switch(df(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(e),null;case 1:return ye(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Cn(Ie),Bo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ao(e)?dn(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qr())),ye(e),null;case 26:var o=e.type,l=e.memoizedState;return t===null?(dn(e),l!==null?(ye(e),sp(e,l)):(ye(e),lu(e,o,null,i,n))):l?l!==t.memoizedState?(dn(e),ye(e),sp(e,l)):(ye(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&dn(e),ye(e),lu(e,o,t,i,n)),null;case 27:if(Ta(e),n=jn.current,o=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&dn(e);else{if(!i){if(e.stateNode===null)throw Error(R(166));return ye(e),null}t=nn.current,ao(e)?kd(e):(t=R0(o,i,n),e.stateNode=t,dn(e))}return ye(e),null;case 5:if(Ta(e),o=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&dn(e);else{if(!i){if(e.stateNode===null)throw Error(R(166));return ye(e),null}if(l=nn.current,ao(e))kd(e);else{var s=za(jn.current);switch(l){case 1:l=s.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:l=s.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":l=s.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":l=s.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":l=s.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?l.multiple=!0:i.size&&(l.size=i.size);break;default:l=typeof i.is=="string"?s.createElement(o,{is:i.is}):s.createElement(o)}}l[Be]=e,l[rt]=i;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)l.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=l;e:switch(Je(l,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&dn(e)}}return ye(e),lu(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&dn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(R(166));if(t=jn.current,ao(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,o=qe,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}t[Be]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||A0(t.nodeValue,n)),t||ui(e,!0)}else t=za(t).createTextNode(i),t[Be]=e,e.stateNode=t}return ye(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=ao(e),n!==null){if(t===null){if(!i)throw Error(R(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(557));t[Be]=e}else Vi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ye(e),t=!1}else n=Qr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(dt(e),e):(dt(e),null);if(e.flags&128)throw Error(R(558))}return ye(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(o=ao(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(R(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(R(317));o[Be]=e}else Vi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ye(e),o=!1}else o=Qr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),o=!0;if(!o)return e.flags&256?(dt(e),e):(dt(e),null)}return dt(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==o&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Bs(e,e.updateQueue),ye(e),null);case 4:return Bo(),t===null&&Gf(e.stateNode.containerInfo),ye(e),null;case 10:return Cn(e.type),ye(e),null;case 19:if(He(be),i=e.memoizedState,i===null)return ye(e),null;if(o=(e.flags&128)!==0,l=i.rendering,l===null)if(o)wl(i,!1);else{if(Ae!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Na(t),l!==null){for(e.flags|=128,wl(i,!1),t=l.updateQueue,e.updateQueue=t,Bs(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Gm(n,t),n=n.sibling;return me(be,be.current&1|2),ne&&mn(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&gt()>ka&&(e.flags|=128,o=!0,wl(i,!1),e.lanes=4194304)}else{if(!o)if(t=Na(l),t!==null){if(e.flags|=128,o=!0,t=t.updateQueue,e.updateQueue=t,Bs(e,t),wl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ne)return ye(e),null}else 2*gt()-i.renderingStartTime>ka&&n!==536870912&&(e.flags|=128,o=!0,wl(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(t=i.last,t!==null?t.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=gt(),t.sibling=null,n=be.current,me(be,o?n&1|2:n&1),ne&&mn(e,i.treeForkCount),t):(ye(e),null);case 22:case 23:return dt(e),yf(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(ye(e),e.subtreeFlags&6&&(e.flags|=8192)):ye(e),n=e.updateQueue,n!==null&&Bs(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&He(ki),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Cn(Ie),ye(e),null;case 25:return null;case 30:return null}throw Error(R(156,e.tag))}function uE(t,e){switch(df(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cn(Ie),Bo(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Ta(e),null;case 31:if(e.memoizedState!==null){if(dt(e),e.alternate===null)throw Error(R(340));Vi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(dt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));Vi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(be),null;case 4:return Bo(),null;case 10:return Cn(e.type),null;case 22:case 23:return dt(e),yf(),t!==null&&He(ki),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Cn(Ie),null;case 25:return null;default:return null}}function Gy(t,e){switch(df(e),e.tag){case 3:Cn(Ie),Bo();break;case 26:case 27:case 5:Ta(e);break;case 4:Bo();break;case 31:e.memoizedState!==null&&dt(e);break;case 13:dt(e);break;case 19:He(be);break;case 10:Cn(e.type);break;case 22:case 23:dt(e),yf(),t!==null&&He(ki);break;case 24:Cn(Ie)}}function Cs(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&t)===t){i=void 0;var l=n.create,s=n.inst;i=l(),s.destroy=i}n=n.next}while(n!==o)}}catch(r){de(e,e.return,r)}}function ci(t,e,n){try{var i=e.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var l=o.next;i=l;do{if((i.tag&t)===t){var s=i.inst,r=s.destroy;if(r!==void 0){s.destroy=void 0,o=e;var c=n,f=r;try{f()}catch(d){de(o,c,d)}}}i=i.next}while(i!==l)}}catch(d){de(e,e.return,d)}}function Vy(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Xm(e,n)}catch(i){de(t,t.return,i)}}}function zy(t,e,n){n.props=Fi(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){de(t,e,i)}}function Kl(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(o){de(t,e,o)}}function en(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(o){de(t,e,o)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){de(t,e,o)}else n.current=null}function By(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(o){de(t,t.return,o)}}function su(t,e,n){try{var i=t.stateNode;IE(i,t.type,n,e),i[rt]=e}catch(o){de(t,t.return,o)}}function qy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&pi(t.type)||t.tag===4}function au(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&pi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lc(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Sn));else if(i!==4&&(i===27&&pi(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(lc(t,e,n),t=t.sibling;t!==null;)lc(t,e,n),t=t.sibling}function Ua(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&pi(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Ua(t,e,n),t=t.sibling;t!==null;)Ua(t,e,n),t=t.sibling}function Fy(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,o=e.attributes;o.length;)e.removeAttributeNode(o[0]);Je(e,i,n),e[Be]=t,e[rt]=n}catch(l){de(t,t.return,l)}}var yn=!1,Me=!1,ru=!1,ap=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function cE(t,e){if(t=t.containerInfo,dc=Ja,t=Im(t),af(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var s=0,r=-1,c=-1,f=0,d=0,h=t,p=null;t:for(;;){for(var g;h!==n||o!==0&&h.nodeType!==3||(r=s+o),h!==l||i!==0&&h.nodeType!==3||(c=s+i),h.nodeType===3&&(s+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===t)break t;if(p===n&&++f===o&&(r=s),p===l&&++d===i&&(c=s),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=r===-1||c===-1?null:{start:r,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(pc={focusedElem:t,selectionRange:n},Ja=!1,Oe=e;Oe!==null;)if(e=Oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Oe=t;else for(;Oe!==null;){switch(e=Oe,l=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)o=t[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&l!==null){t=void 0,n=e,o=l.memoizedProps,l=l.memoizedState,i=n.stateNode;try{var v=Fi(n.type,o);t=i.getSnapshotBeforeUpdate(v,l),i.__reactInternalSnapshotBeforeUpdate=t}catch(E){de(n,n.return,E)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)gc(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(R(163))}if(t=e.sibling,t!==null){t.return=e.return,Oe=t;break}Oe=e.return}}function Jy(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:hn(t,n),i&4&&Cs(5,n);break;case 1:if(hn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){de(n,n.return,s)}else{var o=Fi(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(o,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){de(n,n.return,s)}}i&64&&Vy(n),i&512&&Kl(n,n.return);break;case 3:if(hn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Xm(t,e)}catch(s){de(n,n.return,s)}}break;case 27:e===null&&i&4&&Fy(n);case 26:case 5:hn(t,n),e===null&&i&4&&By(n),i&512&&Kl(n,n.return);break;case 12:hn(t,n);break;case 31:hn(t,n),i&4&&$y(t,n);break;case 13:hn(t,n),i&4&&Xy(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=SE.bind(null,n),GE(t,n))));break;case 22:if(i=n.memoizedState!==null||yn,!i){e=e!==null&&e.memoizedState!==null||Me,o=yn;var l=Me;yn=i,(Me=e)&&!l?gn(t,n,(n.subtreeFlags&8772)!==0):hn(t,n),yn=o,Me=l}break;case 30:break;default:hn(t,n)}}function Yy(t){var e=t.alternate;e!==null&&(t.alternate=null,Yy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&ef(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ee=null,lt=!1;function pn(t,e,n){for(n=n.child;n!==null;)Ky(t,e,n),n=n.sibling}function Ky(t,e,n){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(gs,n)}catch{}switch(n.tag){case 26:Me||en(n,e),pn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Me||en(n,e);var i=Ee,o=lt;pi(n.type)&&(Ee=n.stateNode,lt=!1),pn(t,e,n),Zl(n.stateNode),Ee=i,lt=o;break;case 5:Me||en(n,e);case 6:if(i=Ee,o=lt,Ee=null,pn(t,e,n),Ee=i,lt=o,Ee!==null)if(lt)try{(Ee.nodeType===9?Ee.body:Ee.nodeName==="HTML"?Ee.ownerDocument.body:Ee).removeChild(n.stateNode)}catch(l){de(n,e,l)}else try{Ee.removeChild(n.stateNode)}catch(l){de(n,e,l)}break;case 18:Ee!==null&&(lt?(t=Ee,Tp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Wo(t)):Tp(Ee,n.stateNode));break;case 4:i=Ee,o=lt,Ee=n.stateNode.containerInfo,lt=!0,pn(t,e,n),Ee=i,lt=o;break;case 0:case 11:case 14:case 15:ci(2,n,e),Me||ci(4,n,e),pn(t,e,n);break;case 1:Me||(en(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&zy(n,e,i)),pn(t,e,n);break;case 21:pn(t,e,n);break;case 22:Me=(i=Me)||n.memoizedState!==null,pn(t,e,n),Me=i;break;default:pn(t,e,n)}}function $y(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Wo(t)}catch(n){de(e,e.return,n)}}}function Xy(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wo(t)}catch(n){de(e,e.return,n)}}function fE(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new ap),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new ap),e;default:throw Error(R(435,t.tag))}}function qs(t,e){var n=fE(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var o=TE.bind(null,t,i);i.then(o,o)}})}function it(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i],l=t,s=e,r=s;e:for(;r!==null;){switch(r.tag){case 27:if(pi(r.type)){Ee=r.stateNode,lt=!1;break e}break;case 5:Ee=r.stateNode,lt=!1;break e;case 3:case 4:Ee=r.stateNode.containerInfo,lt=!0;break e}r=r.return}if(Ee===null)throw Error(R(160));Ky(l,s,o),Ee=null,lt=!1,l=o.alternate,l!==null&&(l.return=null),o.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Qy(e,t),e=e.sibling}var Gt=null;function Qy(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:it(e,t),ot(t),i&4&&(ci(3,t,t.return),Cs(3,t),ci(5,t,t.return));break;case 1:it(e,t),ot(t),i&512&&(Me||n===null||en(n,n.return)),i&64&&yn&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var o=Gt;if(it(e,t),ot(t),i&512&&(Me||n===null||en(n,n.return)),i&4){var l=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":l=o.getElementsByTagName("title")[0],(!l||l[vs]||l[Be]||l.namespaceURI==="http://www.w3.org/2000/svg"||l.hasAttribute("itemprop"))&&(l=o.createElement(i),o.head.insertBefore(l,o.querySelector("head > title"))),Je(l,i,n),l[Be]=t,Pe(l),i=l;break e;case"link":var s=bp("link","href",o).get(i+(n.href||""));if(s){for(var r=0;r<s.length;r++)if(l=s[r],l.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&l.getAttribute("rel")===(n.rel==null?null:n.rel)&&l.getAttribute("title")===(n.title==null?null:n.title)&&l.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(r,1);break t}}l=o.createElement(i),Je(l,i,n),o.head.appendChild(l);break;case"meta":if(s=bp("meta","content",o).get(i+(n.content||""))){for(r=0;r<s.length;r++)if(l=s[r],l.getAttribute("content")===(n.content==null?null:""+n.content)&&l.getAttribute("name")===(n.name==null?null:n.name)&&l.getAttribute("property")===(n.property==null?null:n.property)&&l.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&l.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(r,1);break t}}l=o.createElement(i),Je(l,i,n),o.head.appendChild(l);break;default:throw Error(R(468,i))}l[Be]=t,Pe(l),i=l}t.stateNode=i}else Rp(o,t.type,t.stateNode);else t.stateNode=wp(o,i,t.memoizedProps);else l!==i?(l===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):l.count--,i===null?Rp(o,t.type,t.stateNode):wp(o,i,t.memoizedProps)):i===null&&t.stateNode!==null&&su(t,t.memoizedProps,n.memoizedProps)}break;case 27:it(e,t),ot(t),i&512&&(Me||n===null||en(n,n.return)),n!==null&&i&4&&su(t,t.memoizedProps,n.memoizedProps);break;case 5:if(it(e,t),ot(t),i&512&&(Me||n===null||en(n,n.return)),t.flags&32){o=t.stateNode;try{Fo(o,"")}catch(v){de(t,t.return,v)}}i&4&&t.stateNode!=null&&(o=t.memoizedProps,su(t,o,n!==null?n.memoizedProps:o)),i&1024&&(ru=!0);break;case 6:if(it(e,t),ot(t),i&4){if(t.stateNode===null)throw Error(R(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(v){de(t,t.return,v)}}break;case 3:if(pa=null,o=Gt,Gt=Ba(e.containerInfo),it(e,t),Gt=o,ot(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Wo(e.containerInfo)}catch(v){de(t,t.return,v)}ru&&(ru=!1,Zy(t));break;case 4:i=Gt,Gt=Ba(t.stateNode.containerInfo),it(e,t),ot(t),Gt=i;break;case 12:it(e,t),ot(t);break;case 31:it(e,t),ot(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,qs(t,i)));break;case 13:it(e,t),ot(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Sr=gt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,qs(t,i)));break;case 22:o=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,f=yn,d=Me;if(yn=f||o,Me=d||c,it(e,t),Me=d,yn=f,ot(t),i&8192)e:for(e=t.stateNode,e._visibility=o?e._visibility&-2:e._visibility|1,o&&(n===null||c||yn||Me||Ii(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(l=c.stateNode,o)s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{r=c.stateNode;var h=c.memoizedProps.style,p=h!=null&&h.hasOwnProperty("display")?h.display:null;r.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(v){de(c,c.return,v)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(v){de(c,c.return,v)}}}else if(e.tag===18){if(n===null){c=e;try{var g=c.stateNode;o?Ep(g,!0):Ep(c.stateNode,!1)}catch(v){de(c,c.return,v)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,qs(t,n))));break;case 19:it(e,t),ot(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,qs(t,i)));break;case 30:break;case 21:break;default:it(e,t),ot(t)}}function ot(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(qy(i)){n=i;break}i=i.return}if(n==null)throw Error(R(160));switch(n.tag){case 27:var o=n.stateNode,l=au(t);Ua(t,l,o);break;case 5:var s=n.stateNode;n.flags&32&&(Fo(s,""),n.flags&=-33);var r=au(t);Ua(t,r,s);break;case 3:case 4:var c=n.stateNode.containerInfo,f=au(t);lc(t,f,c);break;default:throw Error(R(161))}}catch(d){de(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Zy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Zy(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function hn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Jy(t,e.alternate,e),e=e.sibling}function Ii(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ci(4,e,e.return),Ii(e);break;case 1:en(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&zy(e,e.return,n),Ii(e);break;case 27:Zl(e.stateNode);case 26:case 5:en(e,e.return),Ii(e);break;case 22:e.memoizedState===null&&Ii(e);break;case 30:Ii(e);break;default:Ii(e)}t=t.sibling}}function gn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,o=t,l=e,s=l.flags;switch(l.tag){case 0:case 11:case 15:gn(o,l,n),Cs(4,l);break;case 1:if(gn(o,l,n),i=l,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(f){de(i,i.return,f)}if(i=l,o=i.updateQueue,o!==null){var r=i.stateNode;try{var c=o.shared.hiddenCallbacks;if(c!==null)for(o.shared.hiddenCallbacks=null,o=0;o<c.length;o++)$m(c[o],r)}catch(f){de(i,i.return,f)}}n&&s&64&&Vy(l),Kl(l,l.return);break;case 27:Fy(l);case 26:case 5:gn(o,l,n),n&&i===null&&s&4&&By(l),Kl(l,l.return);break;case 12:gn(o,l,n);break;case 31:gn(o,l,n),n&&s&4&&$y(o,l);break;case 13:gn(o,l,n),n&&s&4&&Xy(o,l);break;case 22:l.memoizedState===null&&gn(o,l,n),Kl(l,l.return);break;case 30:break;default:gn(o,l,n)}e=e.sibling}}function Lf(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Ts(n))}function Uf(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ts(t))}function Ht(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wy(t,e,n,i),e=e.sibling}function Wy(t,e,n,i){var o=e.flags;switch(e.tag){case 0:case 11:case 15:Ht(t,e,n,i),o&2048&&Cs(9,e);break;case 1:Ht(t,e,n,i);break;case 3:Ht(t,e,n,i),o&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ts(t)));break;case 12:if(o&2048){Ht(t,e,n,i),t=e.stateNode;try{var l=e.memoizedProps,s=l.id,r=l.onPostCommit;typeof r=="function"&&r(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){de(e,e.return,c)}}else Ht(t,e,n,i);break;case 31:Ht(t,e,n,i);break;case 13:Ht(t,e,n,i);break;case 23:break;case 22:l=e.stateNode,s=e.alternate,e.memoizedState!==null?l._visibility&2?Ht(t,e,n,i):$l(t,e):l._visibility&2?Ht(t,e,n,i):(l._visibility|=2,mo(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),o&2048&&Lf(s,e);break;case 24:Ht(t,e,n,i),o&2048&&Uf(e.alternate,e);break;default:Ht(t,e,n,i)}}function mo(t,e,n,i,o){for(o=o&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var l=t,s=e,r=n,c=i,f=s.flags;switch(s.tag){case 0:case 11:case 15:mo(l,s,r,c,o),Cs(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?mo(l,s,r,c,o):$l(l,s):(d._visibility|=2,mo(l,s,r,c,o)),o&&f&2048&&Lf(s.alternate,s);break;case 24:mo(l,s,r,c,o),o&&f&2048&&Uf(s.alternate,s);break;default:mo(l,s,r,c,o)}e=e.sibling}}function $l(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,o=i.flags;switch(i.tag){case 22:$l(n,i),o&2048&&Lf(i.alternate,i);break;case 24:$l(n,i),o&2048&&Uf(i.alternate,i);break;default:$l(n,i)}e=e.sibling}}var Ol=8192;function ro(t,e,n){if(t.subtreeFlags&Ol)for(t=t.child;t!==null;)jy(t,e,n),t=t.sibling}function jy(t,e,n){switch(t.tag){case 26:ro(t,e,n),t.flags&Ol&&t.memoizedState!==null&&ZE(n,Gt,t.memoizedState,t.memoizedProps);break;case 5:ro(t,e,n);break;case 3:case 4:var i=Gt;Gt=Ba(t.stateNode.containerInfo),ro(t,e,n),Gt=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Ol,Ol=16777216,ro(t,e,n),Ol=i):ro(t,e,n));break;default:ro(t,e,n)}}function e0(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function bl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Oe=i,n0(i,t)}e0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)t0(t),t=t.sibling}function t0(t){switch(t.tag){case 0:case 11:case 15:bl(t),t.flags&2048&&ci(9,t,t.return);break;case 3:bl(t);break;case 12:bl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,fa(t)):bl(t);break;default:bl(t)}}function fa(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Oe=i,n0(i,t)}e0(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ci(8,e,e.return),fa(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,fa(e));break;default:fa(e)}t=t.sibling}}function n0(t,e){for(;Oe!==null;){var n=Oe;switch(n.tag){case 0:case 11:case 15:ci(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ts(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Oe=i;else e:for(n=t;Oe!==null;){i=Oe;var o=i.sibling,l=i.return;if(Yy(i),i===n){Oe=null;break e}if(o!==null){o.return=l,Oe=o;break e}Oe=l}}}var dE={getCacheForType:function(t){var e=Fe(Ie),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Fe(Ie).controller.signal}},pE=typeof WeakMap=="function"?WeakMap:Map,ue=0,ge=null,j=null,ee=0,fe=0,ft=null,Qn=!1,ol=!1,kf=!1,Rn=0,Ae=0,fi=0,Pi=0,Of=0,ht=0,$o=0,Xl=null,st=null,sc=!1,Sr=0,i0=0,ka=1/0,Oa=null,ii=null,Ue=0,oi=null,Xo=null,_n=0,ac=0,rc=null,o0=null,Ql=0,uc=null;function vt(){return ue&2&&ee!==0?ee&-ee:q.T!==null?Hf():pm()}function l0(){if(ht===0)if(!(ee&536870912)||ne){var t=ks;ks<<=1,!(ks&3932160)&&(ks=262144),ht=t}else ht=536870912;return t=Tt.current,t!==null&&(t.flags|=32),ht}function at(t,e,n){(t===ge&&(fe===2||fe===9)||t.cancelPendingCommit!==null)&&(Qo(t,0),Zn(t,ee,ht,!1)),ys(t,n),(!(ue&2)||t!==ge)&&(t===ge&&(!(ue&2)&&(Pi|=n),Ae===4&&Zn(t,ee,ht,!1)),ln(t))}function s0(t,e,n){if(ue&6)throw Error(R(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||ms(t,e),o=i?mE(t,e):uu(t,e,!0),l=i;do{if(o===0){ol&&!i&&Zn(t,e,0,!1);break}else{if(n=t.current.alternate,l&&!hE(n)){o=uu(t,e,!1),l=!1;continue}if(o===2){if(l=e,t.errorRecoveryDisabledLanes&l)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var r=t;o=Xl;var c=r.current.memoizedState.isDehydrated;if(c&&(Qo(r,s).flags|=256),s=uu(r,s,!1),s!==2){if(kf&&!c){r.errorRecoveryDisabledLanes|=l,Pi|=l,o=4;break e}l=st,st=o,l!==null&&(st===null?st=l:st.push.apply(st,l))}o=s}if(l=!1,o!==2)continue}}if(o===1){Qo(t,0),Zn(t,e,0,!0);break}e:{switch(i=t,l=o,l){case 0:case 1:throw Error(R(345));case 4:if((e&4194048)!==e)break;case 6:Zn(i,e,ht,!Qn);break e;case 2:st=null;break;case 3:case 5:break;default:throw Error(R(329))}if((e&62914560)===e&&(o=Sr+300-gt(),10<o)){if(Zn(i,e,ht,!Qn),rr(i,0,!0)!==0)break e;_n=e,i.timeoutHandle=w0(rp.bind(null,i,n,st,Oa,sc,e,ht,Pi,$o,Qn,l,"Throttled",-0,0),o);break e}rp(i,n,st,Oa,sc,e,ht,Pi,$o,Qn,l,null,-0,0)}}break}while(!0);ln(t)}function rp(t,e,n,i,o,l,s,r,c,f,d,h,p,g){if(t.timeoutHandle=-1,h=e.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sn},jy(e,l,h);var v=(l&62914560)===l?Sr-gt():(l&4194048)===l?i0-gt():0;if(v=WE(h,v),v!==null){_n=l,t.cancelPendingCommit=v(cp.bind(null,t,e,l,n,i,o,s,r,c,d,h,null,p,g)),Zn(t,l,s,!f);return}}cp(t,e,l,n,i,o,s,r,c)}function hE(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var o=n[i],l=o.getSnapshot;o=o.value;try{if(!St(l(),o))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zn(t,e,n,i){e&=~Of,e&=~Pi,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var o=e;0<o;){var l=31-yt(o),s=1<<l;i[l]=-1,o&=~s}n!==0&&cm(t,n,e)}function Tr(){return ue&6?!0:(_s(0),!1)}function Pf(){if(j!==null){if(fe===0)var t=j.return;else t=j,Tn=Xi=null,Cf(t),Po=null,ls=0,t=j;for(;t!==null;)Gy(t.alternate,t),t=t.return;j=null}}function Qo(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,UE(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),_n=0,Pf(),ge=t,j=n=En(t.current,null),ee=e,fe=0,ft=null,Qn=!1,ol=ms(t,e),kf=!1,$o=ht=Of=Pi=fi=Ae=0,st=Xl=null,sc=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var o=31-yt(i),l=1<<o;e|=t[o],i&=~l}return Rn=e,dr(),n}function a0(t,e){X=null,q.H=as,e===il||e===hr?(e=Vd(),fe=3):e===gf?(e=Vd(),fe=4):fe=e===If?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,ft=e,j===null&&(Ae=1,Da(t,Rt(e,t.current)))}function r0(){var t=Tt.current;return t===null?!0:(ee&4194048)===ee?Mt===null:(ee&62914560)===ee||ee&536870912?t===Mt:!1}function u0(){var t=q.H;return q.H=as,t===null?as:t}function c0(){var t=q.A;return q.A=dE,t}function Pa(){Ae=4,Qn||(ee&4194048)!==ee&&Tt.current!==null||(ol=!0),!(fi&134217727)&&!(Pi&134217727)||ge===null||Zn(ge,ee,ht,!1)}function uu(t,e,n){var i=ue;ue|=2;var o=u0(),l=c0();(ge!==t||ee!==e)&&(Oa=null,Qo(t,e)),e=!1;var s=Ae;e:do try{if(fe!==0&&j!==null){var r=j,c=ft;switch(fe){case 8:Pf(),s=6;break e;case 3:case 2:case 9:case 6:Tt.current===null&&(e=!0);var f=fe;if(fe=0,ft=null,Mo(t,r,c,f),n&&ol){s=0;break e}break;default:f=fe,fe=0,ft=null,Mo(t,r,c,f)}}gE(),s=Ae;break}catch(d){a0(t,d)}while(!0);return e&&t.shellSuspendCounter++,Tn=Xi=null,ue=i,q.H=o,q.A=l,j===null&&(ge=null,ee=0,dr()),s}function gE(){for(;j!==null;)f0(j)}function mE(t,e){var n=ue;ue|=2;var i=u0(),o=c0();ge!==t||ee!==e?(Oa=null,ka=gt()+500,Qo(t,e)):ol=ms(t,e);e:do try{if(fe!==0&&j!==null){e=j;var l=ft;t:switch(fe){case 1:fe=0,ft=null,Mo(t,e,l,1);break;case 2:case 9:if(Gd(l)){fe=0,ft=null,up(e);break}e=function(){fe!==2&&fe!==9||ge!==t||(fe=7),ln(t)},l.then(e,e);break e;case 3:fe=7;break e;case 4:fe=5;break e;case 7:Gd(l)?(fe=0,ft=null,up(e)):(fe=0,ft=null,Mo(t,e,l,7));break;case 5:var s=null;switch(j.tag){case 26:s=j.memoizedState;case 5:case 27:var r=j;if(s?I0(s):r.stateNode.complete){fe=0,ft=null;var c=r.sibling;if(c!==null)j=c;else{var f=r.return;f!==null?(j=f,Er(f)):j=null}break t}}fe=0,ft=null,Mo(t,e,l,5);break;case 6:fe=0,ft=null,Mo(t,e,l,6);break;case 8:Pf(),Ae=6;break e;default:throw Error(R(462))}}yE();break}catch(d){a0(t,d)}while(!0);return Tn=Xi=null,q.H=i,q.A=o,ue=n,j!==null?0:(ge=null,ee=0,dr(),Ae)}function yE(){for(;j!==null&&!VS();)f0(j)}function f0(t){var e=Hy(t.alternate,t,Rn);t.memoizedProps=t.pendingProps,e===null?Er(t):j=e}function up(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=np(n,e,e.pendingProps,e.type,void 0,ee);break;case 11:e=np(n,e,e.pendingProps,e.type.render,e.ref,ee);break;case 5:Cf(e);default:Gy(n,e),e=j=Gm(e,Rn),e=Hy(n,e,Rn)}t.memoizedProps=t.pendingProps,e===null?Er(t):j=e}function Mo(t,e,n,i){Tn=Xi=null,Cf(e),Po=null,ls=0;var o=e.return;try{if(lE(t,o,e,n,ee)){Ae=1,Da(t,Rt(n,t.current)),j=null;return}}catch(l){if(o!==null)throw j=o,l;Ae=1,Da(t,Rt(n,t.current)),j=null;return}e.flags&32768?(ne||i===1?t=!0:ol||ee&536870912?t=!1:(Qn=t=!0,(i===2||i===9||i===3||i===6)&&(i=Tt.current,i!==null&&i.tag===13&&(i.flags|=16384))),d0(e,t)):Er(e)}function Er(t){var e=t;do{if(e.flags&32768){d0(e,Qn);return}t=e.return;var n=rE(e.alternate,e,Rn);if(n!==null){j=n;return}if(e=e.sibling,e!==null){j=e;return}j=e=t}while(e!==null);Ae===0&&(Ae=5)}function d0(t,e){do{var n=uE(t.alternate,t);if(n!==null){n.flags&=32767,j=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){j=t;return}j=t=n}while(t!==null);Ae=6,j=null}function cp(t,e,n,i,o,l,s,r,c){t.cancelPendingCommit=null;do Cr();while(Ue!==0);if(ue&6)throw Error(R(327));if(e!==null){if(e===t.current)throw Error(R(177));if(l=e.lanes|e.childLanes,l|=rf,QS(t,n,l,s,r,c),t===ge&&(j=ge=null,ee=0),Xo=e,oi=t,_n=n,ac=l,rc=o,o0=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,EE(Ea,function(){return y0(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=q.T,q.T=null,o=ce.p,ce.p=2,s=ue,ue|=4;try{cE(t,e,n)}finally{ue=s,ce.p=o,q.T=i}}Ue=1,p0(),h0(),g0()}}function p0(){if(Ue===1){Ue=0;var t=oi,e=Xo,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=q.T,q.T=null;var i=ce.p;ce.p=2;var o=ue;ue|=4;try{Qy(e,t);var l=pc,s=Im(t.containerInfo),r=l.focusedElem,c=l.selectionRange;if(s!==r&&r&&r.ownerDocument&&Mm(r.ownerDocument.documentElement,r)){if(c!==null&&af(r)){var f=c.start,d=c.end;if(d===void 0&&(d=f),"selectionStart"in r)r.selectionStart=f,r.selectionEnd=Math.min(d,r.value.length);else{var h=r.ownerDocument||document,p=h&&h.defaultView||window;if(p.getSelection){var g=p.getSelection(),v=r.textContent.length,E=Math.min(c.start,v),_=c.end===void 0?E:Math.min(c.end,v);!g.extend&&E>_&&(s=_,_=E,E=s);var y=Dd(r,E),m=Dd(r,_);if(y&&m&&(g.rangeCount!==1||g.anchorNode!==y.node||g.anchorOffset!==y.offset||g.focusNode!==m.node||g.focusOffset!==m.offset)){var T=h.createRange();T.setStart(y.node,y.offset),g.removeAllRanges(),E>_?(g.addRange(T),g.extend(m.node,m.offset)):(T.setEnd(m.node,m.offset),g.addRange(T))}}}}for(h=[],g=r;g=g.parentNode;)g.nodeType===1&&h.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<h.length;r++){var C=h[r];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}Ja=!!dc,pc=dc=null}finally{ue=o,ce.p=i,q.T=n}}t.current=e,Ue=2}}function h0(){if(Ue===2){Ue=0;var t=oi,e=Xo,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=q.T,q.T=null;var i=ce.p;ce.p=2;var o=ue;ue|=4;try{Jy(t,e.alternate,e)}finally{ue=o,ce.p=i,q.T=n}}Ue=3}}function g0(){if(Ue===4||Ue===3){Ue=0,zS();var t=oi,e=Xo,n=_n,i=o0;e.subtreeFlags&10256||e.flags&10256?Ue=5:(Ue=0,Xo=oi=null,m0(t,t.pendingLanes));var o=t.pendingLanes;if(o===0&&(ii=null),jc(n),e=e.stateNode,mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(gs,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=q.T,o=ce.p,ce.p=2,q.T=null;try{for(var l=t.onRecoverableError,s=0;s<i.length;s++){var r=i[s];l(r.value,{componentStack:r.stack})}}finally{q.T=e,ce.p=o}}_n&3&&Cr(),ln(t),o=t.pendingLanes,n&261930&&o&42?t===uc?Ql++:(Ql=0,uc=t):Ql=0,_s(0)}}function m0(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Ts(e)))}function Cr(){return p0(),h0(),g0(),y0()}function y0(){if(Ue!==5)return!1;var t=oi,e=ac;ac=0;var n=jc(_n),i=q.T,o=ce.p;try{ce.p=32>n?32:n,q.T=null,n=rc,rc=null;var l=oi,s=_n;if(Ue=0,Xo=oi=null,_n=0,ue&6)throw Error(R(331));var r=ue;if(ue|=4,t0(l.current),Wy(l,l.current,s,n),ue=r,_s(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(gs,l)}catch{}return!0}finally{ce.p=o,q.T=i,m0(t,e)}}function fp(t,e,n){e=Rt(n,e),e=nc(t.stateNode,e,2),t=ni(t,e,2),t!==null&&(ys(t,2),ln(t))}function de(t,e,n){if(t.tag===3)fp(t,t,n);else for(;e!==null;){if(e.tag===3){fp(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ii===null||!ii.has(i))){t=Rt(n,t),n=Dy(2),i=ni(e,n,2),i!==null&&(Ly(n,i,e,t),ys(i,2),ln(i));break}}e=e.return}}function cu(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new pE;var o=new Set;i.set(e,o)}else o=i.get(e),o===void 0&&(o=new Set,i.set(e,o));o.has(n)||(kf=!0,o.add(n),t=vE.bind(null,t,e,n),e.then(t,t))}function vE(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ge===t&&(ee&n)===n&&(Ae===4||Ae===3&&(ee&62914560)===ee&&300>gt()-Sr?!(ue&2)&&Qo(t,0):Of|=n,$o===ee&&($o=0)),ln(t)}function v0(t,e){e===0&&(e=um()),t=$i(t,e),t!==null&&(ys(t,e),ln(t))}function SE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),v0(t,n)}function TE(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(R(314))}i!==null&&i.delete(e),v0(t,n)}function EE(t,e){return Zc(t,e)}var Ha=null,yo=null,cc=!1,Ga=!1,fu=!1,Wn=0;function ln(t){t!==yo&&t.next===null&&(yo===null?Ha=yo=t:yo=yo.next=t),Ga=!0,cc||(cc=!0,_E())}function _s(t,e){if(!fu&&Ga){fu=!0;do for(var n=!1,i=Ha;i!==null;){if(t!==0){var o=i.pendingLanes;if(o===0)var l=0;else{var s=i.suspendedLanes,r=i.pingedLanes;l=(1<<31-yt(42|t)+1)-1,l&=o&~(s&~r),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(n=!0,dp(i,l))}else l=ee,l=rr(i,i===ge?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(l&3)||ms(i,l)||(n=!0,dp(i,l));i=i.next}while(n);fu=!1}}function CE(){S0()}function S0(){Ga=cc=!1;var t=0;Wn!==0&&LE()&&(t=Wn);for(var e=gt(),n=null,i=Ha;i!==null;){var o=i.next,l=T0(i,e);l===0?(i.next=null,n===null?Ha=o:n.next=o,o===null&&(yo=n)):(n=i,(t!==0||l&3)&&(Ga=!0)),i=o}Ue!==0&&Ue!==5||_s(t),Wn!==0&&(Wn=0)}function T0(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,l=t.pendingLanes&-62914561;0<l;){var s=31-yt(l),r=1<<s,c=o[s];c===-1?(!(r&n)||r&i)&&(o[s]=XS(r,e)):c<=e&&(t.expiredLanes|=r),l&=~r}if(e=ge,n=ee,n=rr(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(fe===2||fe===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Gr(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||ms(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Gr(i),jc(n)){case 2:case 8:n=am;break;case 32:n=Ea;break;case 268435456:n=rm;break;default:n=Ea}return i=E0.bind(null,t),n=Zc(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Gr(i),t.callbackPriority=2,t.callbackNode=null,2}function E0(t,e){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Cr()&&t.callbackNode!==n)return null;var i=ee;return i=rr(t,t===ge?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(s0(t,i,e),T0(t,gt()),t.callbackNode!=null&&t.callbackNode===n?E0.bind(null,t):null)}function dp(t,e){if(Cr())return null;s0(t,e,!0)}function _E(){kE(function(){ue&6?Zc(sm,CE):S0()})}function Hf(){if(Wn===0){var t=Jo;t===0&&(t=Us,Us<<=1,!(Us&261888)&&(Us=256)),Wn=t}return Wn}function pp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:na(""+t)}function hp(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function AE(t,e,n,i,o){if(e==="submit"&&n&&n.stateNode===o){var l=pp((o[rt]||null).action),s=i.submitter;s&&(e=(e=s[rt]||null)?pp(e.formAction):s.getAttribute("formAction"),e!==null&&(l=e,s=null));var r=new ur("action","action",null,i,o);t.push({event:r,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Wn!==0){var c=s?hp(o,s):new FormData(o);ec(n,{pending:!0,data:c,method:o.method,action:l},null,c)}}else typeof l=="function"&&(r.preventDefault(),c=s?hp(o,s):new FormData(o),ec(n,{pending:!0,data:c,method:o.method,action:l},l,c))},currentTarget:o}]})}}for(var du=0;du<Bu.length;du++){var pu=Bu[du],xE=pu.toLowerCase(),wE=pu[0].toUpperCase()+pu.slice(1);qt(xE,"on"+wE)}qt(Lm,"onAnimationEnd");qt(Um,"onAnimationIteration");qt(km,"onAnimationStart");qt("dblclick","onDoubleClick");qt("focusin","onFocus");qt("focusout","onBlur");qt(BT,"onTransitionRun");qt(qT,"onTransitionStart");qt(FT,"onTransitionCancel");qt(Om,"onTransitionEnd");qo("onMouseEnter",["mouseout","mouseover"]);qo("onMouseLeave",["mouseout","mouseover"]);qo("onPointerEnter",["pointerout","pointerover"]);qo("onPointerLeave",["pointerout","pointerover"]);Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rs));function C0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],o=i.event;i=i.listeners;e:{var l=void 0;if(e)for(var s=i.length-1;0<=s;s--){var r=i[s],c=r.instance,f=r.currentTarget;if(r=r.listener,c!==l&&o.isPropagationStopped())break e;l=r,o.currentTarget=f;try{l(o)}catch(d){_a(d)}o.currentTarget=null,l=c}else for(s=0;s<i.length;s++){if(r=i[s],c=r.instance,f=r.currentTarget,r=r.listener,c!==l&&o.isPropagationStopped())break e;l=r,o.currentTarget=f;try{l(o)}catch(d){_a(d)}o.currentTarget=null,l=c}}}}function W(t,e){var n=e[Uu];n===void 0&&(n=e[Uu]=new Set);var i=t+"__bubble";n.has(i)||(_0(e,t,2,!1),n.add(i))}function hu(t,e,n){var i=0;e&&(i|=4),_0(n,t,i,e)}var Fs="_reactListening"+Math.random().toString(36).slice(2);function Gf(t){if(!t[Fs]){t[Fs]=!0,hm.forEach(function(n){n!=="selectionchange"&&(bE.has(n)||hu(n,!1,t),hu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fs]||(e[Fs]=!0,hu("selectionchange",!1,e))}}function _0(t,e,n,i){switch(O0(e)){case 2:var o=tC;break;case 8:o=nC;break;default:o=qf}n=o.bind(null,e,n,t),o=void 0,!Gu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),i?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function gu(t,e,n,i,o){var l=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var r=i.stateNode.containerInfo;if(r===o)break;if(s===4)for(s=i.return;s!==null;){var c=s.tag;if((c===3||c===4)&&s.stateNode.containerInfo===o)return;s=s.return}for(;r!==null;){if(s=Eo(r),s===null)return;if(c=s.tag,c===5||c===6||c===26||c===27){i=l=s;continue e}r=r.parentNode}}i=i.return}Cm(function(){var f=l,d=nf(n),h=[];e:{var p=Pm.get(t);if(p!==void 0){var g=ur,v=t;switch(t){case"keypress":if(oa(n)===0)break e;case"keydown":case"keyup":g=TT;break;case"focusin":v="focus",g=Fr;break;case"focusout":v="blur",g=Fr;break;case"beforeblur":case"afterblur":g=Fr;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Cd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=rT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=_T;break;case Lm:case Um:case km:g=fT;break;case Om:g=xT;break;case"scroll":case"scrollend":g=sT;break;case"wheel":g=bT;break;case"copy":case"cut":case"paste":g=pT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ad;break;case"toggle":case"beforetoggle":g=NT}var E=(e&4)!==0,_=!E&&(t==="scroll"||t==="scrollend"),y=E?p!==null?p+"Capture":null:p;E=[];for(var m=f,T;m!==null;){var C=m;if(T=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||T===null||y===null||(C=es(m,y),C!=null&&E.push(us(m,C,T))),_)break;m=m.return}0<E.length&&(p=new g(p,v,null,n,d),h.push({event:p,listeners:E}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Hu&&(v=n.relatedTarget||n.fromElement)&&(Eo(v)||v[el]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=f,v=v?Eo(v):null,v!==null&&(_=hs(v),E=v.tag,v!==_||E!==5&&E!==27&&E!==6)&&(v=null)):(g=null,v=f),g!==v)){if(E=Cd,C="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(E=Ad,C="onPointerLeave",y="onPointerEnter",m="pointer"),_=g==null?p:Ul(g),T=v==null?p:Ul(v),p=new E(C,m+"leave",g,n,d),p.target=_,p.relatedTarget=T,C=null,Eo(d)===f&&(E=new E(y,m+"enter",v,n,d),E.target=T,E.relatedTarget=_,C=E),_=C,g&&v)t:{for(E=RE,y=g,m=v,T=0,C=y;C;C=E(C))T++;C=0;for(var x=m;x;x=E(x))C++;for(;0<T-C;)y=E(y),T--;for(;0<C-T;)m=E(m),C--;for(;T--;){if(y===m||m!==null&&y===m.alternate){E=y;break t}y=E(y),m=E(m)}E=null}else E=null;g!==null&&gp(h,p,g,E,!1),v!==null&&_!==null&&gp(h,_,v,E,!0)}}e:{if(p=f?Ul(f):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var M=Rd;else if(bd(p))if(Rm)M=GT;else{M=PT;var A=OT}else g=p.nodeName,!g||g.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?f&&tf(f.elementType)&&(M=Rd):M=HT;if(M&&(M=M(t,f))){bm(h,M,n,d);break e}A&&A(t,p,f),t==="focusout"&&f&&p.type==="number"&&f.memoizedProps.value!=null&&Pu(p,"number",p.value)}switch(A=f?Ul(f):window,t){case"focusin":(bd(A)||A.contentEditable==="true")&&(Ao=A,Vu=f,zl=null);break;case"focusout":zl=Vu=Ao=null;break;case"mousedown":zu=!0;break;case"contextmenu":case"mouseup":case"dragend":zu=!1,Ld(h,n,d);break;case"selectionchange":if(zT)break;case"keydown":case"keyup":Ld(h,n,d)}var N;if(sf)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else _o?xm(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Am&&n.locale!=="ko"&&(_o||b!=="onCompositionStart"?b==="onCompositionEnd"&&_o&&(N=_m()):(Xn=d,of="value"in Xn?Xn.value:Xn.textContent,_o=!0)),A=Va(f,b),0<A.length&&(b=new _d(b,t,null,n,d),h.push({event:b,listeners:A}),N?b.data=N:(N=wm(n),N!==null&&(b.data=N)))),(N=IT?DT(t,n):LT(t,n))&&(b=Va(f,"onBeforeInput"),0<b.length&&(A=new _d("onBeforeInput","beforeinput",null,n,d),h.push({event:A,listeners:b}),A.data=N)),AE(h,t,f,n,d)}C0(h,e)})}function us(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Va(t,e){for(var n=e+"Capture",i=[];t!==null;){var o=t,l=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||l===null||(o=es(t,n),o!=null&&i.unshift(us(t,o,l)),o=es(t,e),o!=null&&i.push(us(t,o,l))),t.tag===3)return i;t=t.return}return[]}function RE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function gp(t,e,n,i,o){for(var l=e._reactName,s=[];n!==null&&n!==i;){var r=n,c=r.alternate,f=r.stateNode;if(r=r.tag,c!==null&&c===i)break;r!==5&&r!==26&&r!==27||f===null||(c=f,o?(f=es(n,l),f!=null&&s.unshift(us(n,f,c))):o||(f=es(n,l),f!=null&&s.push(us(n,f,c)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var NE=/\r\n?/g,ME=/\u0000|\uFFFD/g;function mp(t){return(typeof t=="string"?t:""+t).replace(NE,`
`).replace(ME,"")}function A0(t,e){return e=mp(e),mp(t)===e}function pe(t,e,n,i,o,l){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Fo(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Fo(t,""+i);break;case"className":Ps(t,"class",i);break;case"tabIndex":Ps(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ps(t,n,i);break;case"style":Em(t,i,l);break;case"data":if(e!=="object"){Ps(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=na(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof l=="function"&&(n==="formAction"?(e!=="input"&&pe(t,e,"name",o.name,o,null),pe(t,e,"formEncType",o.formEncType,o,null),pe(t,e,"formMethod",o.formMethod,o,null),pe(t,e,"formTarget",o.formTarget,o,null)):(pe(t,e,"encType",o.encType,o,null),pe(t,e,"method",o.method,o,null),pe(t,e,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=na(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=Sn);break;case"onScroll":i!=null&&W("scroll",t);break;case"onScrollEnd":i!=null&&W("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(R(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(R(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=na(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":W("beforetoggle",t),W("toggle",t),ta(t,"popover",i);break;case"xlinkActuate":fn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":fn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":fn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":fn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":fn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":fn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":fn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":fn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":fn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ta(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=oT.get(n)||n,ta(t,n,i))}}function fc(t,e,n,i,o,l){switch(n){case"style":Em(t,i,l);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(R(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(R(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Fo(t,i):(typeof i=="number"||typeof i=="bigint")&&Fo(t,""+i);break;case"onScroll":i!=null&&W("scroll",t);break;case"onScrollEnd":i!=null&&W("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gm.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),e=n.slice(2,o?n.length-7:void 0),l=t[rt]||null,l=l!=null?l[n]:null,typeof l=="function"&&t.removeEventListener(e,l,o),typeof i=="function")){typeof l!="function"&&l!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,o);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):ta(t,n,i)}}}function Je(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":W("error",t),W("load",t);var i=!1,o=!1,l;for(l in n)if(n.hasOwnProperty(l)){var s=n[l];if(s!=null)switch(l){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(R(137,e));default:pe(t,e,l,s,n,null)}}o&&pe(t,e,"srcSet",n.srcSet,n,null),i&&pe(t,e,"src",n.src,n,null);return;case"input":W("invalid",t);var r=l=s=o=null,c=null,f=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":o=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":f=d;break;case"value":l=d;break;case"defaultValue":r=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(R(137,e));break;default:pe(t,e,i,d,n,null)}}vm(t,l,r,c,f,s,o,!1);return;case"select":W("invalid",t),i=s=l=null;for(o in n)if(n.hasOwnProperty(o)&&(r=n[o],r!=null))switch(o){case"value":l=r;break;case"defaultValue":s=r;break;case"multiple":i=r;default:pe(t,e,o,r,n,null)}e=l,n=s,t.multiple=!!i,e!=null?Uo(t,!!i,e,!1):n!=null&&Uo(t,!!i,n,!0);return;case"textarea":W("invalid",t),l=o=i=null;for(s in n)if(n.hasOwnProperty(s)&&(r=n[s],r!=null))switch(s){case"value":i=r;break;case"defaultValue":o=r;break;case"children":l=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(R(91));break;default:pe(t,e,s,r,n,null)}Tm(t,i,o,l);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:pe(t,e,c,i,n,null)}return;case"dialog":W("beforetoggle",t),W("toggle",t),W("cancel",t),W("close",t);break;case"iframe":case"object":W("load",t);break;case"video":case"audio":for(i=0;i<rs.length;i++)W(rs[i],t);break;case"image":W("error",t),W("load",t);break;case"details":W("toggle",t);break;case"embed":case"source":case"link":W("error",t),W("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in n)if(n.hasOwnProperty(f)&&(i=n[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(R(137,e));default:pe(t,e,f,i,n,null)}return;default:if(tf(e)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&fc(t,e,d,i,n,void 0));return}}for(r in n)n.hasOwnProperty(r)&&(i=n[r],i!=null&&pe(t,e,r,i,n,null))}function IE(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,l=null,s=null,r=null,c=null,f=null,d=null;for(g in n){var h=n[g];if(n.hasOwnProperty(g)&&h!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":c=h;default:i.hasOwnProperty(g)||pe(t,e,g,null,i,h)}}for(var p in i){var g=i[p];if(h=n[p],i.hasOwnProperty(p)&&(g!=null||h!=null))switch(p){case"type":l=g;break;case"name":o=g;break;case"checked":f=g;break;case"defaultChecked":d=g;break;case"value":s=g;break;case"defaultValue":r=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(R(137,e));break;default:g!==h&&pe(t,e,p,g,i,h)}}Ou(t,s,r,c,f,d,l,o);return;case"select":g=s=r=p=null;for(l in n)if(c=n[l],n.hasOwnProperty(l)&&c!=null)switch(l){case"value":break;case"multiple":g=c;default:i.hasOwnProperty(l)||pe(t,e,l,null,i,c)}for(o in i)if(l=i[o],c=n[o],i.hasOwnProperty(o)&&(l!=null||c!=null))switch(o){case"value":p=l;break;case"defaultValue":r=l;break;case"multiple":s=l;default:l!==c&&pe(t,e,o,l,i,c)}e=r,n=s,i=g,p!=null?Uo(t,!!n,p,!1):!!i!=!!n&&(e!=null?Uo(t,!!n,e,!0):Uo(t,!!n,n?[]:"",!1));return;case"textarea":g=p=null;for(r in n)if(o=n[r],n.hasOwnProperty(r)&&o!=null&&!i.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:pe(t,e,r,null,i,o)}for(s in i)if(o=i[s],l=n[s],i.hasOwnProperty(s)&&(o!=null||l!=null))switch(s){case"value":p=o;break;case"defaultValue":g=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(R(91));break;default:o!==l&&pe(t,e,s,o,i,l)}Sm(t,p,g);return;case"option":for(var v in n)if(p=n[v],n.hasOwnProperty(v)&&p!=null&&!i.hasOwnProperty(v))switch(v){case"selected":t.selected=!1;break;default:pe(t,e,v,null,i,p)}for(c in i)if(p=i[c],g=n[c],i.hasOwnProperty(c)&&p!==g&&(p!=null||g!=null))switch(c){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:pe(t,e,c,p,i,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var E in n)p=n[E],n.hasOwnProperty(E)&&p!=null&&!i.hasOwnProperty(E)&&pe(t,e,E,null,i,p);for(f in i)if(p=i[f],g=n[f],i.hasOwnProperty(f)&&p!==g&&(p!=null||g!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(R(137,e));break;default:pe(t,e,f,p,i,g)}return;default:if(tf(e)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!i.hasOwnProperty(_)&&fc(t,e,_,void 0,i,p);for(d in i)p=i[d],g=n[d],!i.hasOwnProperty(d)||p===g||p===void 0&&g===void 0||fc(t,e,d,p,i,g);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&p!=null&&!i.hasOwnProperty(y)&&pe(t,e,y,null,i,p);for(h in i)p=i[h],g=n[h],!i.hasOwnProperty(h)||p===g||p==null&&g==null||pe(t,e,h,p,i,g)}function yp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var o=n[i],l=o.transferSize,s=o.initiatorType,r=o.duration;if(l&&r&&yp(s)){for(s=0,r=o.responseEnd,i+=1;i<n.length;i++){var c=n[i],f=c.startTime;if(f>r)break;var d=c.transferSize,h=c.initiatorType;d&&yp(h)&&(c=c.responseEnd,s+=d*(c<r?1:(r-f)/(c-f)))}if(--i,e+=8*(l+s)/(o.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var dc=null,pc=null;function za(t){return t.nodeType===9?t:t.ownerDocument}function vp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x0(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function hc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mu=null;function LE(){var t=window.event;return t&&t.type==="popstate"?t===mu?!1:(mu=t,!0):(mu=null,!1)}var w0=typeof setTimeout=="function"?setTimeout:void 0,UE=typeof clearTimeout=="function"?clearTimeout:void 0,Sp=typeof Promise=="function"?Promise:void 0,kE=typeof queueMicrotask=="function"?queueMicrotask:typeof Sp<"u"?function(t){return Sp.resolve(null).then(t).catch(OE)}:w0;function OE(t){setTimeout(function(){throw t})}function pi(t){return t==="head"}function Tp(t,e){var n=e,i=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(o),Wo(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Zl(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Zl(n);for(var l=n.firstChild;l;){var s=l.nextSibling,r=l.nodeName;l[vs]||r==="SCRIPT"||r==="STYLE"||r==="LINK"&&l.rel.toLowerCase()==="stylesheet"||n.removeChild(l),l=s}}else n==="body"&&Zl(t.ownerDocument.body);n=o}while(n);Wo(e)}function Ep(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function gc(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gc(n),ef(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function PE(t,e,n,i){for(;t.nodeType===1;){var o=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[vs])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(l=t.getAttribute("rel"),l==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(l!==o.rel||t.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||t.getAttribute("title")!==(o.title==null?null:o.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(l=t.getAttribute("src"),(l!==(o.src==null?null:o.src)||t.getAttribute("type")!==(o.type==null?null:o.type)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&l&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var l=o.name==null?null:""+o.name;if(o.type==="hidden"&&t.getAttribute("name")===l)return t}else return t;if(t=It(t.nextSibling),t===null)break}return null}function HE(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=It(t.nextSibling),t===null))return null;return t}function b0(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=It(t.nextSibling),t===null))return null;return t}function mc(t){return t.data==="$?"||t.data==="$~"}function yc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function GE(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function It(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var vc=null;function Cp(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return It(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function _p(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function R0(t,e,n){switch(e=za(n),t){case"html":if(t=e.documentElement,!t)throw Error(R(452));return t;case"head":if(t=e.head,!t)throw Error(R(453));return t;case"body":if(t=e.body,!t)throw Error(R(454));return t;default:throw Error(R(451))}}function Zl(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);ef(t)}var Lt=new Map,Ap=new Set;function Ba(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Mn=ce.d;ce.d={f:VE,r:zE,D:BE,C:qE,L:FE,m:JE,X:KE,S:YE,M:$E};function VE(){var t=Mn.f(),e=Tr();return t||e}function zE(t){var e=tl(t);e!==null&&e.tag===5&&e.type==="form"?Ey(e):Mn.r(t)}var ll=typeof document>"u"?null:document;function N0(t,e,n){var i=ll;if(i&&typeof e=="string"&&e){var o=bt(e);o='link[rel="'+t+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),Ap.has(o)||(Ap.add(o),t={rel:t,crossOrigin:n,href:e},i.querySelector(o)===null&&(e=i.createElement("link"),Je(e,"link",t),Pe(e),i.head.appendChild(e)))}}function BE(t){Mn.D(t),N0("dns-prefetch",t,null)}function qE(t,e){Mn.C(t,e),N0("preconnect",t,e)}function FE(t,e,n){Mn.L(t,e,n);var i=ll;if(i&&t&&e){var o='link[rel="preload"][as="'+bt(e)+'"]';e==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+bt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+bt(n.imageSizes)+'"]')):o+='[href="'+bt(t)+'"]';var l=o;switch(e){case"style":l=Zo(t);break;case"script":l=sl(t)}Lt.has(l)||(t=Te({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Lt.set(l,t),i.querySelector(o)!==null||e==="style"&&i.querySelector(As(l))||e==="script"&&i.querySelector(xs(l))||(e=i.createElement("link"),Je(e,"link",t),Pe(e),i.head.appendChild(e)))}}function JE(t,e){Mn.m(t,e);var n=ll;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",o='link[rel="modulepreload"][as="'+bt(i)+'"][href="'+bt(t)+'"]',l=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=sl(t)}if(!Lt.has(l)&&(t=Te({rel:"modulepreload",href:t},e),Lt.set(l,t),n.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(xs(l)))return}i=n.createElement("link"),Je(i,"link",t),Pe(i),n.head.appendChild(i)}}}function YE(t,e,n){Mn.S(t,e,n);var i=ll;if(i&&t){var o=Lo(i).hoistableStyles,l=Zo(t);e=e||"default";var s=o.get(l);if(!s){var r={loading:0,preload:null};if(s=i.querySelector(As(l)))r.loading=5;else{t=Te({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Lt.get(l))&&Vf(t,n);var c=s=i.createElement("link");Pe(c),Je(c,"link",t),c._p=new Promise(function(f,d){c.onload=f,c.onerror=d}),c.addEventListener("load",function(){r.loading|=1}),c.addEventListener("error",function(){r.loading|=2}),r.loading|=4,da(s,e,i)}s={type:"stylesheet",instance:s,count:1,state:r},o.set(l,s)}}}function KE(t,e){Mn.X(t,e);var n=ll;if(n&&t){var i=Lo(n).hoistableScripts,o=sl(t),l=i.get(o);l||(l=n.querySelector(xs(o)),l||(t=Te({src:t,async:!0},e),(e=Lt.get(o))&&zf(t,e),l=n.createElement("script"),Pe(l),Je(l,"link",t),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},i.set(o,l))}}function $E(t,e){Mn.M(t,e);var n=ll;if(n&&t){var i=Lo(n).hoistableScripts,o=sl(t),l=i.get(o);l||(l=n.querySelector(xs(o)),l||(t=Te({src:t,async:!0,type:"module"},e),(e=Lt.get(o))&&zf(t,e),l=n.createElement("script"),Pe(l),Je(l,"link",t),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},i.set(o,l))}}function xp(t,e,n,i){var o=(o=jn.current)?Ba(o):null;if(!o)throw Error(R(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Zo(n.href),n=Lo(o).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Zo(n.href);var l=Lo(o).hoistableStyles,s=l.get(t);if(s||(o=o.ownerDocument||o,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},l.set(t,s),(l=o.querySelector(As(t)))&&!l._p&&(s.instance=l,s.state.loading=5),Lt.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Lt.set(t,n),l||XE(o,t,n,s.state))),e&&i===null)throw Error(R(528,""));return s}if(e&&i!==null)throw Error(R(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=sl(n),n=Lo(o).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(R(444,t))}}function Zo(t){return'href="'+bt(t)+'"'}function As(t){return'link[rel="stylesheet"]['+t+"]"}function M0(t){return Te({},t,{"data-precedence":t.precedence,precedence:null})}function XE(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),Je(e,"link",n),Pe(e),t.head.appendChild(e))}function sl(t){return'[src="'+bt(t)+'"]'}function xs(t){return"script[async]"+t}function wp(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+bt(n.href)+'"]');if(i)return e.instance=i,Pe(i),i;var o=Te({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Pe(i),Je(i,"style",o),da(i,n.precedence,t),e.instance=i;case"stylesheet":o=Zo(n.href);var l=t.querySelector(As(o));if(l)return e.state.loading|=4,e.instance=l,Pe(l),l;i=M0(n),(o=Lt.get(o))&&Vf(i,o),l=(t.ownerDocument||t).createElement("link"),Pe(l);var s=l;return s._p=new Promise(function(r,c){s.onload=r,s.onerror=c}),Je(l,"link",i),e.state.loading|=4,da(l,n.precedence,t),e.instance=l;case"script":return l=sl(n.src),(o=t.querySelector(xs(l)))?(e.instance=o,Pe(o),o):(i=n,(o=Lt.get(l))&&(i=Te({},n),zf(i,o)),t=t.ownerDocument||t,o=t.createElement("script"),Pe(o),Je(o,"link",i),t.head.appendChild(o),e.instance=o);case"void":return null;default:throw Error(R(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,da(i,n.precedence,t));return e.instance}function da(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,l=o,s=0;s<i.length;s++){var r=i[s];if(r.dataset.precedence===e)l=r;else if(l!==o)break}l?l.parentNode.insertBefore(t,l.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Vf(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function zf(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var pa=null;function bp(t,e,n){if(pa===null){var i=new Map,o=pa=new Map;o.set(n,i)}else o=pa,i=o.get(n),i||(i=new Map,o.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),o=0;o<n.length;o++){var l=n[o];if(!(l[vs]||l[Be]||t==="link"&&l.getAttribute("rel")==="stylesheet")&&l.namespaceURI!=="http://www.w3.org/2000/svg"){var s=l.getAttribute(e)||"";s=t+s;var r=i.get(s);r?r.push(l):i.set(s,[l])}}return i}function Rp(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function QE(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function I0(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function ZE(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var o=Zo(i.href),l=e.querySelector(As(o));if(l){e=l._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=qa.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=l,Pe(l);return}l=e.ownerDocument||e,i=M0(i),(o=Lt.get(o))&&Vf(i,o),l=l.createElement("link"),Pe(l);var s=l;s._p=new Promise(function(r,c){s.onload=r,s.onerror=c}),Je(l,"link",i),n.instance=l}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=qa.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var yu=0;function WE(t,e){return t.stylesheets&&t.count===0&&ha(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&ha(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4+e);0<t.imgBytes&&yu===0&&(yu=62500*DE());var o=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ha(t,t.stylesheets),t.unsuspend)){var l=t.unsuspend;t.unsuspend=null,l()}},(t.imgBytes>yu?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function qa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ha(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Fa=null;function ha(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Fa=new Map,e.forEach(jE,t),Fa=null,qa.call(t))}function jE(t,e){if(!(e.state.loading&4)){var n=Fa.get(t);if(n)var i=n.get(null);else{n=new Map,Fa.set(t,n);for(var o=t.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<o.length;l++){var s=o[l];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}o=e.instance,s=o.getAttribute("data-precedence"),l=n.get(s)||i,l===i&&n.set(null,o),n.set(s,o),this.count++,i=qa.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),l?l.parentNode.insertBefore(o,l.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(o,t.firstChild)),e.state.loading|=4}}var cs={$$typeof:vn,Provider:null,Consumer:null,_currentValue:Li,_currentValue2:Li,_threadCount:0};function eC(t,e,n,i,o,l,s,r,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vr(0),this.hiddenUpdates=Vr(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=l,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function D0(t,e,n,i,o,l,s,r,c,f,d,h){return t=new eC(t,e,n,s,c,f,d,h,r),e=1,l===!0&&(e|=24),l=pt(3,null,null,e),t.current=l,l.stateNode=t,e=pf(),e.refCount++,t.pooledCache=e,e.refCount++,l.memoizedState={element:i,isDehydrated:n,cache:e},mf(l),t}function L0(t){return t?(t=bo,t):bo}function U0(t,e,n,i,o,l){o=L0(o),i.context===null?i.context=o:i.pendingContext=o,i=ti(e),i.payload={element:n},l=l===void 0?null:l,l!==null&&(i.callback=l),n=ni(t,i,e),n!==null&&(at(n,t,e),ql(n,t,e))}function Np(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bf(t,e){Np(t,e),(t=t.alternate)&&Np(t,e)}function k0(t){if(t.tag===13||t.tag===31){var e=$i(t,67108864);e!==null&&at(e,t,67108864),Bf(t,67108864)}}function Mp(t){if(t.tag===13||t.tag===31){var e=vt();e=Wc(e);var n=$i(t,e);n!==null&&at(n,t,e),Bf(t,e)}}var Ja=!0;function tC(t,e,n,i){var o=q.T;q.T=null;var l=ce.p;try{ce.p=2,qf(t,e,n,i)}finally{ce.p=l,q.T=o}}function nC(t,e,n,i){var o=q.T;q.T=null;var l=ce.p;try{ce.p=8,qf(t,e,n,i)}finally{ce.p=l,q.T=o}}function qf(t,e,n,i){if(Ja){var o=Sc(i);if(o===null)gu(t,e,i,Ya,n),Ip(t,i);else if(oC(o,t,e,n,i))i.stopPropagation();else if(Ip(t,i),e&4&&-1<iC.indexOf(t)){for(;o!==null;){var l=tl(o);if(l!==null)switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var s=Ni(l.pendingLanes);if(s!==0){var r=l;for(r.pendingLanes|=2,r.entangledLanes|=2;s;){var c=1<<31-yt(s);r.entanglements[1]|=c,s&=~c}ln(l),!(ue&6)&&(ka=gt()+500,_s(0))}}break;case 31:case 13:r=$i(l,2),r!==null&&at(r,l,2),Tr(),Bf(l,2)}if(l=Sc(i),l===null&&gu(t,e,i,Ya,n),l===o)break;o=l}o!==null&&i.stopPropagation()}else gu(t,e,i,null,n)}}function Sc(t){return t=nf(t),Ff(t)}var Ya=null;function Ff(t){if(Ya=null,t=Eo(t),t!==null){var e=hs(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=tm(e),t!==null)return t;t=null}else if(n===31){if(t=nm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Ya=t,null}function O0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(BS()){case sm:return 2;case am:return 8;case Ea:case qS:return 32;case rm:return 268435456;default:return 32}default:return 32}}var Tc=!1,li=null,si=null,ai=null,fs=new Map,ds=new Map,Kn=[],iC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ip(t,e){switch(t){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":ai=null;break;case"pointerover":case"pointerout":fs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ds.delete(e.pointerId)}}function Rl(t,e,n,i,o,l){return t===null||t.nativeEvent!==l?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:l,targetContainers:[o]},e!==null&&(e=tl(e),e!==null&&k0(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function oC(t,e,n,i,o){switch(e){case"focusin":return li=Rl(li,t,e,n,i,o),!0;case"dragenter":return si=Rl(si,t,e,n,i,o),!0;case"mouseover":return ai=Rl(ai,t,e,n,i,o),!0;case"pointerover":var l=o.pointerId;return fs.set(l,Rl(fs.get(l)||null,t,e,n,i,o)),!0;case"gotpointercapture":return l=o.pointerId,ds.set(l,Rl(ds.get(l)||null,t,e,n,i,o)),!0}return!1}function P0(t){var e=Eo(t.target);if(e!==null){var n=hs(e);if(n!==null){if(e=n.tag,e===13){if(e=tm(n),e!==null){t.blockedOn=e,gd(t.priority,function(){Mp(n)});return}}else if(e===31){if(e=nm(n),e!==null){t.blockedOn=e,gd(t.priority,function(){Mp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ga(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Sc(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Hu=i,n.target.dispatchEvent(i),Hu=null}else return e=tl(n),e!==null&&k0(e),t.blockedOn=n,!1;e.shift()}return!0}function Dp(t,e,n){ga(t)&&n.delete(e)}function lC(){Tc=!1,li!==null&&ga(li)&&(li=null),si!==null&&ga(si)&&(si=null),ai!==null&&ga(ai)&&(ai=null),fs.forEach(Dp),ds.forEach(Dp)}function Js(t,e){t.blockedOn===e&&(t.blockedOn=null,Tc||(Tc=!0,ke.unstable_scheduleCallback(ke.unstable_NormalPriority,lC)))}var Ys=null;function Lp(t){Ys!==t&&(Ys=t,ke.unstable_scheduleCallback(ke.unstable_NormalPriority,function(){Ys===t&&(Ys=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],o=t[e+2];if(typeof i!="function"){if(Ff(i||n)===null)continue;break}var l=tl(n);l!==null&&(t.splice(e,3),e-=3,ec(l,{pending:!0,data:o,method:n.method,action:i},i,o))}}))}function Wo(t){function e(c){return Js(c,t)}li!==null&&Js(li,t),si!==null&&Js(si,t),ai!==null&&Js(ai,t),fs.forEach(e),ds.forEach(e);for(var n=0;n<Kn.length;n++){var i=Kn[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Kn.length&&(n=Kn[0],n.blockedOn===null);)P0(n),n.blockedOn===null&&Kn.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var o=n[i],l=n[i+1],s=o[rt]||null;if(typeof l=="function")s||Lp(n);else if(s){var r=null;if(l&&l.hasAttribute("formAction")){if(o=l,s=l[rt]||null)r=s.formAction;else if(Ff(o)!==null)continue}else r=s.action;typeof r=="function"?n[i+1]=r:(n.splice(i,3),i-=3),Lp(n)}}}function H0(){function t(l){l.canIntercept&&l.info==="react-transition"&&l.intercept({handler:function(){return new Promise(function(s){return o=s})},focusReset:"manual",scroll:"manual"})}function e(){o!==null&&(o(),o=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var l=navigation.currentEntry;l&&l.url!=null&&navigation.navigate(l.url,{state:l.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),o!==null&&(o(),o=null)}}}function Jf(t){this._internalRoot=t}_r.prototype.render=Jf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));var n=e.current,i=vt();U0(n,i,t,e,null,null)};_r.prototype.unmount=Jf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;U0(t.current,2,null,t,null,null),Tr(),e[el]=null}};function _r(t){this._internalRoot=t}_r.prototype.unstable_scheduleHydration=function(t){if(t){var e=pm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Kn.length&&e!==0&&e<Kn[n].priority;n++);Kn.splice(n,0,t),n===0&&P0(t)}};var Up=jg.version;if(Up!=="19.2.3")throw Error(R(527,Up,"19.2.3"));ce.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=kS(e),t=t!==null?im(t):null,t=t===null?null:t.stateNode,t};var sC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ks=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ks.isDisabled&&Ks.supportsFiber)try{gs=Ks.inject(sC),mt=Ks}catch{}}sr.createRoot=function(t,e){if(!em(t))throw Error(R(299));var n=!1,i="",o=Ny,l=My,s=Iy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(o=e.onUncaughtError),e.onCaughtError!==void 0&&(l=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=D0(t,1,!1,null,null,n,i,null,o,l,s,H0),t[el]=e.current,Gf(t),new Jf(e)};sr.hydrateRoot=function(t,e,n){if(!em(t))throw Error(R(299));var i=!1,o="",l=Ny,s=My,r=Iy,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(l=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(r=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),e=D0(t,1,!0,e,n??null,i,o,c,l,s,r,H0),e.context=L0(null),n=e.current,i=vt(),i=Wc(i),o=ti(i),o.callback=null,ni(n,o,i),n=i,e.current.lanes=n,ys(e,n),ln(e),t[el]=e.current,Gf(t),new _r(e)};sr.version="19.2.3";function G0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(G0)}catch(t){console.error(t)}}G0(),Kg.exports=sr;var aC=Kg.exports;const rC=Pg(aC),uC=(t,e,n,i)=>{var l,s,r,c;const o=[n,{code:e,...i||{}}];if((s=(l=t==null?void 0:t.services)==null?void 0:l.logger)!=null&&s.forward)return t.services.logger.forward(o,"warn","react-i18next::",!0);Hi(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),(c=(r=t==null?void 0:t.services)==null?void 0:r.logger)!=null&&c.warn?t.services.logger.warn(...o):console!=null&&console.warn&&console.warn(...o)},kp={},Ec=(t,e,n,i)=>{Hi(n)&&kp[n]||(Hi(n)&&(kp[n]=new Date),uC(t,e,n,i))},V0=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Cc=(t,e,n)=>{t.loadNamespaces(e,V0(t,n))},Op=(t,e,n,i)=>{if(Hi(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Cc(t,n,i);n.forEach(o=>{t.options.ns.indexOf(o)<0&&t.options.ns.push(o)}),t.loadLanguages(e,V0(t,i))},cC=(t,e,n={})=>!e.languages||!e.languages.length?(Ec(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(i,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!o(i.isLanguageChangingTo,t))return!1}}),Hi=t=>typeof t=="string",fC=t=>typeof t=="object"&&t!==null,dC=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,pC={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},hC=t=>pC[t],gC=t=>t.replace(dC,hC);let _c={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:gC};const mC=(t={})=>{_c={..._c,...t}},yC=()=>_c;let z0;const vC=t=>{z0=t},SC=()=>z0,TC={type:"3rdParty",init(t){mC(t.options.react),vC(t)}},EC=w.createContext();class CC{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const _C=(t,e)=>{const n=w.useRef();return w.useEffect(()=>{n.current=t},[t,e]),n.current},B0=(t,e,n,i)=>t.getFixedT(e,n,i),AC=(t,e,n,i)=>w.useCallback(B0(t,e,n,i),[t,e,n,i]),Qi=(t,e={})=>{var C,x,M,A;const{i18n:n}=e,{i18n:i,defaultNS:o}=w.useContext(EC)||{},l=n||i||SC();if(l&&!l.reportNamespaces&&(l.reportNamespaces=new CC),!l){Ec(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const N=(L,z)=>Hi(z)?z:fC(z)&&Hi(z.defaultValue)?z.defaultValue:Array.isArray(L)?L[L.length-1]:L,b=[N,{},!1];return b.t=N,b.i18n={},b.ready=!1,b}(C=l.options.react)!=null&&C.wait&&Ec(l,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...yC(),...l.options.react,...e},{useSuspense:r,keyPrefix:c}=s;let f=o||((x=l.options)==null?void 0:x.defaultNS);f=Hi(f)?[f]:f||["translation"],(A=(M=l.reportNamespaces).addUsedNamespaces)==null||A.call(M,f);const d=(l.isInitialized||l.initializedStoreOnce)&&f.every(N=>cC(N,l,s)),h=AC(l,e.lng||null,s.nsMode==="fallback"?f:f[0],c),p=()=>h,g=()=>B0(l,e.lng||null,s.nsMode==="fallback"?f:f[0],c),[v,E]=w.useState(p);let _=f.join();e.lng&&(_=`${e.lng}${_}`);const y=_C(_),m=w.useRef(!0);w.useEffect(()=>{const{bindI18n:N,bindI18nStore:b}=s;m.current=!0,!d&&!r&&(e.lng?Op(l,e.lng,f,()=>{m.current&&E(g)}):Cc(l,f,()=>{m.current&&E(g)})),d&&y&&y!==_&&m.current&&E(g);const L=()=>{m.current&&E(g)};return N&&(l==null||l.on(N,L)),b&&(l==null||l.store.on(b,L)),()=>{m.current=!1,l&&N&&(N==null||N.split(" ").forEach(z=>l.off(z,L))),b&&l&&b.split(" ").forEach(z=>l.store.off(z,L))}},[l,_]),w.useEffect(()=>{m.current&&d&&E(p)},[l,c,d]);const T=[v,l,d];if(T.t=v,T.i18n=l,T.ready=d,d||!d&&!r)return T;throw new Promise(N=>{e.lng?Op(l,e.lng,f,()=>N()):Cc(l,f,()=>N())})},Ka=[{code:"auto",name:"languages.autoDetect"},{code:"en",name:"languages.english"},{code:"zh-TW",name:"languages.chineseTraditional"},{code:"zh-HK",name:"languages.chineseTraditionalHK"},{code:"zh-CN",name:"languages.chineseSimplified"},{code:"es",name:"languages.spanish"},{code:"ja",name:"languages.japanese"},{code:"fr",name:"languages.french"},{code:"de",name:"languages.german"},{code:"ko",name:"languages.korean"},{code:"ru",name:"languages.russian"},{code:"pt",name:"languages.portuguese"},{code:"it",name:"languages.italian"}],$a=[{name:"Gemma-3n-E2B (3.04 GB)",value:"gemma-3n-E2B-it-int4-Web.litertlm",url:"https://huggingface.co/willopcbeta/Gemma-3n-Web/resolve/main/gemma-3n-E2B-it-int4-Web.litertlm"},{name:"Gemma-3n-E4B (4.28 GB)",value:"gemma-3n-E4B-it-int4-Web.litertlm",url:"https://huggingface.co/willopcbeta/Gemma-3n-Web/resolve/main/gemma-3n-E4B-it-int4-Web.litertlm"}],xC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})}),wC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4a4 4 0 100 8 4 4 0 000-8zM8 21v-2a4 4 0 014-4h0a4 4 0 014 4v2"})}),bC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4a4 4 0 100 8 4 4 0 000-8zM6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"})}),RC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),NC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),MC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),IC=t=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),DC=t=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),LC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5h12M9 3v2m4 13-4-4-4 4M5 11h10a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2a2 2 0 012-2zM19 9l-2 2-2-2"})}),ws=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),UC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16V4m0 12L4 9m3 3l3-3m6 8V4m0 12l3-3m-3 3l-3-3"})}),kC=t=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 1l4 4-4 4"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 11V9a4 4 0 014-4h14"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 23l-4-4 4-4"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13v2a4 4 0 01-4 4H3"})]}),q0=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),F0=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),OC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),PC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825L10 14h- hkmet 3L13 10V3L5.125 10.125m13.75 3.75L15 10m-2.125 8.825L18 14h-3l-1.875 4.825zM1 1l22 22"})}),HC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),GC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.111 16.222c1.733-1.733 4.589-1.733 6.322 0M5.444 13.556c3.222-3.222 8.444-3.222 11.667 0M2.778 10.889c4.711-4.711 12.333-4.711 17.044 0"})}),VC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.111 16.222c1.733-1.733 4.589-1.733 6.322 0M5.444 13.556c.9-1.033 2.022-1.9 3.222-2.589m5.667.122c.711.389 1.356.844 1.933 1.389M2.778 10.889a14.838 14.838 0 012.667-3.022m11.6.022a14.833 14.833 0 012.667 3.022M1 1l22 22"})}),zC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 017.5 5.25h9a2.25 2.25 0 012.25 2.25v9a2.25 2.25 0 01-2.25 2.25h-9a2.25 2.25 0 01-2.25-2.25v-9z"})}),J0=({selectedLang:t,setSelectedLang:e,languages:n})=>{const{t:i}=Qi(),[o,l]=w.useState(!1),[s,r]=w.useState("bottom"),c=w.useRef(null),f=w.useRef(null),d=p=>{e(p),l(!1)};w.useEffect(()=>{if(o&&f.current){const p=f.current.getBoundingClientRect(),g=240;window.innerHeight-p.bottom<g&&p.top>g?r("top"):r("bottom")}},[o]),w.useEffect(()=>{const p=g=>{c.current&&!c.current.contains(g.target)&&l(!1)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]);const h=s==="top"?"bottom-full mb-2":"mt-2";return S.jsxs("div",{className:"relative",ref:c,children:[S.jsxs("button",{ref:f,onClick:()=>l(!o),className:"flex items-center space-x-2 text-lg font-semibold text-gray-700 hover:text-blue-600",children:[S.jsx("span",{children:i(t.name)}),S.jsx(MC,{className:`h-2.5 w-2.5 transition-transform ${o?"rotate-180":""}`})]}),o&&S.jsx("div",{className:`absolute z-10 ${h} w-56 bg-white rounded-md shadow-lg border border-gray-100 max-h-60 overflow-y-auto`,children:S.jsx("ul",{className:"py-1",children:n.map(p=>S.jsx("li",{children:S.jsx("button",{onClick:()=>d(p),className:`w-full text-left px-4 py-2 text-sm ${t.code===p.code?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-100"}`,children:i(p.name)})},p.code))})})]})},Pp=2500,BC=({inputText:t,setInputText:e,sourceLang:n,setSourceLang:i,isLoading:o,onTranslate:l,onCancel:s,isRecording:r,onToggleRecording:c,onOpenCamera:f,onOpenSettings:d,isOnline:h,isOfflineModeEnabled:p,isOfflineModelReady:g,recordingCountdown:v})=>{const{t:E}=Qi(),_=T=>{T.target.value.length<=Pp&&e(T.target.value)},y=!t.trim()||r||(p?!g:!h),m=()=>{o?s():l()};return S.jsxs("div",{className:"bg-white rounded-xl shadow-md h-full flex flex-col p-4",children:[S.jsxs("div",{className:"flex justify-between items-center mb-2",children:[S.jsx(J0,{selectedLang:n,setSelectedLang:i,languages:Ka}),S.jsxs("div",{className:"flex items-center space-x-4 text-gray-500",children:[S.jsx("div",{title:E(h?"translationInput.online":"translationInput.offline"),children:h?S.jsx(GC,{className:"text-green-500"}):S.jsx(VC,{className:"text-gray-400"})}),S.jsx("button",{onClick:f,className:"hover:text-blue-500","aria-label":E("translationInput.cameraAriaLabel"),children:S.jsx(IC,{})}),S.jsx("button",{onClick:d,className:"hover:text-blue-500","aria-label":E("translationInput.settingsAriaLabel"),children:S.jsx(DC,{})})]})]}),S.jsxs("div",{className:"relative border border-gray-200 rounded-lg flex-grow",children:[S.jsx("textarea",{value:t,onChange:_,placeholder:E(r?"translationInput.placeholderListening":"translationInput.placeholderEnterText"),className:"w-full h-full p-4 pr-12 text-lg border-none focus:ring-0 resize-none bg-transparent",disabled:r}),t&&!r&&S.jsx("button",{onClick:()=>e(""),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600","aria-label":E("translationInput.clearText"),children:S.jsx(ws,{})})]}),S.jsxs("div",{className:"flex justify-between items-center mt-2",children:[S.jsx("p",{className:"text-sm text-gray-400 w-20",children:r&&p&&v!==null?S.jsxs("span",{className:"text-red-500 font-semibold text-base tabular-nums",children:[E("translationInput.countdownPrefix"),String(v).padStart(2,"0")]}):`${t.length}/${Pp}`}),S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("button",{onClick:c,className:`p-3 rounded-lg flex items-center justify-center transition-colors ${r?"bg-red-500 text-white animate-pulse":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,"aria-label":E(r?"translationInput.recordingStop":"translationInput.recordingStart"),children:S.jsx(q0,{})}),S.jsx("button",{onClick:m,disabled:!o&&y,title:E(o?"translationInput.cancelTranslation":p?"translationInput.translateOffline":"translationInput.translate"),className:`text-white rounded-lg p-3 flex items-center justify-center transition-colors ${o?"bg-red-500 hover:bg-red-600":"bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 disabled:cursor-not-allowed"}`,children:o?S.jsx(zC,{}):S.jsx(LC,{})})]})]})]})},qC=({translatedText:t,targetLang:e,setTargetLang:n,isLoading:i,onSpeak:o,onSwapLanguages:l,onOpenHistory:s,onClearText:r,isOfflineModeEnabled:c,isOfflineModelInitializing:f,isOfflineModelReady:d,offlineModelName:h,isSpeaking:p,speakingGender:g,onlineProvider:v,isOfflineTtsEnabled:E,isAstRecording:_,onToggleAstRecording:y})=>{const{t:m}=Qi(),[T,C]=w.useState(!1),x=()=>{t&&navigator.clipboard.writeText(t)},M=()=>{C(N=>!N)},A=()=>{if(!c){const L=v.charAt(0).toUpperCase()+v.slice(1);return m("translationOutput.modeOnline",{provider:L})}const N=$a.find(L=>L.value===h),b=N?N.name.split(" ")[0]:"";return f?m("translationOutput.modeOfflineInitializing",{modelName:b}):d?m("translationOutput.modeOfflineReady",{modelName:b}):h?m("translationOutput.modeOfflineNotReady",{modelName:b}):m("translationOutput.modeOfflineNoModel")};return S.jsxs("div",{className:`bg-white rounded-xl shadow-md p-4 h-full flex flex-col transition-transform duration-500 ease-in-out ${T?"rotate-180":""}`,children:[S.jsxs("div",{className:"flex-shrink-0",children:[S.jsxs("div",{className:"flex justify-between items-center mb-1",children:[S.jsx(J0,{selectedLang:e,setSelectedLang:n,languages:Ka.filter(N=>N.code!=="auto")}),S.jsx("button",{onClick:l,className:"p-2 rounded-full hover:bg-gray-100 transition-colors text-gray-500",children:S.jsx(UC,{})}),S.jsxs("div",{className:"flex items-center space-x-4 text-gray-500",children:[S.jsx("button",{onClick:M,className:"hover:text-blue-500","aria-label":m("translationOutput.flipScreenAriaLabel"),children:S.jsx(kC,{})}),S.jsx("button",{onClick:x,disabled:!t,className:"hover:text-blue-500 disabled:text-gray-300 disabled:cursor-not-allowed","aria-label":m("translationOutput.copyAriaLabel"),children:S.jsx(RC,{})}),S.jsx("button",{onClick:s,className:"hover:text-blue-500","aria-label":m("translationOutput.historyAriaLabel"),children:S.jsx(NC,{})}),S.jsx("button",{onClick:r,disabled:!t,className:"hover:text-red-500 disabled:text-gray-300 disabled:cursor-not-allowed","aria-label":m("translationOutput.clearAriaLabel"),children:S.jsx(ws,{})})]})]}),S.jsx("div",{className:"text-right text-xs text-gray-400 mb-2 px-1",children:A()})]}),S.jsx("div",{className:"text-2xl text-gray-800 break-words flex-grow overflow-y-auto min-h-0 whitespace-pre-wrap",children:i&&!t?S.jsxs("div",{className:"space-y-2 animate-pulse",children:[S.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),S.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2"})]}):t||S.jsx("span",{className:"text-gray-400",children:m("translationOutput.placeholder")})}),S.jsxs("div",{className:"flex items-center justify-start mt-4 space-x-2 flex-shrink-0",children:[E?S.jsx("button",{onClick:()=>o("female"),disabled:!t,className:`text-white rounded-lg p-3 flex items-center justify-center disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors ${p?"bg-indigo-600 animate-pulse":"bg-indigo-500 hover:bg-indigo-600"}`,"aria-label":m(p?"translationOutput.speakStop":"translationOutput.speakCustomVoice"),children:S.jsx(xC,{})}):S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>o("female"),disabled:!t,className:`text-white rounded-lg p-3 flex items-center justify-center disabled:bg-pink-200 disabled:cursor-not-allowed transition-colors ${p&&g==="female"?"bg-pink-600 animate-pulse":"bg-pink-400 hover:bg-pink-500"}`,"aria-label":m(p&&g==="female"?"translationOutput.speakStop":"translationOutput.speakFemale"),children:S.jsx(wC,{})}),S.jsx("button",{onClick:()=>o("male"),disabled:!t,className:`text-white rounded-lg p-3 flex items-center justify-center disabled:bg-blue-300 disabled:cursor-not-allowed transition-colors ${p&&g==="male"?"bg-blue-700 animate-pulse":"bg-blue-500 hover:bg-blue-600"}`,"aria-label":m(p&&g==="male"?"translationOutput.speakStop":"translationOutput.speakMale"),children:S.jsx(bC,{})})]}),S.jsx("button",{onClick:y,disabled:i,className:`text-white rounded-lg p-3 flex items-center justify-center transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed ${_?"bg-red-500 animate-pulse":"bg-indigo-500 hover:bg-indigo-600"}`,"aria-label":m(_?"translationOutput.astStop":"translationOutput.astStart"),title:m("translationOutput.astTitle"),children:S.jsx(q0,{})})]})]})},FC=({onClose:t,onImageCaptured:e})=>{const{t:n}=Qi(),i=w.useRef(null),o=w.useRef(null),l=w.useRef(null),[s,r]=w.useState(null),[c,f]=w.useState(null),[d,h]=w.useState(!1),[p,g]=w.useState(!1),[v,E]=w.useState(!1),[_,y]=w.useState(1),[m,T]=w.useState(!1),[C,x]=w.useState(1),[M,A]=w.useState(1),[N,b]=w.useState(.1);w.useEffect(()=>{let F=null;return(async()=>{try{F=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),r(F),i.current&&(i.current.srcObject=F);const k=F.getVideoTracks()[0].getCapabilities();k.torch&&E(!0),k.zoom&&(T(!0),x(k.zoom.min),A(k.zoom.max),b(k.zoom.step||.1),y(k.zoom.min))}catch(V){console.error("Error accessing camera:",V),f(n("camera.errorAccess"))}})(),()=>{F&&F.getTracks().forEach(V=>V.stop())}},[n]);const L=async()=>{if(!(!i.current||!o.current||d)){h(!0),f(null);try{const F=i.current,I=o.current;I.width=F.videoWidth,I.height=F.videoHeight;const V=I.getContext("2d");if(!V)throw new Error("Could not get canvas context.");V.drawImage(F,0,0,I.width,I.height);const k=I.toDataURL("image/jpeg",.9);e(k)}catch(F){const I=F instanceof Error?F.message:"An unknown error occurred.";f(n("camera.errorCapture",{message:I})),h(!1)}}},z=async F=>{var V;const I=(V=F.target.files)==null?void 0:V[0];if(!(!I||d)){h(!0),f(null);try{const k=new FileReader;k.onload=Q=>{var Le;const te=(Le=Q.target)==null?void 0:Le.result;if(te)e(te);else throw new Error("Could not read the selected file.")},k.onerror=()=>{throw new Error("Error reading the file.")},k.readAsDataURL(I)}catch(k){const Q=k instanceof Error?k.message:"An unknown error occurred.";f(n("camera.errorLoad",{message:Q})),h(!1)}}},se=()=>{var F;(F=l.current)==null||F.click()},O=async()=>{if(!s||!v)return;const F=s.getVideoTracks()[0];try{await F.applyConstraints({advanced:[{torch:!p}]}),g(!p)}catch(I){console.error("Failed to toggle torch:",I)}},ae=async F=>{if(!s||!m)return;const I=parseFloat(F.target.value);y(I);const V=s.getVideoTracks()[0];try{await V.applyConstraints({advanced:[{zoom:I}]})}catch(k){console.error("Failed to apply zoom:",k)}};return S.jsx("div",{className:"fixed inset-0 bg-black z-50 flex flex-col items-center justify-center",role:"dialog","aria-modal":"true","aria-labelledby":"camera-view-title",children:S.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[S.jsx("video",{ref:i,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),S.jsx("canvas",{ref:o,className:"hidden"}),S.jsx("input",{type:"file",accept:"image/*",ref:l,onChange:z,className:"hidden"}),S.jsxs("div",{className:"absolute inset-0 flex flex-col justify-between items-center p-4",children:[S.jsxs("div",{className:"w-full flex justify-end",children:[S.jsx("h2",{id:"camera-view-title",className:"sr-only",children:n("camera.title")}),S.jsx("button",{onClick:t,className:"text-white bg-black bg-opacity-50 rounded-full p-2","aria-label":n("camera.closeAriaLabel"),children:S.jsx(ws,{className:"w-8 h-8"})})]}),c&&S.jsx("div",{className:"bg-red-500 text-white p-3 rounded-md text-center transition-opacity",role:"alert",children:c}),S.jsxs("div",{className:"w-full flex flex-col items-center pb-6 space-y-4",children:[m&&S.jsx("div",{className:"w-full max-w-xs flex items-center justify-center bg-black/30 p-2 rounded-full",children:S.jsx("input",{type:"range",min:C,max:M,step:N,value:_,onChange:ae,className:"w-full h-2 bg-white/50 rounded-lg appearance-none cursor-pointer","aria-label":n("camera.zoomAriaLabel")})}),S.jsxs("div",{className:"w-full flex justify-around items-center",children:[S.jsx("button",{onClick:se,className:"text-white","aria-label":n("camera.galleryAriaLabel"),children:S.jsx(HC,{className:"w-10 h-10"})}),S.jsx("button",{onClick:L,disabled:d,className:"w-20 h-20 bg-white/30 rounded-full flex items-center justify-center transition-all hover:bg-white/50 disabled:opacity-50 ring-4 ring-white/50 focus:ring-white","aria-label":n("camera.captureAriaLabel"),children:d?S.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white",role:"status","aria-label":n("camera.processingAriaLabel")}):S.jsx("div",{className:"w-16 h-16 bg-white rounded-full shadow-lg"})}),v?S.jsx("button",{onClick:O,className:"text-white","aria-label":n(p?"camera.flashOnAriaLabel":"camera.flashOffAriaLabel"),children:p?S.jsx(OC,{className:"w-10 h-10"}):S.jsx(PC,{className:"w-10 h-10"})}):S.jsx("div",{className:"w-10 h-10"})]})]})]})]})})},JC=({isOpen:t,onClose:e,onSave:n,currentApiKey:i,currentModelName:o,currentOnlineProvider:l,currentOpenaiApiUrl:s,currentHuggingFaceApiKey:r,currentOfflineModelName:c,currentIsOfflineModeEnabled:f,currentIsTwoStepJpCnEnabled:d,downloadProgress:h,onStartDownload:p,onResumeDownload:g,onPauseDownload:v,onDeleteModel:E,isOfflineModelInitializing:_,voices:y,targetLang:m,currentIsOfflineTtsEnabled:T,currentOfflineTtsVoiceURI:C,currentOfflineTtsRate:x,currentOfflineTtsPitch:M,currentOfflineMaxTokens:A,currentOfflineTopK:N,currentOfflineTemperature:b,currentOfflineRandomSeed:L,currentOfflineSupportAudio:z,currentOfflineMaxNumImages:se})=>{const{t:O,i18n:ae}=Qi(),[F,I]=w.useState("online"),[V,k]=w.useState(i),[Q,te]=w.useState(o),[Le,nt]=w.useState(l),[Ln,xe]=w.useState(s),[sn,Wi]=w.useState(r),[gi,mi]=w.useState(c),[ji,Jt]=w.useState(f),[cl,yi]=w.useState(d),[fl,vi]=w.useState(T),[Un,kn]=w.useState(C),[dl,we]=w.useState(x),[pl,eo]=w.useState(M),[to,On]=w.useState([]),[an,no]=w.useState(A),[Pn,Si]=w.useState(N),[hl,Ti]=w.useState(b),[gl,Ei]=w.useState(L),[ml,Ci]=w.useState(z),[yl,_i]=w.useState(se);if(w.useEffect(()=>{t&&(k(i),te(o),nt(l),xe(s),Wi(r),mi(c),Jt(f),yi(d),vi(T),kn(C),we(x),eo(M),no(A),Si(N),Ti(b),Ei(L),Ci(z),_i(se))},[t,i,o,l,s,r,c,f,d,T,C,x,M,A,N,b,L,z,se]),w.useEffect(()=>{var P;if(t&&y.length>0&&m){const Z=y.filter(Ce=>Ce.lang.startsWith(m.code));On(Z),Un&&!Z.some(Ce=>Ce.voiceURI===Un)&&kn(((P=Z[0])==null?void 0:P.voiceURI)||"")}},[t,y,m,Un]),!t)return null;const bs=()=>{n(V,Q,sn,gi,ji,Le,Ln,fl,Un,dl,pl,cl,an,Pn,hl,gl,ml,yl),e()},vl=()=>{k(""),te("gemini-2.5-flash"),nt("gemini"),xe(""),Wi(""),mi(""),Jt(!1),yi(!1),vi(!1),kn(""),we(1),eo(1),no(4096),Si(40),Ti(.3),Ei(101),Ci(!1),_i(1),$a.forEach(P=>P.value&&E(P.value)),n("","gemini-2.5-flash","","",!1,"gemini","",!1,"",1,1,!1,4096,40,.3,101,!1,1)},Rs=P=>{mi(P.target.value)},Hn=({tabName:P,label:Z})=>S.jsx("button",{onClick:()=>I(P),className:`px-4 py-2 text-sm font-medium rounded-md focus:outline-none ${F===P?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,"aria-selected":F===P,role:"tab",children:Z}),io=(P,Z=2)=>{if(!P||P===0)return"0 Bytes";const Ce=1024,ct=Z<0?0:Z,B=["Bytes","KB","MB","GB","TB"],Ot=Math.floor(Math.log(P)/Math.log(Ce));return parseFloat((P/Math.pow(Ce,Ot)).toFixed(ct))+" "+B[Ot]},Ns=P=>{const Z=h[P.value]||{status:"not_started",percent:0,downloaded:0,total:0},Ce=_&&gi===P.value,ct=({onClick:Sl,text:Yt,className:Pt="bg-blue-500 hover:bg-blue-600",disabled:un})=>S.jsx("button",{onClick:Sl,disabled:un,className:`text-white text-xs font-semibold py-1 px-3 rounded-md transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed ${Pt}`,children:Yt}),B=Ce||Z.status==="consolidating",Ot=Z.status,Gn=O(`common.status.${Ot}`);return S.jsxs("div",{className:"flex flex-col space-y-2 p-3 border border-gray-200 rounded-lg bg-gray-50",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsxs("div",{className:"flex items-center",children:[S.jsx("input",{type:"radio",id:`model-${P.value}`,name:"offline-model-selection",value:P.value,checked:gi===P.value,onChange:Rs,disabled:Z.status!=="completed"||B,className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500 disabled:cursor-not-allowed"}),S.jsx("label",{htmlFor:`model-${P.value}`,className:"ml-2 text-sm font-medium text-gray-800",children:P.name})]}),S.jsxs("div",{className:"flex items-center space-x-2",children:[Z.status==="not_started"&&S.jsx(ct,{onClick:()=>p(P.value,P.url),text:O("settings.download")}),Z.status==="downloading"&&S.jsx(ct,{onClick:()=>v(P.value),text:O("settings.pause"),className:"bg-yellow-500 hover:bg-yellow-600"}),Z.status==="paused"&&S.jsx(ct,{onClick:()=>g(P.value,P.url),text:O("settings.resume")}),Z.status==="error"&&S.jsx(ct,{onClick:()=>g(P.value,P.url),text:O("settings.retry")}),Z.status!=="not_started"&&Z.status!=="downloading"&&Z.status!=="consolidating"&&S.jsx("button",{onClick:()=>E(P.value),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-full","aria-label":O("settings.deleteModelAriaLabel",{modelName:P.name}),children:S.jsx(F0,{className:"w-4 h-4"})})]})]}),(Z.status!=="not_started"||B)&&S.jsxs("div",{children:[S.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 relative overflow-hidden",children:S.jsx("div",{className:`h-2 rounded-full ${B?"bg-green-400 w-full animate-pulse":"bg-blue-500"}`,style:{width:`${Z.percent}%`}})}),S.jsxs("div",{className:"text-xs text-gray-500 mt-1 flex justify-between",children:[S.jsx("span",{children:Gn}),Z.status==="downloading"&&!B&&S.jsxs("span",{children:[io(Z.downloaded)," / ",io(Z.total)," (",Math.round(Z.percent),"%)"]})]})]}),Z.status==="error"&&S.jsx("p",{className:"text-xs text-red-600 mt-1",children:O("settings.statusError",{error:Z.error})})]})},kt=({id:P,label:Z,value:Ce,onChange:ct,min:B,max:Ot,step:Gn})=>S.jsxs("div",{children:[S.jsxs("label",{htmlFor:P,className:"flex justify-between items-center text-sm font-medium text-gray-700 mb-1",children:[S.jsx("span",{children:Z}),S.jsx("span",{className:"text-gray-500 font-normal",children:Ce})]}),S.jsx("input",{type:"range",id:P,min:B,max:Ot,step:Gn,value:Ce,onChange:ct,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),rn=({id:P,isEnabled:Z,setIsEnabled:Ce,title:ct,description:B})=>S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("label",{htmlFor:P,className:"text-sm font-medium text-gray-700",children:[ct,S.jsx("span",{className:"block text-xs text-gray-500",children:B})]}),S.jsx("button",{id:P,onClick:()=>Ce(!Z),className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${Z?"bg-blue-600":"bg-gray-200"}`,role:"switch","aria-checked":Z,children:S.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${Z?"translate-x-6":"translate-x-1"}`})})]});return S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"settings-title",children:S.jsxs("div",{className:"bg-white rounded-lg shadow-xl h-full w-full max-w-md overflow-auto",children:[S.jsxs("div",{className:"p-6 border-b border-gray-200",children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsx("h2",{id:"settings-title",className:"text-xl font-semibold text-gray-800",children:O("settings.title")}),S.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600","aria-label":O("settings.closeAriaLabel"),children:S.jsx(ws,{})})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"language-select",className:"block text-sm font-medium text-gray-700 mb-1",children:O("settings.languageLabel")}),S.jsxs("select",{id:"language-select",value:ae.language,onChange:P=>ae.changeLanguage(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[S.jsx("option",{value:"en",children:"English"}),S.jsx("option",{value:"zh-TW",children:""})]})]})]}),S.jsx("div",{className:"border-b border-gray-200",children:S.jsxs("nav",{className:"flex space-x-2 p-2",role:"tablist","aria-label":"Settings tabs",children:[S.jsx(Hn,{tabName:"online",label:O("settings.tabOnline")}),S.jsx(Hn,{tabName:"offline",label:O("settings.tabOffline")}),S.jsx(Hn,{tabName:"tts",label:O("settings.tabTts")}),S.jsx(Hn,{tabName:"offline-params",label:O("settings.tabOfflineParams")})]})}),S.jsxs("div",{className:"p-6 space-y-6 min-h-[350px]",children:[F==="online"&&S.jsxs("div",{role:"tabpanel",id:"online-settings","aria-labelledby":"online-tab",className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:O("settings.providerLabel")}),S.jsxs("div",{className:"flex space-x-4",children:[S.jsxs("div",{className:"flex items-center",children:[S.jsx("input",{id:"provider-gemini",name:"online-provider",type:"radio",value:"gemini",checked:Le==="gemini",onChange:P=>nt(P.target.value),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),S.jsx("label",{htmlFor:"provider-gemini",className:"ml-2 block text-sm text-gray-900",children:O("settings.providerGemini")})]}),S.jsxs("div",{className:"flex items-center",children:[S.jsx("input",{id:"provider-openai",name:"online-provider",type:"radio",value:"openai",checked:Le==="openai",onChange:P=>nt(P.target.value),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),S.jsx("label",{htmlFor:"provider-openai",className:"ml-2 block text-sm text-gray-900",children:O("settings.providerOpenAI")})]})]})]}),Le==="openai"&&S.jsxs("div",{children:[S.jsx("label",{htmlFor:"openai-api-url",className:"block text-sm font-medium text-gray-700 mb-1",children:O("settings.openaiUrlLabel")}),S.jsx("input",{type:"text",id:"openai-api-url",value:Ln,onChange:P=>xe(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:O("settings.openaiUrlPlaceholder")})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"api-key",className:"block text-sm font-medium text-gray-700 mb-1",children:O("settings.apiKeyLabel")}),S.jsx("input",{type:"password",id:"api-key",value:V,onChange:P=>k(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:O("settings.apiKeyPlaceholder")})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"model-name",className:"block text-sm font-medium text-gray-700 mb-1",children:O("settings.modelNameLabel")}),S.jsx("input",{type:"text",id:"model-name",value:Q,onChange:P=>te(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white",placeholder:O(Le==="gemini"?"settings.modelNameGeminiPlaceholder":"settings.modelNameOpenAIPlaceholder")})]})]}),F==="offline"&&S.jsxs("div",{role:"tabpanel",id:"offline-settings","aria-labelledby":"offline-tab",className:"space-y-6",children:[S.jsxs("div",{className:"space-y-3",children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700",children:O("settings.manageModelsLabel")}),$a.filter(P=>P.value).map(P=>S.jsx("div",{children:Ns(P)},P.value))]}),S.jsxs("div",{className:"space-y-4 pt-2",children:[S.jsx(rn,{id:"offline-toggle",isEnabled:ji,setIsEnabled:Jt,title:O("settings.enableOfflineLabel"),description:O("settings.enableOfflineDescription")}),S.jsx(rn,{id:"twostep-toggle",isEnabled:cl,setIsEnabled:yi,title:O("settings.enableTwoStepLabel"),description:O("settings.enableTwoStepDescription")})]})]}),F==="tts"&&S.jsxs("div",{role:"tabpanel",id:"tts-settings","aria-labelledby":"tts-tab",className:"space-y-6",children:[S.jsx(rn,{id:"tts-toggle",isEnabled:fl,setIsEnabled:vi,title:O("settings.enableCustomTtsLabel"),description:O("settings.enableCustomTtsDescription")}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"voice-select",className:"block text-sm font-medium text-gray-700 mb-1",children:O("settings.voiceLabel")}),S.jsx("select",{id:"voice-select",value:Un,onChange:P=>kn(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100",disabled:to.length===0,children:to.length>0?to.map(P=>S.jsxs("option",{value:P.voiceURI,children:[P.name," (",P.lang,")"]},P.voiceURI)):S.jsx("option",{value:"",children:O("settings.voicePlaceholder",{languageName:O(m.name)})})})]}),S.jsx(kt,{id:"rate-slider",label:O("settings.rateLabel"),value:dl,onChange:P=>we(parseFloat(P.target.value)),min:.5,max:2,step:.1}),S.jsx(kt,{id:"pitch-slider",label:O("settings.pitchLabel"),value:pl,onChange:P=>eo(parseFloat(P.target.value)),min:0,max:2,step:.1})]}),F==="offline-params"&&S.jsxs("div",{role:"tabpanel",id:"offline-params-settings","aria-labelledby":"offline-params-tab",className:"space-y-6",children:[S.jsx("p",{className:"text-sm text-gray-500",children:O("settings.offlineParamsDescription")}),S.jsx(kt,{id:"max-tokens-slider",label:O("settings.maxTokensLabel"),value:an,onChange:P=>no(parseInt(P.target.value,10)),min:256,max:8192,step:256}),S.jsx(kt,{id:"top-k-slider",label:O("settings.topKLabel"),value:Pn,onChange:P=>Si(parseInt(P.target.value,10)),min:1,max:100,step:1}),S.jsx(kt,{id:"temperature-slider",label:O("settings.temperatureLabel"),value:hl,onChange:P=>Ti(parseFloat(P.target.value)),min:0,max:1,step:.05}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"random-seed",className:"block text-sm font-medium text-gray-700 mb-1",children:O("settings.randomSeedLabel")}),S.jsx("input",{type:"number",id:"random-seed",value:gl,onChange:P=>Ei(parseInt(P.target.value,10)),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),S.jsx(rn,{id:"support-audio-toggle",isEnabled:ml,setIsEnabled:Ci,title:O("settings.supportAudioLabel"),description:O("settings.supportAudioDescription")}),S.jsx(rn,{id:"max-num-images-toggle",isEnabled:yl===1,setIsEnabled:P=>_i(P?1:0),title:O("settings.maxNumImagesLabel"),description:O("settings.maxNumImagesDescription")})]})]}),S.jsxs("div",{className:"p-6 bg-gray-50 rounded-b-lg flex justify-between items-center",children:[S.jsx("button",{onClick:vl,className:"text-red-600 font-medium py-2 px-4 rounded-lg hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors","aria-label":O("history.clearAriaLabel"),children:O("settings.clearSettingsButton")}),S.jsx("button",{onClick:bs,className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:O("settings.saveSettingsButton")})]})]})})},YC=({isOpen:t,onClose:e,history:n,onSelectHistory:i,onClearHistory:o})=>{const{t:l}=Qi();return t?S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"history-title",children:S.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md h-[70vh] flex flex-col",children:[S.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center",children:[S.jsx("h2",{id:"history-title",className:"text-xl font-semibold text-gray-800",children:l("history.title")}),S.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600","aria-label":l("history.closeAriaLabel"),children:S.jsx(ws,{})})]}),S.jsx("div",{className:"p-2 flex-grow overflow-y-auto",children:n.length===0?S.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:l("history.empty")}):S.jsx("ul",{children:n.map(s=>S.jsx("li",{className:"border-b border-gray-200 last:border-b-0",children:S.jsxs("button",{onClick:()=>i(s),className:"w-full text-left p-4 hover:bg-gray-50 transition-colors","aria-label":l("history.selectAriaLabel",{sourceLang:l(s.sourceLang.name),targetLang:l(s.targetLang.name)}),children:[S.jsxs("div",{className:"mb-2",children:[S.jsx("span",{className:"text-xs font-semibold text-gray-500 bg-gray-100 py-1 px-2 rounded-full",children:l(s.sourceLang.name)}),S.jsx("p",{className:"text-gray-800 mt-1 truncate",children:s.inputText})]}),S.jsxs("div",{children:[S.jsx("span",{className:"text-xs font-semibold text-blue-500 bg-blue-50 py-1 px-2 rounded-full",children:l(s.targetLang.name)}),S.jsx("p",{className:"text-blue-700 font-medium mt-1 truncate",children:s.translatedText})]})]})},s.id))})}),n.length>0&&S.jsx("div",{className:"p-4 bg-gray-50 rounded-b-lg flex justify-end items-center",children:S.jsxs("button",{onClick:o,className:"flex items-center space-x-2 text-red-600 font-medium py-2 px-4 rounded-lg hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors","aria-label":l("history.clearAriaLabel"),children:[S.jsx(F0,{className:"h-5 w-5"}),S.jsx("span",{children:l("history.clearButton")})]})})]})}):null};var KC={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let $C,XC;function QC(){return{geminiUrl:$C,vertexUrl:XC}}function ZC(t,e,n,i){var o,l;if(!(t!=null&&t.baseUrl)){const s=QC();return e?(o=s.vertexUrl)!==null&&o!==void 0?o:n:(l=s.geminiUrl)!==null&&l!==void 0?l:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class In{}function H(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const l=e[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function u(t,e,n){for(let l=0;l<e.length-1;l++){const s=e[l];if(s.endsWith("[]")){const r=s.slice(0,-2);if(!(r in t))if(Array.isArray(n))t[r]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[r])){const c=t[r];if(Array.isArray(n))for(let f=0;f<c.length;f++){const d=c[f];u(d,e.slice(l+1),n[f])}else for(const f of c)u(f,e.slice(l+1),n)}return}else if(s.endsWith("[0]")){const r=s.slice(0,-3);r in t||(t[r]=[{}]);const c=t[r];u(c[0],e.slice(l+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function a(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const o=e[i];if(o.endsWith("[]")){const l=o.slice(0,-2);if(l in t){const s=t[l];return Array.isArray(s)?s.map(r=>a(r,e.slice(i+1),n)):n}else return n}else t=t[o]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function WC(t,e){for(const[n,i]of Object.entries(e)){const o=n.split("."),l=i.split("."),s=new Set;let r=-1;for(let c=0;c<o.length;c++)if(o[c]==="*"){r=c;break}if(r!==-1&&l.length>r)for(let c=r;c<l.length;c++){const f=l[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&s.add(f)}Ac(t,o,l,0,s)}}function Ac(t,e,n,i,o){if(i>=e.length||typeof t!="object"||t===null)return;const l=e[i];if(l.endsWith("[]")){const s=l.slice(0,-2),r=t;if(s in r&&Array.isArray(r[s]))for(const c of r[s])Ac(c,e,n,i+1,o)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,r=Object.keys(s).filter(f=>!f.startsWith("_")&&!o.has(f)),c={};for(const f of r)c[f]=s[f];for(const[f,d]of Object.entries(c)){const h=[];for(const p of n.slice(i))p==="*"?h.push(f):h.push(p);u(s,h,d)}for(const f of r)delete s[f]}}else{const s=t;l in s&&Ac(s[l],e,n,i+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yf(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jC(t){const e={},n=a(t,["operationName"]);n!=null&&u(e,["operationName"],n);const i=a(t,["resourceName"]);return i!=null&&u(e,["_url","resourceName"],i),e}function e_(t){const e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);const i=a(t,["metadata"]);i!=null&&u(e,["metadata"],i);const o=a(t,["done"]);o!=null&&u(e,["done"],o);const l=a(t,["error"]);l!=null&&u(e,["error"],l);const s=a(t,["response","generateVideoResponse"]);return s!=null&&u(e,["response"],n_(s)),e}function t_(t){const e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);const i=a(t,["metadata"]);i!=null&&u(e,["metadata"],i);const o=a(t,["done"]);o!=null&&u(e,["done"],o);const l=a(t,["error"]);l!=null&&u(e,["error"],l);const s=a(t,["response"]);return s!=null&&u(e,["response"],i_(s)),e}function n_(t){const e={},n=a(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>o_(s))),u(e,["generatedVideos"],l)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&u(e,["raiMediaFilteredCount"],i);const o=a(t,["raiMediaFilteredReasons"]);return o!=null&&u(e,["raiMediaFilteredReasons"],o),e}function i_(t){const e={},n=a(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>l_(s))),u(e,["generatedVideos"],l)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&u(e,["raiMediaFilteredCount"],i);const o=a(t,["raiMediaFilteredReasons"]);return o!=null&&u(e,["raiMediaFilteredReasons"],o),e}function o_(t){const e={},n=a(t,["video"]);return n!=null&&u(e,["video"],f_(n)),e}function l_(t){const e={},n=a(t,["_self"]);return n!=null&&u(e,["video"],d_(n)),e}function s_(t){const e={},n=a(t,["operationName"]);return n!=null&&u(e,["_url","operationName"],n),e}function a_(t){const e={},n=a(t,["operationName"]);return n!=null&&u(e,["_url","operationName"],n),e}function r_(t){const e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);const i=a(t,["metadata"]);i!=null&&u(e,["metadata"],i);const o=a(t,["done"]);o!=null&&u(e,["done"],o);const l=a(t,["error"]);l!=null&&u(e,["error"],l);const s=a(t,["response"]);return s!=null&&u(e,["response"],u_(s)),e}function u_(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["parent"]);i!=null&&u(e,["parent"],i);const o=a(t,["documentName"]);return o!=null&&u(e,["documentName"],o),e}function Y0(t){const e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);const i=a(t,["metadata"]);i!=null&&u(e,["metadata"],i);const o=a(t,["done"]);o!=null&&u(e,["done"],o);const l=a(t,["error"]);l!=null&&u(e,["error"],l);const s=a(t,["response"]);return s!=null&&u(e,["response"],c_(s)),e}function c_(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["parent"]);i!=null&&u(e,["parent"],i);const o=a(t,["documentName"]);return o!=null&&u(e,["documentName"],o),e}function f_(t){const e={},n=a(t,["uri"]);n!=null&&u(e,["uri"],n);const i=a(t,["encodedVideo"]);i!=null&&u(e,["videoBytes"],Yf(i));const o=a(t,["encoding"]);return o!=null&&u(e,["mimeType"],o),e}function d_(t){const e={},n=a(t,["gcsUri"]);n!=null&&u(e,["uri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&u(e,["videoBytes"],Yf(i));const o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hp;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Hp||(Hp={}));var Gp;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Gp||(Gp={}));var Vp;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Vp||(Vp={}));var Vt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Vt||(Vt={}));var zp;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(zp||(zp={}));var Bp;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Bp||(Bp={}));var qp;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(qp||(qp={}));var Fp;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Fp||(Fp={}));var Jp;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Jp||(Jp={}));var Yp;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(Yp||(Yp={}));var Kp;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Kp||(Kp={}));var $p;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})($p||($p={}));var Xp;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Xp||(Xp={}));var Qp;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Qp||(Qp={}));var Zp;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Zp||(Zp={}));var Wp;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Wp||(Wp={}));var jp;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(jp||(jp={}));var eh;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(eh||(eh={}));var th;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(th||(th={}));var Xa;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Xa||(Xa={}));var nh;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(nh||(nh={}));var ih;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(ih||(ih={}));var oh;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(oh||(oh={}));var xc;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(xc||(xc={}));var lh;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(lh||(lh={}));var sh;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(sh||(sh={}));var ah;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(ah||(ah={}));var rh;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(rh||(rh={}));var uh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(uh||(uh={}));var ch;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ch||(ch={}));var fh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(fh||(fh={}));var dh;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(dh||(dh={}));var ph;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(ph||(ph={}));var hh;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(hh||(hh={}));var gh;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(gh||(gh={}));var mh;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(mh||(mh={}));var yh;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(yh||(yh={}));var vh;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(vh||(vh={}));var Sh;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Sh||(Sh={}));var Th;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Th||(Th={}));var Eh;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Eh||(Eh={}));var Ch;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Ch||(Ch={}));var _h;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(_h||(_h={}));var Ah;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Ah||(Ah={}));var xh;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(xh||(xh={}));var wh;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(wh||(wh={}));var bh;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(bh||(bh={}));var Rh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Rh||(Rh={}));var Nh;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Nh||(Nh={}));var Mh;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Mh||(Mh={}));var Ih;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Ih||(Ih={}));var Dh;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Dh||(Dh={}));var Lh;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Lh||(Lh={}));var Uh;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Uh||(Uh={}));var kh;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(kh||(kh={}));var Io;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Io||(Io={}));class wc{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Nl{get text(){var e,n,i,o,l,s,r,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const h=[];for(const p of(c=(r=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||r===void 0?void 0:r.parts)!==null&&c!==void 0?c:[]){for(const[g,v]of Object.entries(p))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(v!==null||v!==void 0)&&h.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;d=!0,f+=p.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var e,n,i,o,l,s,r,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const d=[];for(const h of(c=(r=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||r===void 0?void 0:r.parts)!==null&&c!==void 0?c:[]){for(const[p,g]of Object.entries(h))p!=="inlineData"&&(g!==null||g!==void 0)&&d.push(p);h.inlineData&&typeof h.inlineData.data=="string"&&(f+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,i,o,l,s,r,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(r=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||r===void 0?void 0:r.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,i,o,l,s,r,c,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(r=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||r===void 0?void 0:r.parts)===null||c===void 0?void 0:c.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,i,o,l,s,r,c,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(r=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||r===void 0?void 0:r.parts)===null||c===void 0?void 0:c.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.output}}class Oh{}class Ph{}class p_{}class h_{}class g_{}class m_{}class Hh{}class Gh{}class Vh{}class y_{}class Qa{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Qa;let o;const l=e;return n?o=t_(l):o=e_(l),Object.assign(i,o),i}}class zh{}class Bh{}class qh{}class Fh{}class v_{}class S_{}class T_{}class Kf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Kf,l=r_(e);return Object.assign(i,l),i}}class E_{}class C_{}class __{}class Jh{}class A_{get text(){var e,n,i;let o="",l=!1;const s=[];for(const r of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(r))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof r.text=="string"){if(typeof r.thought=="boolean"&&r.thought)continue;l=!0,o+=r.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?o:void 0}get data(){var e,n,i;let o="";const l=[];for(const s of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[r,c]of Object.entries(s))r!=="inlineData"&&c!==null&&l.push(r);s.inlineData&&typeof s.inlineData.data=="string"&&(o+=atob(s.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class x_{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class $f{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new $f,l=Y0(e);return Object.assign(i,l),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function le(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function K0(t,e){const n=le(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function $0(t){return Array.isArray(t)?t.map(e=>Za(e)):[Za(t)]}function Za(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function X0(t){const e=Za(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Q0(t){const e=Za(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Yh(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Z0(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Yh(e)):[Yh(t)]}function bc(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Kh(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function $h(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ye(t){if(t==null)throw new Error("ContentUnion is required");return bc(t)?t:{role:"user",parts:Z0(t)}}function Xf(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Ye(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Ye(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ye(n)):[Ye(e)]}function Dt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Kh(t)||$h(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ye(t)]}const e=[],n=[],i=bc(t[0]);for(const o of t){const l=bc(o);if(l!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(o);else{if(Kh(o)||$h(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:Z0(n)}),e}function w_(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Vt).includes(n[0].toUpperCase())?n[0].toUpperCase():Vt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Vt).includes(i.toUpperCase())?i.toUpperCase():Vt.TYPE_UNSPECIFIED})}}function Vo(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&w_(t.type,e);for(const[s,r]of Object.entries(t))if(r!=null)if(s=="type"){if(r==="null")throw new Error("type: null can not be the only possible type for the field.");if(r instanceof Array)continue;e.type=Object.values(Vt).includes(r.toUpperCase())?r.toUpperCase():Vt.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Vo(r);else if(i.includes(s)){const c=[];for(const f of r){if(f.type=="null"){e.nullable=!0;continue}c.push(Vo(f))}e[s]=c}else if(o.includes(s)){const c={};for(const[f,d]of Object.entries(r))c[f]=Vo(d);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=r}return e}function Qf(t){return Vo(t)}function Zf(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Wf(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function al(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Vo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Vo(e.response));return t}function rl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function b_(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function Dn(t,e){if(typeof e!="string")throw new Error("name must be a string");return b_(t,e,"cachedContents")}function W0(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function hi(t){return Yf(t)}function R_(t){return t!=null&&typeof t=="object"&&"name"in t}function N_(t){return t!=null&&typeof t=="object"&&"video"in t}function M_(t){return t!=null&&typeof t=="object"&&"uri"in t}function j0(t){var e;let n;if(R_(t)&&(n=t.name),!(M_(t)&&(n=t.uri,n===void 0))&&!(N_(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function ev(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function tv(t){for(const e of["models","tunedModels","publisherModels"])if(I_(t,e))return t[e];return[]}function I_(t,e){return t!==null&&typeof t=="object"&&e in t}function D_(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function L_(t,e={}){const n=[],i=new Set;for(const o of t){const l=o.name;if(i.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);i.add(l);const s=D_(o,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function nv(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function U_(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function iv(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let l=!1;for(const s of o){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function ul(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function ov(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function k_(t){const e={},n=a(t,["responsesFile"]);n!=null&&u(e,["fileName"],n);const i=a(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>gA(s))),u(e,["inlinedResponses"],l)}const o=a(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(e,["inlinedEmbedContentResponses"],l)}return e}function O_(t){const e={},n=a(t,["predictionsFormat"]);n!=null&&u(e,["format"],n);const i=a(t,["gcsDestination","outputUriPrefix"]);i!=null&&u(e,["gcsUri"],i);const o=a(t,["bigqueryDestination","outputUri"]);return o!=null&&u(e,["bigqueryUri"],o),e}function P_(t){const e={},n=a(t,["format"]);n!=null&&u(e,["predictionsFormat"],n);const i=a(t,["gcsUri"]);i!=null&&u(e,["gcsDestination","outputUriPrefix"],i);const o=a(t,["bigqueryUri"]);if(o!=null&&u(e,["bigqueryDestination","outputUri"],o),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(a(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ma(t){const e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);const i=a(t,["metadata","displayName"]);i!=null&&u(e,["displayName"],i);const o=a(t,["metadata","state"]);o!=null&&u(e,["state"],ov(o));const l=a(t,["metadata","createTime"]);l!=null&&u(e,["createTime"],l);const s=a(t,["metadata","endTime"]);s!=null&&u(e,["endTime"],s);const r=a(t,["metadata","updateTime"]);r!=null&&u(e,["updateTime"],r);const c=a(t,["metadata","model"]);c!=null&&u(e,["model"],c);const f=a(t,["metadata","output"]);return f!=null&&u(e,["dest"],k_(iv(f))),e}function Rc(t){const e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);const i=a(t,["displayName"]);i!=null&&u(e,["displayName"],i);const o=a(t,["state"]);o!=null&&u(e,["state"],ov(o));const l=a(t,["error"]);l!=null&&u(e,["error"],l);const s=a(t,["createTime"]);s!=null&&u(e,["createTime"],s);const r=a(t,["startTime"]);r!=null&&u(e,["startTime"],r);const c=a(t,["endTime"]);c!=null&&u(e,["endTime"],c);const f=a(t,["updateTime"]);f!=null&&u(e,["updateTime"],f);const d=a(t,["model"]);d!=null&&u(e,["model"],d);const h=a(t,["inputConfig"]);h!=null&&u(e,["src"],H_(h));const p=a(t,["outputConfig"]);p!=null&&u(e,["dest"],O_(iv(p)));const g=a(t,["completionStats"]);return g!=null&&u(e,["completionStats"],g),e}function H_(t){const e={},n=a(t,["instancesFormat"]);n!=null&&u(e,["format"],n);const i=a(t,["gcsSource","uris"]);i!=null&&u(e,["gcsUri"],i);const o=a(t,["bigquerySource","inputUri"]);return o!=null&&u(e,["bigqueryUri"],o),e}function G_(t,e){const n={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=a(e,["fileName"]);i!=null&&u(n,["fileName"],i);const o=a(e,["inlinedRequests"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>hA(t,s))),u(n,["requests","requests"],l)}return n}function V_(t){const e={},n=a(t,["format"]);n!=null&&u(e,["instancesFormat"],n);const i=a(t,["gcsUri"]);i!=null&&u(e,["gcsSource","uris"],i);const o=a(t,["bigqueryUri"]);if(o!=null&&u(e,["bigquerySource","inputUri"],o),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function z_(t){const e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function B_(t,e){const n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],ul(t,i)),n}function q_(t,e){const n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],ul(t,i)),n}function F_(t){const e={},n=a(t,["content"]);n!=null&&u(e,["content"],n);const i=a(t,["citationMetadata"]);i!=null&&u(e,["citationMetadata"],J_(i));const o=a(t,["tokenCount"]);o!=null&&u(e,["tokenCount"],o);const l=a(t,["finishReason"]);l!=null&&u(e,["finishReason"],l);const s=a(t,["avgLogprobs"]);s!=null&&u(e,["avgLogprobs"],s);const r=a(t,["groundingMetadata"]);r!=null&&u(e,["groundingMetadata"],r);const c=a(t,["index"]);c!=null&&u(e,["index"],c);const f=a(t,["logprobsResult"]);f!=null&&u(e,["logprobsResult"],f);const d=a(t,["safetyRatings"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>g)),u(e,["safetyRatings"],p)}const h=a(t,["urlContextMetadata"]);return h!=null&&u(e,["urlContextMetadata"],h),e}function J_(t){const e={},n=a(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),u(e,["citations"],i)}return e}function lv(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>CA(l))),u(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&u(e,["role"],i),e}function Y_(t,e){const n={},i=a(t,["displayName"]);if(e!==void 0&&i!=null&&u(e,["batch","displayName"],i),a(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function K_(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);const o=a(t,["dest"]);return e!==void 0&&o!=null&&u(e,["outputConfig"],P_(U_(o))),n}function Xh(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["src"]);o!=null&&u(n,["batch","inputConfig"],G_(t,nv(t,o)));const l=a(e,["config"]);return l!=null&&Y_(l,n),n}function $_(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["model"],le(t,i));const o=a(e,["src"]);o!=null&&u(n,["inputConfig"],V_(nv(t,o)));const l=a(e,["config"]);return l!=null&&K_(l,n),n}function X_(t,e){const n={},i=a(t,["displayName"]);return e!==void 0&&i!=null&&u(e,["batch","displayName"],i),n}function Q_(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["src"]);o!=null&&u(n,["batch","inputConfig"],iA(t,o));const l=a(e,["config"]);return l!=null&&X_(l,n),n}function Z_(t,e){const n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],ul(t,i)),n}function W_(t,e){const n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],ul(t,i)),n}function j_(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["name"]);i!=null&&u(e,["name"],i);const o=a(t,["done"]);o!=null&&u(e,["done"],o);const l=a(t,["error"]);return l!=null&&u(e,["error"],l),e}function eA(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["name"]);i!=null&&u(e,["name"],i);const o=a(t,["done"]);o!=null&&u(e,["done"],o);const l=a(t,["error"]);return l!=null&&u(e,["error"],l),e}function tA(t,e){const n={},i=a(e,["contents"]);if(i!=null){let l=Xf(t,i);Array.isArray(l)&&(l=l.map(s=>s)),u(n,["requests[]","request","content"],l)}const o=a(e,["config"]);return o!=null&&(u(n,["_self"],nA(o,n)),WC(n,{"requests[].*":"requests[].request.*"})),n}function nA(t,e){const n={},i=a(t,["taskType"]);e!==void 0&&i!=null&&u(e,["requests[]","taskType"],i);const o=a(t,["title"]);e!==void 0&&o!=null&&u(e,["requests[]","title"],o);const l=a(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&u(e,["requests[]","outputDimensionality"],l),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function iA(t,e){const n={},i=a(e,["fileName"]);i!=null&&u(n,["file_name"],i);const o=a(e,["inlinedRequests"]);return o!=null&&u(n,["requests"],tA(t,o)),n}function oA(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function lA(t){const e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);const i=a(t,["args"]);i!=null&&u(e,["args"],i);const o=a(t,["name"]);if(o!=null&&u(e,["name"],o),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sA(t){const e={},n=a(t,["mode"]);n!=null&&u(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);if(i!=null&&u(e,["allowedFunctionNames"],i),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function aA(t,e,n){const i={},o=a(e,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],lv(Ye(o)));const l=a(e,["temperature"]);l!=null&&u(i,["temperature"],l);const s=a(e,["topP"]);s!=null&&u(i,["topP"],s);const r=a(e,["topK"]);r!=null&&u(i,["topK"],r);const c=a(e,["candidateCount"]);c!=null&&u(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&u(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&u(i,["stopSequences"],d);const h=a(e,["responseLogprobs"]);h!=null&&u(i,["responseLogprobs"],h);const p=a(e,["logprobs"]);p!=null&&u(i,["logprobs"],p);const g=a(e,["presencePenalty"]);g!=null&&u(i,["presencePenalty"],g);const v=a(e,["frequencyPenalty"]);v!=null&&u(i,["frequencyPenalty"],v);const E=a(e,["seed"]);E!=null&&u(i,["seed"],E);const _=a(e,["responseMimeType"]);_!=null&&u(i,["responseMimeType"],_);const y=a(e,["responseSchema"]);y!=null&&u(i,["responseSchema"],Qf(y));const m=a(e,["responseJsonSchema"]);if(m!=null&&u(i,["responseJsonSchema"],m),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=a(e,["safetySettings"]);if(n!==void 0&&T!=null){let O=T;Array.isArray(O)&&(O=O.map(ae=>_A(ae))),u(n,["safetySettings"],O)}const C=a(e,["tools"]);if(n!==void 0&&C!=null){let O=rl(C);Array.isArray(O)&&(O=O.map(ae=>xA(al(ae)))),u(n,["tools"],O)}const x=a(e,["toolConfig"]);if(n!==void 0&&x!=null&&u(n,["toolConfig"],AA(x)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=a(e,["cachedContent"]);n!==void 0&&M!=null&&u(n,["cachedContent"],Dn(t,M));const A=a(e,["responseModalities"]);A!=null&&u(i,["responseModalities"],A);const N=a(e,["mediaResolution"]);N!=null&&u(i,["mediaResolution"],N);const b=a(e,["speechConfig"]);if(b!=null&&u(i,["speechConfig"],Zf(b)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const L=a(e,["thinkingConfig"]);L!=null&&u(i,["thinkingConfig"],L);const z=a(e,["imageConfig"]);z!=null&&u(i,["imageConfig"],pA(z));const se=a(e,["enableEnhancedCivicAnswers"]);return se!=null&&u(i,["enableEnhancedCivicAnswers"],se),i}function rA(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>F_(f))),u(e,["candidates"],c)}const o=a(t,["modelVersion"]);o!=null&&u(e,["modelVersion"],o);const l=a(t,["promptFeedback"]);l!=null&&u(e,["promptFeedback"],l);const s=a(t,["responseId"]);s!=null&&u(e,["responseId"],s);const r=a(t,["usageMetadata"]);return r!=null&&u(e,["usageMetadata"],r),e}function uA(t,e){const n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],ul(t,i)),n}function cA(t,e){const n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],ul(t,i)),n}function fA(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function dA(t){const e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function pA(t){const e={},n=a(t,["aspectRatio"]);n!=null&&u(e,["aspectRatio"],n);const i=a(t,["imageSize"]);if(i!=null&&u(e,["imageSize"],i),a(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function hA(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["request","model"],le(t,i));const o=a(e,["contents"]);if(o!=null){let r=Dt(o);Array.isArray(r)&&(r=r.map(c=>lv(c))),u(n,["request","contents"],r)}const l=a(e,["metadata"]);l!=null&&u(n,["metadata"],l);const s=a(e,["config"]);return s!=null&&u(n,["request","generationConfig"],aA(t,s,a(n,["request"],{}))),n}function gA(t){const e={},n=a(t,["response"]);n!=null&&u(e,["response"],rA(n));const i=a(t,["error"]);return i!=null&&u(e,["error"],i),e}function mA(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);if(e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),a(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function yA(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);e!==void 0&&o!=null&&u(e,["_query","pageToken"],o);const l=a(t,["filter"]);return e!==void 0&&l!=null&&u(e,["_query","filter"],l),n}function vA(t){const e={},n=a(t,["config"]);return n!=null&&mA(n,e),e}function SA(t){const e={},n=a(t,["config"]);return n!=null&&yA(n,e),e}function TA(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=a(t,["operations"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>ma(s))),u(e,["batchJobs"],l)}return e}function EA(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=a(t,["batchPredictionJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>Rc(s))),u(e,["batchJobs"],l)}return e}function CA(t){const e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);const i=a(t,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const o=a(t,["executableCode"]);o!=null&&u(e,["executableCode"],o);const l=a(t,["fileData"]);l!=null&&u(e,["fileData"],oA(l));const s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],lA(s));const r=a(t,["functionResponse"]);r!=null&&u(e,["functionResponse"],r);const c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],z_(c));const f=a(t,["text"]);f!=null&&u(e,["text"],f);const d=a(t,["thought"]);d!=null&&u(e,["thought"],d);const h=a(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const p=a(t,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function _A(t){const e={},n=a(t,["category"]);if(n!=null&&u(e,["category"],n),a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=a(t,["threshold"]);return i!=null&&u(e,["threshold"],i),e}function AA(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&u(e,["functionCallingConfig"],sA(n));const i=a(t,["retrievalConfig"]);return i!=null&&u(e,["retrievalConfig"],i),e}function xA(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),u(e,["functionDeclarations"],d)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearchRetrieval"]);i!=null&&u(e,["googleSearchRetrieval"],i);const o=a(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);const l=a(t,["fileSearch"]);l!=null&&u(e,["fileSearch"],l);const s=a(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=a(t,["googleMaps"]);r!=null&&u(e,["googleMaps"],fA(r));const c=a(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],dA(c));const f=a(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Nn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Nn||(Nn={}));class Zi{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!i||Object.keys(i).length===0?s={config:{}}:typeof i=="object"?s=Object.assign({},i):s=i,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(l=(o=s.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wA extends In{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Zi(Nn.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Xh(this.apiClient,e),i=n._url,o=H("{model}:batchGenerateContent",i),r=n.batch.inputConfig.requests,c=r.requests,f=[];for(const d of c){const h=Object.assign({},d);if(h.systemInstruction){const p=h.systemInstruction;delete h.systemInstruction;const g=h.request;g.systemInstruction=p,h.request=g}f.push(h)}return r.requests=f,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},o=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${o}`),i.dest===void 0){const l=this.getGcsUri(e),s=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?i.dest=`${l.slice(0,-6)}/dest`:i.dest=`${l}_dest_${o}`;else if(s)i.dest=`${s}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=$_(this.apiClient,e);return r=H("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>Rc(d))}else{const f=Xh(this.apiClient,e);return r=H("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>ma(d))}}async createEmbeddingsInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=Q_(this.apiClient,e);return l=H("{model}:asyncBatchEmbedContent",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>ma(c))}}async get(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=cA(this.apiClient,e);return r=H("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>Rc(d))}else{const f=uA(this.apiClient,e);return r=H("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>ma(d))}}async cancel(e){var n,i,o,l;let s="",r={};if(this.apiClient.isVertexAI()){const c=q_(this.apiClient,e);s=H("batchPredictionJobs/{name}:cancel",c._url),r=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const c=B_(this.apiClient,e);s=H("batches/{name}:cancel",c._url),r=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=SA(e);return r=H("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=EA(d),p=new Jh;return Object.assign(p,h),p})}else{const f=vA(e);return r=H("batches",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=TA(d),p=new Jh;return Object.assign(p,h),p})}}async delete(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=W_(this.apiClient,e);return r=H("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>eA(d))}else{const f=Z_(this.apiClient,e);return r=H("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>j_(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bA(t){const e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function Qh(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>QA(l))),u(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&u(e,["role"],i),e}function RA(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&u(e,["ttl"],i);const o=a(t,["expireTime"]);e!==void 0&&o!=null&&u(e,["expireTime"],o);const l=a(t,["displayName"]);e!==void 0&&l!=null&&u(e,["displayName"],l);const s=a(t,["contents"]);if(e!==void 0&&s!=null){let d=Dt(s);Array.isArray(d)&&(d=d.map(h=>Qh(h))),u(e,["contents"],d)}const r=a(t,["systemInstruction"]);e!==void 0&&r!=null&&u(e,["systemInstruction"],Qh(Ye(r)));const c=a(t,["tools"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>WA(h))),u(e,["tools"],d)}const f=a(t,["toolConfig"]);if(e!==void 0&&f!=null&&u(e,["toolConfig"],ZA(f)),a(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function NA(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&u(e,["ttl"],i);const o=a(t,["expireTime"]);e!==void 0&&o!=null&&u(e,["expireTime"],o);const l=a(t,["displayName"]);e!==void 0&&l!=null&&u(e,["displayName"],l);const s=a(t,["contents"]);if(e!==void 0&&s!=null){let h=Dt(s);Array.isArray(h)&&(h=h.map(p=>p)),u(e,["contents"],h)}const r=a(t,["systemInstruction"]);e!==void 0&&r!=null&&u(e,["systemInstruction"],Ye(r));const c=a(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>jA(p))),u(e,["tools"],h)}const f=a(t,["toolConfig"]);e!==void 0&&f!=null&&u(e,["toolConfig"],f);const d=a(t,["kmsKeyName"]);return e!==void 0&&d!=null&&u(e,["encryption_spec","kmsKeyName"],d),n}function MA(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["model"],K0(t,i));const o=a(e,["config"]);return o!=null&&RA(o,n),n}function IA(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["model"],K0(t,i));const o=a(e,["config"]);return o!=null&&NA(o,n),n}function DA(t,e){const n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],Dn(t,i)),n}function LA(t,e){const n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],Dn(t,i)),n}function UA(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function kA(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function OA(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function PA(t){const e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);const i=a(t,["args"]);i!=null&&u(e,["args"],i);const o=a(t,["name"]);if(o!=null&&u(e,["name"],o),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function HA(t){const e={},n=a(t,["mode"]);n!=null&&u(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);if(i!=null&&u(e,["allowedFunctionNames"],i),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function GA(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&u(e,["description"],n);const i=a(t,["name"]);i!=null&&u(e,["name"],i);const o=a(t,["parameters"]);o!=null&&u(e,["parameters"],o);const l=a(t,["parametersJsonSchema"]);l!=null&&u(e,["parametersJsonSchema"],l);const s=a(t,["response"]);s!=null&&u(e,["response"],s);const r=a(t,["responseJsonSchema"]);return r!=null&&u(e,["responseJsonSchema"],r),e}function VA(t,e){const n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],Dn(t,i)),n}function zA(t,e){const n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],Dn(t,i)),n}function BA(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function qA(t){const e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function FA(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);return e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),n}function JA(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);return e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),n}function YA(t){const e={},n=a(t,["config"]);return n!=null&&FA(n,e),e}function KA(t){const e={},n=a(t,["config"]);return n!=null&&JA(n,e),e}function $A(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=a(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(e,["cachedContents"],l)}return e}function XA(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=a(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(e,["cachedContents"],l)}return e}function QA(t){const e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);const i=a(t,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const o=a(t,["executableCode"]);o!=null&&u(e,["executableCode"],o);const l=a(t,["fileData"]);l!=null&&u(e,["fileData"],OA(l));const s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],PA(s));const r=a(t,["functionResponse"]);r!=null&&u(e,["functionResponse"],r);const c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],bA(c));const f=a(t,["text"]);f!=null&&u(e,["text"],f);const d=a(t,["thought"]);d!=null&&u(e,["thought"],d);const h=a(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const p=a(t,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function ZA(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&u(e,["functionCallingConfig"],HA(n));const i=a(t,["retrievalConfig"]);return i!=null&&u(e,["retrievalConfig"],i),e}function WA(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),u(e,["functionDeclarations"],d)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearchRetrieval"]);i!=null&&u(e,["googleSearchRetrieval"],i);const o=a(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);const l=a(t,["fileSearch"]);l!=null&&u(e,["fileSearch"],l);const s=a(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=a(t,["googleMaps"]);r!=null&&u(e,["googleMaps"],BA(r));const c=a(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],qA(c));const f=a(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function jA(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>GA(p))),u(e,["functionDeclarations"],h)}const i=a(t,["retrieval"]);i!=null&&u(e,["retrieval"],i);const o=a(t,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);const l=a(t,["computerUse"]);if(l!=null&&u(e,["computerUse"],l),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=a(t,["codeExecution"]);s!=null&&u(e,["codeExecution"],s);const r=a(t,["enterpriseWebSearch"]);r!=null&&u(e,["enterpriseWebSearch"],r);const c=a(t,["googleMaps"]);c!=null&&u(e,["googleMaps"],c);const f=a(t,["googleSearch"]);f!=null&&u(e,["googleSearch"],f);const d=a(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function ex(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&u(e,["ttl"],i);const o=a(t,["expireTime"]);return e!==void 0&&o!=null&&u(e,["expireTime"],o),n}function tx(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&u(e,["ttl"],i);const o=a(t,["expireTime"]);return e!==void 0&&o!=null&&u(e,["expireTime"],o),n}function nx(t,e){const n={},i=a(e,["name"]);i!=null&&u(n,["_url","name"],Dn(t,i));const o=a(e,["config"]);return o!=null&&ex(o,n),n}function ix(t,e){const n={},i=a(e,["name"]);i!=null&&u(n,["_url","name"],Dn(t,i));const o=a(e,["config"]);return o!=null&&tx(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ox extends In{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Zi(Nn.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=IA(this.apiClient,e);return r=H("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const f=MA(this.apiClient,e);return r=H("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async get(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=zA(this.apiClient,e);return r=H("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const f=VA(this.apiClient,e);return r=H("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async delete(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=LA(this.apiClient,e);return r=H("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=kA(d),p=new qh;return Object.assign(p,h),p})}else{const f=DA(this.apiClient,e);return r=H("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=UA(d),p=new qh;return Object.assign(p,h),p})}}async update(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=ix(this.apiClient,e);return r=H("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const f=nx(this.apiClient,e);return r=H("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async listInternal(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=KA(e);return r=H("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=XA(d),p=new Fh;return Object.assign(p,h),p})}else{const f=YA(e);return r=H("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=$A(d),p=new Fh;return Object.assign(p,h),p})}}}function Wa(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function Zh(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Y(t){return this instanceof Y?(this.v=t,this):new Y(t)}function zt(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),r("next"),r("throw"),r("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(g){return function(v){return Promise.resolve(v).then(g,h)}}function r(g,v){i[g]&&(o[g]=function(E){return new Promise(function(_,y){l.push([g,E,_,y])>1||c(g,E)})},v&&(o[g]=v(o[g])))}function c(g,v){try{f(i[g](v))}catch(E){p(l[0][3],E)}}function f(g){g.value instanceof Y?Promise.resolve(g.value.v).then(d,h):p(l[0][2],g)}function d(g){c("next",g)}function h(g){c("throw",g)}function p(g,v){g(v),l.shift(),l.length&&c(l[0][0],l[0][1])}}function Bt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Zh=="function"?Zh(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(l){n[l]=t[l]&&function(s){return new Promise(function(r,c){s=t[l](s),o(r,c,s.done,s.value)})}}function o(l,s,r,c){Promise.resolve(c).then(function(f){l({value:f,done:r})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lx(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:sv(n)}function sv(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function sx(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Wh(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let l=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),l&&!sv(t[i])&&(l=!1),i++;l?e.push(...o):e.pop()}return e}class ax{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new rx(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class rx{constructor(e,n,i,o={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),sx(l)}async sendMessage(e){var n;await this.sendPromise;const i=Ye(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,s,r;const c=await o,f=(s=(l=c.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content,d=c.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let p=[];d!=null&&(p=(r=d.slice(h))!==null&&r!==void 0?r:[]);const g=f?[f]:[];this.recordHistory(i,g,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=Ye(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,i)}getHistory(e=!1){const n=e?Wh(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return zt(this,arguments,function*(){var o,l,s,r,c,f;const d=[];try{for(var h=!0,p=Bt(e),g;g=yield Y(p.next()),o=g.done,!o;h=!0){r=g.value,h=!1;const v=r;if(lx(v)){const E=(f=(c=v.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content;E!==void 0&&d.push(E)}yield yield Y(v)}}catch(v){l={error:v}}finally{try{!h&&!o&&(s=p.return)&&(yield Y(s.call(p)))}finally{if(l)throw l.error}}this.recordHistory(n,d)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(l=>l.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Wh(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ar extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ar.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ux(t){const e={},n=a(t,["file"]);return n!=null&&u(e,["file"],n),e}function cx(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function fx(t){const e={},n=a(t,["name"]);return n!=null&&u(e,["_url","file"],j0(n)),e}function dx(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function px(t){const e={},n=a(t,["name"]);return n!=null&&u(e,["_url","file"],j0(n)),e}function hx(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);return e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),n}function gx(t){const e={},n=a(t,["config"]);return n!=null&&hx(n,e),e}function mx(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=a(t,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yx extends In{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Zi(Nn.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=gx(e);return l=H("files",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=mx(c),d=new E_;return Object.assign(d,f),d})}}async createInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=ux(e);return l=H("upload/v1beta/files",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=cx(c),d=new C_;return Object.assign(d,f),d})}}async get(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=px(e);return l=H("files/{file}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=fx(e);return l=H("files/{file}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=dx(c),d=new __;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ya(t){const e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function vx(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Ux(l))),u(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&u(e,["role"],i),e}function Sx(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function Tx(t){const e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);const i=a(t,["args"]);i!=null&&u(e,["args"],i);const o=a(t,["name"]);if(o!=null&&u(e,["name"],o),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ex(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&u(e,["description"],n);const i=a(t,["name"]);i!=null&&u(e,["name"],i);const o=a(t,["parameters"]);o!=null&&u(e,["parameters"],o);const l=a(t,["parametersJsonSchema"]);l!=null&&u(e,["parametersJsonSchema"],l);const s=a(t,["response"]);s!=null&&u(e,["response"],s);const r=a(t,["responseJsonSchema"]);return r!=null&&u(e,["responseJsonSchema"],r),e}function Cx(t){const e={},n=a(t,["modelSelectionConfig"]);n!=null&&u(e,["modelConfig"],n);const i=a(t,["responseJsonSchema"]);i!=null&&u(e,["responseJsonSchema"],i);const o=a(t,["audioTimestamp"]);o!=null&&u(e,["audioTimestamp"],o);const l=a(t,["candidateCount"]);l!=null&&u(e,["candidateCount"],l);const s=a(t,["enableAffectiveDialog"]);s!=null&&u(e,["enableAffectiveDialog"],s);const r=a(t,["frequencyPenalty"]);r!=null&&u(e,["frequencyPenalty"],r);const c=a(t,["logprobs"]);c!=null&&u(e,["logprobs"],c);const f=a(t,["maxOutputTokens"]);f!=null&&u(e,["maxOutputTokens"],f);const d=a(t,["mediaResolution"]);d!=null&&u(e,["mediaResolution"],d);const h=a(t,["presencePenalty"]);h!=null&&u(e,["presencePenalty"],h);const p=a(t,["responseLogprobs"]);p!=null&&u(e,["responseLogprobs"],p);const g=a(t,["responseMimeType"]);g!=null&&u(e,["responseMimeType"],g);const v=a(t,["responseModalities"]);v!=null&&u(e,["responseModalities"],v);const E=a(t,["responseSchema"]);E!=null&&u(e,["responseSchema"],E);const _=a(t,["routingConfig"]);_!=null&&u(e,["routingConfig"],_);const y=a(t,["seed"]);y!=null&&u(e,["seed"],y);const m=a(t,["speechConfig"]);m!=null&&u(e,["speechConfig"],av(m));const T=a(t,["stopSequences"]);T!=null&&u(e,["stopSequences"],T);const C=a(t,["temperature"]);C!=null&&u(e,["temperature"],C);const x=a(t,["thinkingConfig"]);x!=null&&u(e,["thinkingConfig"],x);const M=a(t,["topK"]);M!=null&&u(e,["topK"],M);const A=a(t,["topP"]);if(A!=null&&u(e,["topP"],A),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function _x(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function Ax(t){const e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function xx(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig"],i);const o=a(t,["responseModalities"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig","responseModalities"],o);const l=a(t,["temperature"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","temperature"],l);const s=a(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);const r=a(t,["topK"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","topK"],r);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","mediaResolution"],f);const d=a(t,["seed"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","seed"],d);const h=a(t,["speechConfig"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","speechConfig"],Wf(h));const p=a(t,["thinkingConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","thinkingConfig"],p);const g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=a(t,["systemInstruction"]);e!==void 0&&v!=null&&u(e,["setup","systemInstruction"],vx(Ye(v)));const E=a(t,["tools"]);if(e!==void 0&&E!=null){let M=rl(E);Array.isArray(M)&&(M=M.map(A=>Ox(al(A)))),u(e,["setup","tools"],M)}const _=a(t,["sessionResumption"]);e!==void 0&&_!=null&&u(e,["setup","sessionResumption"],kx(_));const y=a(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&u(e,["setup","inputAudioTranscription"],y);const m=a(t,["outputAudioTranscription"]);e!==void 0&&m!=null&&u(e,["setup","outputAudioTranscription"],m);const T=a(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&u(e,["setup","realtimeInputConfig"],T);const C=a(t,["contextWindowCompression"]);e!==void 0&&C!=null&&u(e,["setup","contextWindowCompression"],C);const x=a(t,["proactivity"]);if(e!==void 0&&x!=null&&u(e,["setup","proactivity"],x),a(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function wx(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig"],Cx(i));const o=a(t,["responseModalities"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig","responseModalities"],o);const l=a(t,["temperature"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","temperature"],l);const s=a(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);const r=a(t,["topK"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","topK"],r);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","mediaResolution"],f);const d=a(t,["seed"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","seed"],d);const h=a(t,["speechConfig"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","speechConfig"],av(Wf(h)));const p=a(t,["thinkingConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","thinkingConfig"],p);const g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=a(t,["systemInstruction"]);e!==void 0&&v!=null&&u(e,["setup","systemInstruction"],Ye(v));const E=a(t,["tools"]);if(e!==void 0&&E!=null){let A=rl(E);Array.isArray(A)&&(A=A.map(N=>Px(al(N)))),u(e,["setup","tools"],A)}const _=a(t,["sessionResumption"]);e!==void 0&&_!=null&&u(e,["setup","sessionResumption"],_);const y=a(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&u(e,["setup","inputAudioTranscription"],y);const m=a(t,["outputAudioTranscription"]);e!==void 0&&m!=null&&u(e,["setup","outputAudioTranscription"],m);const T=a(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&u(e,["setup","realtimeInputConfig"],T);const C=a(t,["contextWindowCompression"]);e!==void 0&&C!=null&&u(e,["setup","contextWindowCompression"],C);const x=a(t,["proactivity"]);e!==void 0&&x!=null&&u(e,["setup","proactivity"],x);const M=a(t,["explicitVadSignal"]);return e!==void 0&&M!=null&&u(e,["setup","explicitVadSignal"],M),n}function bx(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["setup","model"],le(t,i));const o=a(e,["config"]);return o!=null&&u(n,["config"],xx(o,n)),n}function Rx(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["setup","model"],le(t,i));const o=a(e,["config"]);return o!=null&&u(n,["config"],wx(o,n)),n}function Nx(t){const e={},n=a(t,["musicGenerationConfig"]);return n!=null&&u(e,["musicGenerationConfig"],n),e}function Mx(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),u(e,["weightedPrompts"],i)}return e}function Ix(t){const e={},n=a(t,["media"]);if(n!=null){let f=$0(n);Array.isArray(f)&&(f=f.map(d=>ya(d))),u(e,["mediaChunks"],f)}const i=a(t,["audio"]);i!=null&&u(e,["audio"],ya(Q0(i)));const o=a(t,["audioStreamEnd"]);o!=null&&u(e,["audioStreamEnd"],o);const l=a(t,["video"]);l!=null&&u(e,["video"],ya(X0(l)));const s=a(t,["text"]);s!=null&&u(e,["text"],s);const r=a(t,["activityStart"]);r!=null&&u(e,["activityStart"],r);const c=a(t,["activityEnd"]);return c!=null&&u(e,["activityEnd"],c),e}function Dx(t){const e={},n=a(t,["media"]);if(n!=null){let f=$0(n);Array.isArray(f)&&(f=f.map(d=>d)),u(e,["mediaChunks"],f)}const i=a(t,["audio"]);i!=null&&u(e,["audio"],Q0(i));const o=a(t,["audioStreamEnd"]);o!=null&&u(e,["audioStreamEnd"],o);const l=a(t,["video"]);l!=null&&u(e,["video"],X0(l));const s=a(t,["text"]);s!=null&&u(e,["text"],s);const r=a(t,["activityStart"]);r!=null&&u(e,["activityStart"],r);const c=a(t,["activityEnd"]);return c!=null&&u(e,["activityEnd"],c),e}function Lx(t){const e={},n=a(t,["setupComplete"]);n!=null&&u(e,["setupComplete"],n);const i=a(t,["serverContent"]);i!=null&&u(e,["serverContent"],i);const o=a(t,["toolCall"]);o!=null&&u(e,["toolCall"],o);const l=a(t,["toolCallCancellation"]);l!=null&&u(e,["toolCallCancellation"],l);const s=a(t,["usageMetadata"]);s!=null&&u(e,["usageMetadata"],Hx(s));const r=a(t,["goAway"]);r!=null&&u(e,["goAway"],r);const c=a(t,["sessionResumptionUpdate"]);c!=null&&u(e,["sessionResumptionUpdate"],c);const f=a(t,["voiceActivityDetectionSignal"]);return f!=null&&u(e,["voiceActivityDetectionSignal"],f),e}function Ux(t){const e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);const i=a(t,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const o=a(t,["executableCode"]);o!=null&&u(e,["executableCode"],o);const l=a(t,["fileData"]);l!=null&&u(e,["fileData"],Sx(l));const s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],Tx(s));const r=a(t,["functionResponse"]);r!=null&&u(e,["functionResponse"],r);const c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],ya(c));const f=a(t,["text"]);f!=null&&u(e,["text"],f);const d=a(t,["thought"]);d!=null&&u(e,["thought"],d);const h=a(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const p=a(t,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function kx(t){const e={},n=a(t,["handle"]);if(n!=null&&u(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function av(t){const e={},n=a(t,["voiceConfig"]);n!=null&&u(e,["voiceConfig"],n);const i=a(t,["languageCode"]);if(i!=null&&u(e,["languageCode"],i),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Ox(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),u(e,["functionDeclarations"],d)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearchRetrieval"]);i!=null&&u(e,["googleSearchRetrieval"],i);const o=a(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);const l=a(t,["fileSearch"]);l!=null&&u(e,["fileSearch"],l);const s=a(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=a(t,["googleMaps"]);r!=null&&u(e,["googleMaps"],_x(r));const c=a(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],Ax(c));const f=a(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function Px(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>Ex(p))),u(e,["functionDeclarations"],h)}const i=a(t,["retrieval"]);i!=null&&u(e,["retrieval"],i);const o=a(t,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);const l=a(t,["computerUse"]);if(l!=null&&u(e,["computerUse"],l),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=a(t,["codeExecution"]);s!=null&&u(e,["codeExecution"],s);const r=a(t,["enterpriseWebSearch"]);r!=null&&u(e,["enterpriseWebSearch"],r);const c=a(t,["googleMaps"]);c!=null&&u(e,["googleMaps"],c);const f=a(t,["googleSearch"]);f!=null&&u(e,["googleSearch"],f);const d=a(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function Hx(t){const e={},n=a(t,["promptTokenCount"]);n!=null&&u(e,["promptTokenCount"],n);const i=a(t,["cachedContentTokenCount"]);i!=null&&u(e,["cachedContentTokenCount"],i);const o=a(t,["candidatesTokenCount"]);o!=null&&u(e,["responseTokenCount"],o);const l=a(t,["toolUsePromptTokenCount"]);l!=null&&u(e,["toolUsePromptTokenCount"],l);const s=a(t,["thoughtsTokenCount"]);s!=null&&u(e,["thoughtsTokenCount"],s);const r=a(t,["totalTokenCount"]);r!=null&&u(e,["totalTokenCount"],r);const c=a(t,["promptTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(v=>v)),u(e,["promptTokensDetails"],g)}const f=a(t,["cacheTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>v)),u(e,["cacheTokensDetails"],g)}const d=a(t,["candidatesTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),u(e,["responseTokensDetails"],g)}const h=a(t,["toolUsePromptTokensDetails"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>v)),u(e,["toolUsePromptTokensDetails"],g)}const p=a(t,["trafficType"]);return p!=null&&u(e,["trafficType"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gx(t){const e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function Vx(t){const e={},n=a(t,["content"]);n!=null&&u(e,["content"],n);const i=a(t,["citationMetadata"]);i!=null&&u(e,["citationMetadata"],zx(i));const o=a(t,["tokenCount"]);o!=null&&u(e,["tokenCount"],o);const l=a(t,["finishReason"]);l!=null&&u(e,["finishReason"],l);const s=a(t,["avgLogprobs"]);s!=null&&u(e,["avgLogprobs"],s);const r=a(t,["groundingMetadata"]);r!=null&&u(e,["groundingMetadata"],r);const c=a(t,["index"]);c!=null&&u(e,["index"],c);const f=a(t,["logprobsResult"]);f!=null&&u(e,["logprobsResult"],f);const d=a(t,["safetyRatings"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>g)),u(e,["safetyRatings"],p)}const h=a(t,["urlContextMetadata"]);return h!=null&&u(e,["urlContextMetadata"],h),e}function zx(t){const e={},n=a(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),u(e,["citations"],i)}return e}function Bx(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["contents"]);if(o!=null){let l=Dt(o);Array.isArray(l)&&(l=l.map(s=>s)),u(n,["contents"],l)}return n}function qx(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),u(e,["tokensInfo"],o)}return e}function Fx(t){const e={},n=a(t,["values"]);n!=null&&u(e,["values"],n);const i=a(t,["statistics"]);return i!=null&&u(e,["statistics"],Jx(i)),e}function Jx(t){const e={},n=a(t,["truncated"]);n!=null&&u(e,["truncated"],n);const i=a(t,["token_count"]);return i!=null&&u(e,["tokenCount"],i),e}function xr(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>eb(l))),u(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&u(e,["role"],i),e}function Yx(t){const e={},n=a(t,["controlType"]);n!=null&&u(e,["controlType"],n);const i=a(t,["enableControlImageComputation"]);return i!=null&&u(e,["computeControl"],i),e}function Kx(t){const e={};if(a(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function $x(t,e){const n={},i=a(t,["systemInstruction"]);e!==void 0&&i!=null&&u(e,["systemInstruction"],Ye(i));const o=a(t,["tools"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>dv(r))),u(e,["tools"],s)}const l=a(t,["generationConfig"]);return e!==void 0&&l!=null&&u(e,["generationConfig"],Gw(l)),n}function Xx(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["contents"]);if(o!=null){let s=Dt(o);Array.isArray(s)&&(s=s.map(r=>xr(r))),u(n,["contents"],s)}const l=a(e,["config"]);return l!=null&&Kx(l),n}function Qx(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["contents"]);if(o!=null){let s=Dt(o);Array.isArray(s)&&(s=s.map(r=>r)),u(n,["contents"],s)}const l=a(e,["config"]);return l!=null&&$x(l,n),n}function Zx(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["totalTokens"]);i!=null&&u(e,["totalTokens"],i);const o=a(t,["cachedContentTokenCount"]);return o!=null&&u(e,["cachedContentTokenCount"],o),e}function Wx(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["totalTokens"]);return i!=null&&u(e,["totalTokens"],i),e}function jx(t,e){const n={},i=a(e,["model"]);return i!=null&&u(n,["_url","name"],le(t,i)),n}function ew(t,e){const n={},i=a(e,["model"]);return i!=null&&u(n,["_url","name"],le(t,i)),n}function tw(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function nw(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function iw(t,e){const n={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);const o=a(t,["negativePrompt"]);e!==void 0&&o!=null&&u(e,["parameters","negativePrompt"],o);const l=a(t,["numberOfImages"]);e!==void 0&&l!=null&&u(e,["parameters","sampleCount"],l);const s=a(t,["aspectRatio"]);e!==void 0&&s!=null&&u(e,["parameters","aspectRatio"],s);const r=a(t,["guidanceScale"]);e!==void 0&&r!=null&&u(e,["parameters","guidanceScale"],r);const c=a(t,["seed"]);e!==void 0&&c!=null&&u(e,["parameters","seed"],c);const f=a(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&u(e,["parameters","safetySetting"],f);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&u(e,["parameters","personGeneration"],d);const h=a(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&u(e,["parameters","includeSafetyAttributes"],h);const p=a(t,["includeRaiReason"]);e!==void 0&&p!=null&&u(e,["parameters","includeRaiReason"],p);const g=a(t,["language"]);e!==void 0&&g!=null&&u(e,["parameters","language"],g);const v=a(t,["outputMimeType"]);e!==void 0&&v!=null&&u(e,["parameters","outputOptions","mimeType"],v);const E=a(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&u(e,["parameters","outputOptions","compressionQuality"],E);const _=a(t,["addWatermark"]);e!==void 0&&_!=null&&u(e,["parameters","addWatermark"],_);const y=a(t,["labels"]);e!==void 0&&y!=null&&u(e,["labels"],y);const m=a(t,["editMode"]);e!==void 0&&m!=null&&u(e,["parameters","editMode"],m);const T=a(t,["baseSteps"]);return e!==void 0&&T!=null&&u(e,["parameters","editConfig","baseSteps"],T),n}function ow(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const l=a(e,["referenceImages"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>sb(c))),u(n,["instances[0]","referenceImages"],r)}const s=a(e,["config"]);return s!=null&&iw(s,n),n}function lw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>wr(l))),u(e,["generatedImages"],o)}return e}function sw(t,e){const n={},i=a(t,["taskType"]);e!==void 0&&i!=null&&u(e,["requests[]","taskType"],i);const o=a(t,["title"]);e!==void 0&&o!=null&&u(e,["requests[]","title"],o);const l=a(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&u(e,["requests[]","outputDimensionality"],l),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function aw(t,e){const n={},i=a(t,["taskType"]);e!==void 0&&i!=null&&u(e,["instances[]","task_type"],i);const o=a(t,["title"]);e!==void 0&&o!=null&&u(e,["instances[]","title"],o);const l=a(t,["outputDimensionality"]);e!==void 0&&l!=null&&u(e,["parameters","outputDimensionality"],l);const s=a(t,["mimeType"]);e!==void 0&&s!=null&&u(e,["instances[]","mimeType"],s);const r=a(t,["autoTruncate"]);return e!==void 0&&r!=null&&u(e,["parameters","autoTruncate"],r),n}function rw(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["contents"]);if(o!=null){let r=Xf(t,o);Array.isArray(r)&&(r=r.map(c=>c)),u(n,["requests[]","content"],r)}const l=a(e,["config"]);l!=null&&sw(l,n);const s=a(e,["model"]);return s!==void 0&&u(n,["requests[]","model"],le(t,s)),n}function uw(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["contents"]);if(o!=null){let s=Xf(t,o);Array.isArray(s)&&(s=s.map(r=>r)),u(n,["instances[]","content"],s)}const l=a(e,["config"]);return l!=null&&aw(l,n),n}function cw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>s)),u(e,["embeddings"],l)}const o=a(t,["metadata"]);return o!=null&&u(e,["metadata"],o),e}function fw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["predictions[]","embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>Fx(s))),u(e,["embeddings"],l)}const o=a(t,["metadata"]);return o!=null&&u(e,["metadata"],o),e}function dw(t){const e={},n=a(t,["endpoint"]);n!=null&&u(e,["name"],n);const i=a(t,["deployedModelId"]);return i!=null&&u(e,["deployedModelId"],i),e}function pw(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function hw(t){const e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);const i=a(t,["args"]);i!=null&&u(e,["args"],i);const o=a(t,["name"]);if(o!=null&&u(e,["name"],o),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function gw(t){const e={},n=a(t,["mode"]);n!=null&&u(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);if(i!=null&&u(e,["allowedFunctionNames"],i),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function mw(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&u(e,["description"],n);const i=a(t,["name"]);i!=null&&u(e,["name"],i);const o=a(t,["parameters"]);o!=null&&u(e,["parameters"],o);const l=a(t,["parametersJsonSchema"]);l!=null&&u(e,["parametersJsonSchema"],l);const s=a(t,["response"]);s!=null&&u(e,["response"],s);const r=a(t,["responseJsonSchema"]);return r!=null&&u(e,["responseJsonSchema"],r),e}function yw(t,e,n){const i={},o=a(e,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],xr(Ye(o)));const l=a(e,["temperature"]);l!=null&&u(i,["temperature"],l);const s=a(e,["topP"]);s!=null&&u(i,["topP"],s);const r=a(e,["topK"]);r!=null&&u(i,["topK"],r);const c=a(e,["candidateCount"]);c!=null&&u(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&u(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&u(i,["stopSequences"],d);const h=a(e,["responseLogprobs"]);h!=null&&u(i,["responseLogprobs"],h);const p=a(e,["logprobs"]);p!=null&&u(i,["logprobs"],p);const g=a(e,["presencePenalty"]);g!=null&&u(i,["presencePenalty"],g);const v=a(e,["frequencyPenalty"]);v!=null&&u(i,["frequencyPenalty"],v);const E=a(e,["seed"]);E!=null&&u(i,["seed"],E);const _=a(e,["responseMimeType"]);_!=null&&u(i,["responseMimeType"],_);const y=a(e,["responseSchema"]);y!=null&&u(i,["responseSchema"],Qf(y));const m=a(e,["responseJsonSchema"]);if(m!=null&&u(i,["responseJsonSchema"],m),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=a(e,["safetySettings"]);if(n!==void 0&&T!=null){let O=T;Array.isArray(O)&&(O=O.map(ae=>ab(ae))),u(n,["safetySettings"],O)}const C=a(e,["tools"]);if(n!==void 0&&C!=null){let O=rl(C);Array.isArray(O)&&(O=O.map(ae=>hb(al(ae)))),u(n,["tools"],O)}const x=a(e,["toolConfig"]);if(n!==void 0&&x!=null&&u(n,["toolConfig"],pb(x)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=a(e,["cachedContent"]);n!==void 0&&M!=null&&u(n,["cachedContent"],Dn(t,M));const A=a(e,["responseModalities"]);A!=null&&u(i,["responseModalities"],A);const N=a(e,["mediaResolution"]);N!=null&&u(i,["mediaResolution"],N);const b=a(e,["speechConfig"]);if(b!=null&&u(i,["speechConfig"],Zf(b)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const L=a(e,["thinkingConfig"]);L!=null&&u(i,["thinkingConfig"],L);const z=a(e,["imageConfig"]);z!=null&&u(i,["imageConfig"],Fw(z));const se=a(e,["enableEnhancedCivicAnswers"]);return se!=null&&u(i,["enableEnhancedCivicAnswers"],se),i}function vw(t,e,n){const i={},o=a(e,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],Ye(o));const l=a(e,["temperature"]);l!=null&&u(i,["temperature"],l);const s=a(e,["topP"]);s!=null&&u(i,["topP"],s);const r=a(e,["topK"]);r!=null&&u(i,["topK"],r);const c=a(e,["candidateCount"]);c!=null&&u(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&u(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&u(i,["stopSequences"],d);const h=a(e,["responseLogprobs"]);h!=null&&u(i,["responseLogprobs"],h);const p=a(e,["logprobs"]);p!=null&&u(i,["logprobs"],p);const g=a(e,["presencePenalty"]);g!=null&&u(i,["presencePenalty"],g);const v=a(e,["frequencyPenalty"]);v!=null&&u(i,["frequencyPenalty"],v);const E=a(e,["seed"]);E!=null&&u(i,["seed"],E);const _=a(e,["responseMimeType"]);_!=null&&u(i,["responseMimeType"],_);const y=a(e,["responseSchema"]);y!=null&&u(i,["responseSchema"],Qf(y));const m=a(e,["responseJsonSchema"]);m!=null&&u(i,["responseJsonSchema"],m);const T=a(e,["routingConfig"]);T!=null&&u(i,["routingConfig"],T);const C=a(e,["modelSelectionConfig"]);C!=null&&u(i,["modelConfig"],C);const x=a(e,["safetySettings"]);if(n!==void 0&&x!=null){let I=x;Array.isArray(I)&&(I=I.map(V=>V)),u(n,["safetySettings"],I)}const M=a(e,["tools"]);if(n!==void 0&&M!=null){let I=rl(M);Array.isArray(I)&&(I=I.map(V=>dv(al(V)))),u(n,["tools"],I)}const A=a(e,["toolConfig"]);n!==void 0&&A!=null&&u(n,["toolConfig"],A);const N=a(e,["labels"]);n!==void 0&&N!=null&&u(n,["labels"],N);const b=a(e,["cachedContent"]);n!==void 0&&b!=null&&u(n,["cachedContent"],Dn(t,b));const L=a(e,["responseModalities"]);L!=null&&u(i,["responseModalities"],L);const z=a(e,["mediaResolution"]);z!=null&&u(i,["mediaResolution"],z);const se=a(e,["speechConfig"]);se!=null&&u(i,["speechConfig"],fv(Zf(se)));const O=a(e,["audioTimestamp"]);O!=null&&u(i,["audioTimestamp"],O);const ae=a(e,["thinkingConfig"]);ae!=null&&u(i,["thinkingConfig"],ae);const F=a(e,["imageConfig"]);if(F!=null&&u(i,["imageConfig"],Jw(F)),a(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function jh(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["contents"]);if(o!=null){let s=Dt(o);Array.isArray(s)&&(s=s.map(r=>xr(r))),u(n,["contents"],s)}const l=a(e,["config"]);return l!=null&&u(n,["generationConfig"],yw(t,l,n)),n}function eg(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["contents"]);if(o!=null){let s=Dt(o);Array.isArray(s)&&(s=s.map(r=>r)),u(n,["contents"],s)}const l=a(e,["config"]);return l!=null&&u(n,["generationConfig"],vw(t,l,n)),n}function tg(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>Vx(f))),u(e,["candidates"],c)}const o=a(t,["modelVersion"]);o!=null&&u(e,["modelVersion"],o);const l=a(t,["promptFeedback"]);l!=null&&u(e,["promptFeedback"],l);const s=a(t,["responseId"]);s!=null&&u(e,["responseId"],s);const r=a(t,["usageMetadata"]);return r!=null&&u(e,["usageMetadata"],r),e}function ng(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>d)),u(e,["candidates"],f)}const o=a(t,["createTime"]);o!=null&&u(e,["createTime"],o);const l=a(t,["modelVersion"]);l!=null&&u(e,["modelVersion"],l);const s=a(t,["promptFeedback"]);s!=null&&u(e,["promptFeedback"],s);const r=a(t,["responseId"]);r!=null&&u(e,["responseId"],r);const c=a(t,["usageMetadata"]);return c!=null&&u(e,["usageMetadata"],c),e}function Sw(t,e){const n={};if(a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=a(t,["numberOfImages"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);const o=a(t,["aspectRatio"]);e!==void 0&&o!=null&&u(e,["parameters","aspectRatio"],o);const l=a(t,["guidanceScale"]);if(e!==void 0&&l!=null&&u(e,["parameters","guidanceScale"],l),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=a(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&u(e,["parameters","safetySetting"],s);const r=a(t,["personGeneration"]);e!==void 0&&r!=null&&u(e,["parameters","personGeneration"],r);const c=a(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&u(e,["parameters","includeSafetyAttributes"],c);const f=a(t,["includeRaiReason"]);e!==void 0&&f!=null&&u(e,["parameters","includeRaiReason"],f);const d=a(t,["language"]);e!==void 0&&d!=null&&u(e,["parameters","language"],d);const h=a(t,["outputMimeType"]);e!==void 0&&h!=null&&u(e,["parameters","outputOptions","mimeType"],h);const p=a(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&u(e,["parameters","outputOptions","compressionQuality"],p),a(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=a(t,["imageSize"]);if(e!==void 0&&g!=null&&u(e,["parameters","sampleImageSize"],g),a(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Tw(t,e){const n={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);const o=a(t,["negativePrompt"]);e!==void 0&&o!=null&&u(e,["parameters","negativePrompt"],o);const l=a(t,["numberOfImages"]);e!==void 0&&l!=null&&u(e,["parameters","sampleCount"],l);const s=a(t,["aspectRatio"]);e!==void 0&&s!=null&&u(e,["parameters","aspectRatio"],s);const r=a(t,["guidanceScale"]);e!==void 0&&r!=null&&u(e,["parameters","guidanceScale"],r);const c=a(t,["seed"]);e!==void 0&&c!=null&&u(e,["parameters","seed"],c);const f=a(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&u(e,["parameters","safetySetting"],f);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&u(e,["parameters","personGeneration"],d);const h=a(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&u(e,["parameters","includeSafetyAttributes"],h);const p=a(t,["includeRaiReason"]);e!==void 0&&p!=null&&u(e,["parameters","includeRaiReason"],p);const g=a(t,["language"]);e!==void 0&&g!=null&&u(e,["parameters","language"],g);const v=a(t,["outputMimeType"]);e!==void 0&&v!=null&&u(e,["parameters","outputOptions","mimeType"],v);const E=a(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&u(e,["parameters","outputOptions","compressionQuality"],E);const _=a(t,["addWatermark"]);e!==void 0&&_!=null&&u(e,["parameters","addWatermark"],_);const y=a(t,["labels"]);e!==void 0&&y!=null&&u(e,["labels"],y);const m=a(t,["imageSize"]);e!==void 0&&m!=null&&u(e,["parameters","sampleImageSize"],m);const T=a(t,["enhancePrompt"]);return e!==void 0&&T!=null&&u(e,["parameters","enhancePrompt"],T),n}function Ew(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const l=a(e,["config"]);return l!=null&&Sw(l,n),n}function Cw(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const l=a(e,["config"]);return l!=null&&Tw(l,n),n}function _w(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>kw(s))),u(e,["generatedImages"],l)}const o=a(t,["positivePromptSafetyAttributes"]);return o!=null&&u(e,["positivePromptSafetyAttributes"],uv(o)),e}function Aw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>wr(s))),u(e,["generatedImages"],l)}const o=a(t,["positivePromptSafetyAttributes"]);return o!=null&&u(e,["positivePromptSafetyAttributes"],cv(o)),e}function xw(t,e){const n={},i=a(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i),a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=a(t,["durationSeconds"]);if(e!==void 0&&o!=null&&u(e,["parameters","durationSeconds"],o),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=a(t,["aspectRatio"]);e!==void 0&&l!=null&&u(e,["parameters","aspectRatio"],l);const s=a(t,["resolution"]);e!==void 0&&s!=null&&u(e,["parameters","resolution"],s);const r=a(t,["personGeneration"]);if(e!==void 0&&r!=null&&u(e,["parameters","personGeneration"],r),a(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=a(t,["negativePrompt"]);e!==void 0&&c!=null&&u(e,["parameters","negativePrompt"],c);const f=a(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&u(e,["parameters","enhancePrompt"],f),a(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=a(t,["lastFrame"]);e!==void 0&&d!=null&&u(e,["instances[0]","lastFrame"],br(d));const h=a(t,["referenceImages"]);if(e!==void 0&&h!=null){let p=h;Array.isArray(p)&&(p=p.map(g=>bb(g))),u(e,["instances[0]","referenceImages"],p)}if(a(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(a(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function ww(t,e){const n={},i=a(t,["numberOfVideos"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);const o=a(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const l=a(t,["fps"]);e!==void 0&&l!=null&&u(e,["parameters","fps"],l);const s=a(t,["durationSeconds"]);e!==void 0&&s!=null&&u(e,["parameters","durationSeconds"],s);const r=a(t,["seed"]);e!==void 0&&r!=null&&u(e,["parameters","seed"],r);const c=a(t,["aspectRatio"]);e!==void 0&&c!=null&&u(e,["parameters","aspectRatio"],c);const f=a(t,["resolution"]);e!==void 0&&f!=null&&u(e,["parameters","resolution"],f);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&u(e,["parameters","personGeneration"],d);const h=a(t,["pubsubTopic"]);e!==void 0&&h!=null&&u(e,["parameters","pubsubTopic"],h);const p=a(t,["negativePrompt"]);e!==void 0&&p!=null&&u(e,["parameters","negativePrompt"],p);const g=a(t,["enhancePrompt"]);e!==void 0&&g!=null&&u(e,["parameters","enhancePrompt"],g);const v=a(t,["generateAudio"]);e!==void 0&&v!=null&&u(e,["parameters","generateAudio"],v);const E=a(t,["lastFrame"]);e!==void 0&&E!=null&&u(e,["instances[0]","lastFrame"],Ft(E));const _=a(t,["referenceImages"]);if(e!==void 0&&_!=null){let T=_;Array.isArray(T)&&(T=T.map(C=>Rb(C))),u(e,["instances[0]","referenceImages"],T)}const y=a(t,["mask"]);e!==void 0&&y!=null&&u(e,["instances[0]","mask"],wb(y));const m=a(t,["compressionQuality"]);return e!==void 0&&m!=null&&u(e,["parameters","compressionQuality"],m),n}function bw(t){const e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);const i=a(t,["metadata"]);i!=null&&u(e,["metadata"],i);const o=a(t,["done"]);o!=null&&u(e,["done"],o);const l=a(t,["error"]);l!=null&&u(e,["error"],l);const s=a(t,["response","generateVideoResponse"]);return s!=null&&u(e,["response"],Iw(s)),e}function Rw(t){const e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);const i=a(t,["metadata"]);i!=null&&u(e,["metadata"],i);const o=a(t,["done"]);o!=null&&u(e,["done"],o);const l=a(t,["error"]);l!=null&&u(e,["error"],l);const s=a(t,["response"]);return s!=null&&u(e,["response"],Dw(s)),e}function Nw(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const l=a(e,["image"]);l!=null&&u(n,["instances[0]","image"],br(l));const s=a(e,["video"]);s!=null&&u(n,["instances[0]","video"],pv(s));const r=a(e,["source"]);r!=null&&Lw(r,n);const c=a(e,["config"]);return c!=null&&xw(c,n),n}function Mw(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const l=a(e,["image"]);l!=null&&u(n,["instances[0]","image"],Ft(l));const s=a(e,["video"]);s!=null&&u(n,["instances[0]","video"],hv(s));const r=a(e,["source"]);r!=null&&Uw(r,n);const c=a(e,["config"]);return c!=null&&ww(c,n),n}function Iw(t){const e={},n=a(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>Pw(s))),u(e,["generatedVideos"],l)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&u(e,["raiMediaFilteredCount"],i);const o=a(t,["raiMediaFilteredReasons"]);return o!=null&&u(e,["raiMediaFilteredReasons"],o),e}function Dw(t){const e={},n=a(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>Hw(s))),u(e,["generatedVideos"],l)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&u(e,["raiMediaFilteredCount"],i);const o=a(t,["raiMediaFilteredReasons"]);return o!=null&&u(e,["raiMediaFilteredReasons"],o),e}function Lw(t,e){const n={},i=a(t,["prompt"]);e!==void 0&&i!=null&&u(e,["instances[0]","prompt"],i);const o=a(t,["image"]);e!==void 0&&o!=null&&u(e,["instances[0]","image"],br(o));const l=a(t,["video"]);return e!==void 0&&l!=null&&u(e,["instances[0]","video"],pv(l)),n}function Uw(t,e){const n={},i=a(t,["prompt"]);e!==void 0&&i!=null&&u(e,["instances[0]","prompt"],i);const o=a(t,["image"]);e!==void 0&&o!=null&&u(e,["instances[0]","image"],Ft(o));const l=a(t,["video"]);return e!==void 0&&l!=null&&u(e,["instances[0]","video"],hv(l)),n}function kw(t){const e={},n=a(t,["_self"]);n!=null&&u(e,["image"],Yw(n));const i=a(t,["raiFilteredReason"]);i!=null&&u(e,["raiFilteredReason"],i);const o=a(t,["_self"]);return o!=null&&u(e,["safetyAttributes"],uv(o)),e}function wr(t){const e={},n=a(t,["_self"]);n!=null&&u(e,["image"],rv(n));const i=a(t,["raiFilteredReason"]);i!=null&&u(e,["raiFilteredReason"],i);const o=a(t,["_self"]);o!=null&&u(e,["safetyAttributes"],cv(o));const l=a(t,["prompt"]);return l!=null&&u(e,["enhancedPrompt"],l),e}function Ow(t){const e={},n=a(t,["_self"]);n!=null&&u(e,["mask"],rv(n));const i=a(t,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),u(e,["labels"],o)}return e}function Pw(t){const e={},n=a(t,["video"]);return n!=null&&u(e,["video"],Ab(n)),e}function Hw(t){const e={},n=a(t,["_self"]);return n!=null&&u(e,["video"],xb(n)),e}function Gw(t){const e={},n=a(t,["modelSelectionConfig"]);n!=null&&u(e,["modelConfig"],n);const i=a(t,["responseJsonSchema"]);i!=null&&u(e,["responseJsonSchema"],i);const o=a(t,["audioTimestamp"]);o!=null&&u(e,["audioTimestamp"],o);const l=a(t,["candidateCount"]);l!=null&&u(e,["candidateCount"],l);const s=a(t,["enableAffectiveDialog"]);s!=null&&u(e,["enableAffectiveDialog"],s);const r=a(t,["frequencyPenalty"]);r!=null&&u(e,["frequencyPenalty"],r);const c=a(t,["logprobs"]);c!=null&&u(e,["logprobs"],c);const f=a(t,["maxOutputTokens"]);f!=null&&u(e,["maxOutputTokens"],f);const d=a(t,["mediaResolution"]);d!=null&&u(e,["mediaResolution"],d);const h=a(t,["presencePenalty"]);h!=null&&u(e,["presencePenalty"],h);const p=a(t,["responseLogprobs"]);p!=null&&u(e,["responseLogprobs"],p);const g=a(t,["responseMimeType"]);g!=null&&u(e,["responseMimeType"],g);const v=a(t,["responseModalities"]);v!=null&&u(e,["responseModalities"],v);const E=a(t,["responseSchema"]);E!=null&&u(e,["responseSchema"],E);const _=a(t,["routingConfig"]);_!=null&&u(e,["routingConfig"],_);const y=a(t,["seed"]);y!=null&&u(e,["seed"],y);const m=a(t,["speechConfig"]);m!=null&&u(e,["speechConfig"],fv(m));const T=a(t,["stopSequences"]);T!=null&&u(e,["stopSequences"],T);const C=a(t,["temperature"]);C!=null&&u(e,["temperature"],C);const x=a(t,["thinkingConfig"]);x!=null&&u(e,["thinkingConfig"],x);const M=a(t,["topK"]);M!=null&&u(e,["topK"],M);const A=a(t,["topP"]);if(A!=null&&u(e,["topP"],A),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Vw(t,e){const n={},i=a(e,["model"]);return i!=null&&u(n,["_url","name"],le(t,i)),n}function zw(t,e){const n={},i=a(e,["model"]);return i!=null&&u(n,["_url","name"],le(t,i)),n}function Bw(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function qw(t){const e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function Fw(t){const e={},n=a(t,["aspectRatio"]);n!=null&&u(e,["aspectRatio"],n);const i=a(t,["imageSize"]);if(i!=null&&u(e,["imageSize"],i),a(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Jw(t){const e={},n=a(t,["aspectRatio"]);n!=null&&u(e,["aspectRatio"],n);const i=a(t,["imageSize"]);i!=null&&u(e,["imageSize"],i);const o=a(t,["outputMimeType"]);o!=null&&u(e,["imageOutputOptions","mimeType"],o);const l=a(t,["outputCompressionQuality"]);return l!=null&&u(e,["imageOutputOptions","compressionQuality"],l),e}function Yw(t){const e={},n=a(t,["bytesBase64Encoded"]);n!=null&&u(e,["imageBytes"],hi(n));const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function rv(t){const e={},n=a(t,["gcsUri"]);n!=null&&u(e,["gcsUri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&u(e,["imageBytes"],hi(i));const o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function br(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=a(t,["imageBytes"]);n!=null&&u(e,["bytesBase64Encoded"],hi(n));const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function Ft(t){const e={},n=a(t,["gcsUri"]);n!=null&&u(e,["gcsUri"],n);const i=a(t,["imageBytes"]);i!=null&&u(e,["bytesBase64Encoded"],hi(i));const o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Kw(t,e,n){const i={},o=a(e,["pageSize"]);n!==void 0&&o!=null&&u(n,["_query","pageSize"],o);const l=a(e,["pageToken"]);n!==void 0&&l!=null&&u(n,["_query","pageToken"],l);const s=a(e,["filter"]);n!==void 0&&s!=null&&u(n,["_query","filter"],s);const r=a(e,["queryBase"]);return n!==void 0&&r!=null&&u(n,["_url","models_url"],ev(t,r)),i}function $w(t,e,n){const i={},o=a(e,["pageSize"]);n!==void 0&&o!=null&&u(n,["_query","pageSize"],o);const l=a(e,["pageToken"]);n!==void 0&&l!=null&&u(n,["_query","pageToken"],l);const s=a(e,["filter"]);n!==void 0&&s!=null&&u(n,["_query","filter"],s);const r=a(e,["queryBase"]);return n!==void 0&&r!=null&&u(n,["_url","models_url"],ev(t,r)),i}function Xw(t,e){const n={},i=a(e,["config"]);return i!=null&&Kw(t,i,n),n}function Qw(t,e){const n={},i=a(e,["config"]);return i!=null&&$w(t,i,n),n}function Zw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=a(t,["_self"]);if(o!=null){let l=tv(o);Array.isArray(l)&&(l=l.map(s=>Nc(s))),u(e,["models"],l)}return e}function Ww(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=a(t,["_self"]);if(o!=null){let l=tv(o);Array.isArray(l)&&(l=l.map(s=>Mc(s))),u(e,["models"],l)}return e}function jw(t){const e={},n=a(t,["maskMode"]);n!=null&&u(e,["maskMode"],n);const i=a(t,["segmentationClasses"]);i!=null&&u(e,["maskClasses"],i);const o=a(t,["maskDilation"]);return o!=null&&u(e,["dilation"],o),e}function Nc(t){const e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);const i=a(t,["displayName"]);i!=null&&u(e,["displayName"],i);const o=a(t,["description"]);o!=null&&u(e,["description"],o);const l=a(t,["version"]);l!=null&&u(e,["version"],l);const s=a(t,["_self"]);s!=null&&u(e,["tunedModelInfo"],gb(s));const r=a(t,["inputTokenLimit"]);r!=null&&u(e,["inputTokenLimit"],r);const c=a(t,["outputTokenLimit"]);c!=null&&u(e,["outputTokenLimit"],c);const f=a(t,["supportedGenerationMethods"]);f!=null&&u(e,["supportedActions"],f);const d=a(t,["temperature"]);d!=null&&u(e,["temperature"],d);const h=a(t,["maxTemperature"]);h!=null&&u(e,["maxTemperature"],h);const p=a(t,["topP"]);p!=null&&u(e,["topP"],p);const g=a(t,["topK"]);g!=null&&u(e,["topK"],g);const v=a(t,["thinking"]);return v!=null&&u(e,["thinking"],v),e}function Mc(t){const e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);const i=a(t,["displayName"]);i!=null&&u(e,["displayName"],i);const o=a(t,["description"]);o!=null&&u(e,["description"],o);const l=a(t,["versionId"]);l!=null&&u(e,["version"],l);const s=a(t,["deployedModels"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(p=>dw(p))),u(e,["endpoints"],h)}const r=a(t,["labels"]);r!=null&&u(e,["labels"],r);const c=a(t,["_self"]);c!=null&&u(e,["tunedModelInfo"],mb(c));const f=a(t,["defaultCheckpointId"]);f!=null&&u(e,["defaultCheckpointId"],f);const d=a(t,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(p=>p)),u(e,["checkpoints"],h)}return e}function eb(t){const e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);const i=a(t,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const o=a(t,["executableCode"]);o!=null&&u(e,["executableCode"],o);const l=a(t,["fileData"]);l!=null&&u(e,["fileData"],pw(l));const s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],hw(s));const r=a(t,["functionResponse"]);r!=null&&u(e,["functionResponse"],r);const c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],Gx(c));const f=a(t,["text"]);f!=null&&u(e,["text"],f);const d=a(t,["thought"]);d!=null&&u(e,["thought"],d);const h=a(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const p=a(t,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function tb(t){const e={},n=a(t,["productImage"]);return n!=null&&u(e,["image"],Ft(n)),e}function nb(t,e){const n={},i=a(t,["numberOfImages"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);const o=a(t,["baseSteps"]);e!==void 0&&o!=null&&u(e,["parameters","baseSteps"],o);const l=a(t,["outputGcsUri"]);e!==void 0&&l!=null&&u(e,["parameters","storageUri"],l);const s=a(t,["seed"]);e!==void 0&&s!=null&&u(e,["parameters","seed"],s);const r=a(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&u(e,["parameters","safetySetting"],r);const c=a(t,["personGeneration"]);e!==void 0&&c!=null&&u(e,["parameters","personGeneration"],c);const f=a(t,["addWatermark"]);e!==void 0&&f!=null&&u(e,["parameters","addWatermark"],f);const d=a(t,["outputMimeType"]);e!==void 0&&d!=null&&u(e,["parameters","outputOptions","mimeType"],d);const h=a(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&u(e,["parameters","outputOptions","compressionQuality"],h);const p=a(t,["enhancePrompt"]);e!==void 0&&p!=null&&u(e,["parameters","enhancePrompt"],p);const g=a(t,["labels"]);return e!==void 0&&g!=null&&u(e,["labels"],g),n}function ib(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["source"]);o!=null&&lb(o,n);const l=a(e,["config"]);return l!=null&&nb(l,n),n}function ob(t){const e={},n=a(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>wr(o))),u(e,["generatedImages"],i)}return e}function lb(t,e){const n={},i=a(t,["prompt"]);e!==void 0&&i!=null&&u(e,["instances[0]","prompt"],i);const o=a(t,["personImage"]);e!==void 0&&o!=null&&u(e,["instances[0]","personImage","image"],Ft(o));const l=a(t,["productImages"]);if(e!==void 0&&l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>tb(r))),u(e,["instances[0]","productImages"],s)}return n}function sb(t){const e={},n=a(t,["referenceImage"]);n!=null&&u(e,["referenceImage"],Ft(n));const i=a(t,["referenceId"]);i!=null&&u(e,["referenceId"],i);const o=a(t,["referenceType"]);o!=null&&u(e,["referenceType"],o);const l=a(t,["maskImageConfig"]);l!=null&&u(e,["maskImageConfig"],jw(l));const s=a(t,["controlImageConfig"]);s!=null&&u(e,["controlImageConfig"],Yx(s));const r=a(t,["styleImageConfig"]);r!=null&&u(e,["styleImageConfig"],r);const c=a(t,["subjectImageConfig"]);return c!=null&&u(e,["subjectImageConfig"],c),e}function uv(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&u(e,["categories"],n);const i=a(t,["safetyAttributes","scores"]);i!=null&&u(e,["scores"],i);const o=a(t,["contentType"]);return o!=null&&u(e,["contentType"],o),e}function cv(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&u(e,["categories"],n);const i=a(t,["safetyAttributes","scores"]);i!=null&&u(e,["scores"],i);const o=a(t,["contentType"]);return o!=null&&u(e,["contentType"],o),e}function ab(t){const e={},n=a(t,["category"]);if(n!=null&&u(e,["category"],n),a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=a(t,["threshold"]);return i!=null&&u(e,["threshold"],i),e}function rb(t){const e={},n=a(t,["image"]);return n!=null&&u(e,["image"],Ft(n)),e}function ub(t,e){const n={},i=a(t,["mode"]);e!==void 0&&i!=null&&u(e,["parameters","mode"],i);const o=a(t,["maxPredictions"]);e!==void 0&&o!=null&&u(e,["parameters","maxPredictions"],o);const l=a(t,["confidenceThreshold"]);e!==void 0&&l!=null&&u(e,["parameters","confidenceThreshold"],l);const s=a(t,["maskDilation"]);e!==void 0&&s!=null&&u(e,["parameters","maskDilation"],s);const r=a(t,["binaryColorThreshold"]);e!==void 0&&r!=null&&u(e,["parameters","binaryColorThreshold"],r);const c=a(t,["labels"]);return e!==void 0&&c!=null&&u(e,["labels"],c),n}function cb(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["source"]);o!=null&&db(o,n);const l=a(e,["config"]);return l!=null&&ub(l,n),n}function fb(t){const e={},n=a(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ow(o))),u(e,["generatedMasks"],i)}return e}function db(t,e){const n={},i=a(t,["prompt"]);e!==void 0&&i!=null&&u(e,["instances[0]","prompt"],i);const o=a(t,["image"]);e!==void 0&&o!=null&&u(e,["instances[0]","image"],Ft(o));const l=a(t,["scribbleImage"]);return e!==void 0&&l!=null&&u(e,["instances[0]","scribble"],rb(l)),n}function fv(t){const e={},n=a(t,["voiceConfig"]);n!=null&&u(e,["voiceConfig"],n);const i=a(t,["languageCode"]);if(i!=null&&u(e,["languageCode"],i),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function pb(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&u(e,["functionCallingConfig"],gw(n));const i=a(t,["retrievalConfig"]);return i!=null&&u(e,["retrievalConfig"],i),e}function hb(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),u(e,["functionDeclarations"],d)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearchRetrieval"]);i!=null&&u(e,["googleSearchRetrieval"],i);const o=a(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);const l=a(t,["fileSearch"]);l!=null&&u(e,["fileSearch"],l);const s=a(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=a(t,["googleMaps"]);r!=null&&u(e,["googleMaps"],Bw(r));const c=a(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],qw(c));const f=a(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function dv(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>mw(p))),u(e,["functionDeclarations"],h)}const i=a(t,["retrieval"]);i!=null&&u(e,["retrieval"],i);const o=a(t,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);const l=a(t,["computerUse"]);if(l!=null&&u(e,["computerUse"],l),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=a(t,["codeExecution"]);s!=null&&u(e,["codeExecution"],s);const r=a(t,["enterpriseWebSearch"]);r!=null&&u(e,["enterpriseWebSearch"],r);const c=a(t,["googleMaps"]);c!=null&&u(e,["googleMaps"],c);const f=a(t,["googleSearch"]);f!=null&&u(e,["googleSearch"],f);const d=a(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function gb(t){const e={},n=a(t,["baseModel"]);n!=null&&u(e,["baseModel"],n);const i=a(t,["createTime"]);i!=null&&u(e,["createTime"],i);const o=a(t,["updateTime"]);return o!=null&&u(e,["updateTime"],o),e}function mb(t){const e={},n=a(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&u(e,["baseModel"],n);const i=a(t,["createTime"]);i!=null&&u(e,["createTime"],i);const o=a(t,["updateTime"]);return o!=null&&u(e,["updateTime"],o),e}function yb(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);const o=a(t,["description"]);e!==void 0&&o!=null&&u(e,["description"],o);const l=a(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&u(e,["defaultCheckpointId"],l),n}function vb(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);const o=a(t,["description"]);e!==void 0&&o!=null&&u(e,["description"],o);const l=a(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&u(e,["defaultCheckpointId"],l),n}function Sb(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","name"],le(t,i));const o=a(e,["config"]);return o!=null&&yb(o,n),n}function Tb(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["config"]);return o!=null&&vb(o,n),n}function Eb(t,e){const n={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);const o=a(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&u(e,["parameters","safetySetting"],o);const l=a(t,["personGeneration"]);e!==void 0&&l!=null&&u(e,["parameters","personGeneration"],l);const s=a(t,["includeRaiReason"]);e!==void 0&&s!=null&&u(e,["parameters","includeRaiReason"],s);const r=a(t,["outputMimeType"]);e!==void 0&&r!=null&&u(e,["parameters","outputOptions","mimeType"],r);const c=a(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&u(e,["parameters","outputOptions","compressionQuality"],c);const f=a(t,["enhanceInputImage"]);e!==void 0&&f!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],f);const d=a(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const h=a(t,["labels"]);e!==void 0&&h!=null&&u(e,["labels"],h);const p=a(t,["numberOfImages"]);e!==void 0&&p!=null&&u(e,["parameters","sampleCount"],p);const g=a(t,["mode"]);return e!==void 0&&g!=null&&u(e,["parameters","mode"],g),n}function Cb(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["image"]);o!=null&&u(n,["instances[0]","image"],Ft(o));const l=a(e,["upscaleFactor"]);l!=null&&u(n,["parameters","upscaleConfig","upscaleFactor"],l);const s=a(e,["config"]);return s!=null&&Eb(s,n),n}function _b(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>wr(l))),u(e,["generatedImages"],o)}return e}function Ab(t){const e={},n=a(t,["uri"]);n!=null&&u(e,["uri"],n);const i=a(t,["encodedVideo"]);i!=null&&u(e,["videoBytes"],hi(i));const o=a(t,["encoding"]);return o!=null&&u(e,["mimeType"],o),e}function xb(t){const e={},n=a(t,["gcsUri"]);n!=null&&u(e,["uri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&u(e,["videoBytes"],hi(i));const o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function wb(t){const e={},n=a(t,["image"]);n!=null&&u(e,["_self"],Ft(n));const i=a(t,["maskMode"]);return i!=null&&u(e,["maskMode"],i),e}function bb(t){const e={},n=a(t,["image"]);n!=null&&u(e,["image"],br(n));const i=a(t,["referenceType"]);return i!=null&&u(e,["referenceType"],i),e}function Rb(t){const e={},n=a(t,["image"]);n!=null&&u(e,["image"],Ft(n));const i=a(t,["referenceType"]);return i!=null&&u(e,["referenceType"],i),e}function pv(t){const e={},n=a(t,["uri"]);n!=null&&u(e,["uri"],n);const i=a(t,["videoBytes"]);i!=null&&u(e,["encodedVideo"],hi(i));const o=a(t,["mimeType"]);return o!=null&&u(e,["encoding"],o),e}function hv(t){const e={},n=a(t,["uri"]);n!=null&&u(e,["gcsUri"],n);const i=a(t,["videoBytes"]);i!=null&&u(e,["bytesBase64Encoded"],hi(i));const o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nb(t,e){const n={},i=a(t,["displayName"]);return e!==void 0&&i!=null&&u(e,["displayName"],i),n}function Mb(t){const e={},n=a(t,["config"]);return n!=null&&Nb(n,e),e}function Ib(t,e){const n={},i=a(t,["force"]);return e!==void 0&&i!=null&&u(e,["_query","force"],i),n}function Db(t){const e={},n=a(t,["name"]);n!=null&&u(e,["_url","name"],n);const i=a(t,["config"]);return i!=null&&Ib(i,e),e}function Lb(t){const e={},n=a(t,["name"]);return n!=null&&u(e,["_url","name"],n),e}function Ub(t,e){const n={},i=a(t,["customMetadata"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>s)),u(e,["customMetadata"],l)}const o=a(t,["chunkingConfig"]);return e!==void 0&&o!=null&&u(e,["chunkingConfig"],o),n}function kb(t){const e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);const i=a(t,["metadata"]);i!=null&&u(e,["metadata"],i);const o=a(t,["done"]);o!=null&&u(e,["done"],o);const l=a(t,["error"]);l!=null&&u(e,["error"],l);const s=a(t,["response"]);return s!=null&&u(e,["response"],Pb(s)),e}function Ob(t){const e={},n=a(t,["fileSearchStoreName"]);n!=null&&u(e,["_url","file_search_store_name"],n);const i=a(t,["fileName"]);i!=null&&u(e,["fileName"],i);const o=a(t,["config"]);return o!=null&&Ub(o,e),e}function Pb(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["parent"]);i!=null&&u(e,["parent"],i);const o=a(t,["documentName"]);return o!=null&&u(e,["documentName"],o),e}function Hb(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);return e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),n}function Gb(t){const e={},n=a(t,["config"]);return n!=null&&Hb(n,e),e}function Vb(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=a(t,["fileSearchStores"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(e,["fileSearchStores"],l)}return e}function gv(t,e){const n={},i=a(t,["mimeType"]);e!==void 0&&i!=null&&u(e,["mimeType"],i);const o=a(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const l=a(t,["customMetadata"]);if(e!==void 0&&l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>c)),u(e,["customMetadata"],r)}const s=a(t,["chunkingConfig"]);return e!==void 0&&s!=null&&u(e,["chunkingConfig"],s),n}function zb(t){const e={},n=a(t,["fileSearchStoreName"]);n!=null&&u(e,["_url","file_search_store_name"],n);const i=a(t,["config"]);return i!=null&&gv(i,e),e}function Bb(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qb="Content-Type",Fb="X-Server-Timeout",Jb="User-Agent",Ic="x-goog-api-client",Yb="1.33.0",Kb=`google-genai-sdk/${Yb}`,$b="v1beta1",Xb="v1beta";class Qb{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:$b,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Xb,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[s,r]of Object.entries(e.queryParams))o.searchParams.append(s,String(r));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),e.abortSignal),this.unaryApiCall(o,l,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,l]of Object.entries(n))typeof l=="object"?i[o]=Object.assign(Object.assign({},i[o]),l):l!==void 0&&(i[o]=l);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),e.abortSignal),this.streamApiCall(o,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,o){if(n&&n.timeout||o){const l=new AbortController,s=l.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const r=setTimeout(()=>l.abort(),n.timeout);r&&typeof r.unref=="function"&&r.unref()}o&&o.addEventListener("abort",()=>{l.abort()}),e.signal=s}return n&&n.extraBody!==null&&Zb(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await ig(o),new wc(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await ig(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){return zt(this,arguments,function*(){var i;const o=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let s="";const r="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:d}=yield Y(o.read());if(f){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=l.decode(d,{stream:!0});try{const v=JSON.parse(h);if("error"in v){const E=JSON.parse(JSON.stringify(v.error)),_=E.status,y=E.code,m=`got status: ${_}. ${JSON.stringify(v)}`;if(y>=400&&y<600)throw new Ar({message:m,status:y})}}catch(v){if(v.name==="ApiError")throw v}s+=h;let p=-1,g=0;for(;;){p=-1,g=0;for(const _ of c){const y=s.indexOf(_);y!==-1&&(p===-1||y<p)&&(p=y,g=_.length)}if(p===-1)break;const v=s.substring(0,p);s=s.substring(p+g);const E=v.trim();if(E.startsWith(r)){const _=E.substring(r.length).trim();try{const y=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Y(new wc(y))}catch(y){throw new Error(`exception parsing stream chunk ${_}. ${y}`)}}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=Kb+" "+this.clientOptions.userAgentExtra;return e[Jb]=n,e[Ic]=n,e[qb]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[o,l]of Object.entries(e.headers))i.append(o,l);e.timeout&&e.timeout>0&&i.append(Fb,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,s=await l.stat(e);o.sizeBytes=String(s.size);const r=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:s.type;if(r===void 0||r==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=r;const c={file:o},f=this.getFileName(e),d=H("upload/v1beta/files",c._url),h=await this.fetchUploadUrl(d,o.sizeBytes,o.mimeType,f,c,n==null?void 0:n.httpOptions);return l.upload(e,h,this)}async uploadFileToFileSearchStore(e,n,i){var o;const l=this.clientOptions.uploader,s=await l.stat(n),r=String(s.size),c=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(n),h={};i!=null&&gv(i,h);const p=await this.fetchUploadUrl(f,r,c,d,h,i==null?void 0:i.httpOptions);return l.uploadToFileSearchStore(n,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,o,l,s){var r;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},o?{"X-Goog-Upload-File-Name":o}:{})};const f=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(r=f==null?void 0:f.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function ig(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new Ar({message:o,status:n}):new Error(o)}}function Zb(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(l,s){const r=Object.assign({},l);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const f=s[c],d=r[c];f&&typeof f=="object"&&!Array.isArray(f)&&d&&typeof d=="object"&&!Array.isArray(d)?r[c]=i(d,f):(d&&f&&typeof d!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof f}. Overwriting.`),r[c]=f)}return r}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wb="mcp_used/unknown";let jb=!1;function mv(t){for(const e of t)if(e1(e)||typeof e=="object"&&"inputSchema"in e)return!0;return jb}function yv(t){var e;const n=(e=t[Ic])!==null&&e!==void 0?e:"";t[Ic]=(n+` ${Wb}`).trimStart()}function e1(t){return t!==null&&typeof t=="object"&&t instanceof jf}function t1(t){return zt(this,arguments,function*(n,i=100){let o,l=0;for(;l<i;){const s=yield Y(n.listTools({cursor:o}));for(const r of s.tools)yield yield Y(r),l++;if(!s.nextCursor)break;o=s.nextCursor}})}class jf{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new jf(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const l={},s=[];for(const d of this.mcpClients)try{for(var r=!0,c=(n=void 0,Bt(t1(d))),f;f=await c.next(),e=f.done,!e;r=!0){o=f.value,r=!1;const h=o;s.push(h);const p=h.name;if(l[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);l[p]=d}}catch(h){n={error:h}}finally{try{!r&&!e&&(i=c.return)&&await i.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),L_(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const s=await o.callTool({name:i.name,arguments:i.args},void 0,l);n.push({functionResponse:{name:i.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function n1(t,e,n){const i=new x_;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(i,o),e(i)}class i1{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),s=s1(this.apiClient.getDefaultHeaders()),r=this.apiClient.getApiKey(),c=`${o}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${r}`;let f=()=>{};const d=new Promise(T=>{f=T}),h=e.callbacks,p=function(){f({})},g=this.apiClient,v={onopen:p,onmessage:T=>{n1(g,h.onmessage,T)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(T){},onclose:(i=h==null?void 0:h.onclose)!==null&&i!==void 0?i:function(T){}},E=this.webSocketFactory.create(c,l1(s),v);E.connect(),await d;const m={setup:{model:le(this.apiClient,e.model)}};return E.send(JSON.stringify(m)),new o1(E,this.apiClient)}}class o1{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Mx(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Nx(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Io.PLAY)}pause(){this.sendPlaybackControl(Io.PAUSE)}stop(){this.sendPlaybackControl(Io.STOP)}resetContext(){this.sendPlaybackControl(Io.RESET_CONTEXT)}close(){this.conn.close()}}function l1(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function s1(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const a1="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function r1(t,e,n){const i=new A_;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const l=JSON.parse(o);if(t.isVertexAI()){const s=Lx(l);Object.assign(i,s)}else Object.assign(i,l);e(i)}class u1{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new i1(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,l,s,r;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let d;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&mv(e.config.tools)&&yv(h);const p=p1(h);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,d);else{const b=this.apiClient.getApiKey();let L="BidiGenerateContent",z="key";b!=null&&b.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),L="BidiGenerateContentConstrained",z="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${L}?${z}=${b}`}let g=()=>{};const v=new Promise(b=>{g=b}),E=e.callbacks,_=function(){var b;(b=E==null?void 0:E.onopen)===null||b===void 0||b.call(E),g({})},y=this.apiClient,m={onopen:_,onmessage:b=>{r1(y,E.onmessage,b)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(b){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(b){}},T=this.webSocketFactory.create(d,d1(p),m);T.connect(),await v;let C=le(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const b=this.apiClient.getProject(),L=this.apiClient.getLocation();C=`projects/${b}/locations/${L}/`+C}let x={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Xa.AUDIO]}:e.config.responseModalities=[Xa.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const M=(r=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&r!==void 0?r:[],A=[];for(const b of M)if(this.isCallableTool(b)){const L=b;A.push(await L.tool())}else A.push(b);A.length>0&&(e.config.tools=A);const N={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?x=Rx(this.apiClient,N):x=bx(this.apiClient,N),delete x.config,T.send(JSON.stringify(x)),new f1(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const c1={turnComplete:!0};class f1{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Dt(n.turns),e.isVertexAI()||(i=i.map(o=>xr(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const l of i){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(a1)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},c1),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Dx(e)}:n={realtimeInput:Ix(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function d1(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function p1(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const og=10;function lg(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(zo(s)){o=!0;break}if(!o)return!0;const l=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function zo(t){return"callTool"in t&&typeof t.callTool=="function"}function h1(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>zo(o)))!==null&&i!==void 0?i:!1}function sg(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,o)=>{if(zo(i))return;const l=i;l.functionDeclarations&&l.functionDeclarations.length>0&&n.push(o)}),n}function ag(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g1 extends In{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,l,s,r;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!h1(n)||lg(n.config))return await this.generateContentInternal(c);const f=sg(n);if(f.length>0){const E=f.map(_=>`tools[${_}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let d,h;const p=Dt(c.contents),g=(l=(o=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:og;let v=0;for(;v<g&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const E=d.candidates[0].content,_=[];for(const y of(r=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&r!==void 0?r:[])if(zo(y)){const T=await y.callTool(d.functionCalls);_.push(...T)}v++,h={role:"user",parts:_},c.contents=Dt(c.contents),c.contents.push(E),c.contents.push(h),ag(c.config)&&(p.push(E),p.push(h))}return ag(c.config)&&(d.automaticFunctionCallingHistory=p),d},this.generateContentStream=async n=>{var i,o,l,s,r;if(this.maybeMoveToResponseJsonSchem(n),lg(n.config)){const h=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(h)}const c=sg(n);if(c.length>0){const h=c.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(l=(o=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,d=(r=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.disable;if(f&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let l;const s=[];if(i!=null&&i.generatedImages)for(const c of i.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((o=c==null?void 0:c.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=c==null?void 0:c.safetyAttributes:s.push(c);let r;return l?r={generatedImages:s,positivePromptSafetyAttributes:l,sdkHttpResponse:i.sdkHttpResponse}:r={generatedImages:s,sdkHttpResponse:i.sdkHttpResponse},r}),this.list=async n=>{var i;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((i=s.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Zi(Nn.PAGED_ITEM_MODELS,r=>this.listInternal(r),await this.listInternal(s),s)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var i,o,l,s,r,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(l=n.source)===null||l===void 0?void 0:l.video)===null||s===void 0)&&s.uri&&(!((c=(r=n.source)===null||r===void 0?void 0:r.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,o;const l=(n=e.config)===null||n===void 0?void 0:n.tools;if(!l)return e;const s=await Promise.all(l.map(async c=>zo(c)?await c.tool():c)),r={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(r.config.tools=s,e.config&&e.config.tools&&mv(e.config.tools)){const c=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),yv(f),r.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return r}async initAfcToolsMap(e){var n,i,o;const l=new Map;for(const s of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(zo(s)){const r=s,c=await r.tool();for(const f of(o=c.functionDeclarations)!==null&&o!==void 0?o:[]){if(!f.name)throw new Error("Function declaration name is required.");if(l.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);l.set(f.name,r)}}return l}async processAfcStream(e){var n,i,o;const l=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:og;let s=!1,r=0;const c=await this.initAfcToolsMap(e);return function(f,d,h){return zt(this,arguments,function*(){for(var p,g,v,E,_,y;r<l;){s&&(r++,s=!1);const x=yield Y(f.processParamsMaybeAddMcpUsage(h)),M=yield Y(f.generateContentStreamInternal(x)),A=[],N=[];try{for(var m=!0,T=(g=void 0,Bt(M)),C;C=yield Y(T.next()),p=C.done,!p;m=!0){E=C.value,m=!1;const b=E;if(yield yield Y(b),b.candidates&&(!((_=b.candidates[0])===null||_===void 0)&&_.content)){N.push(b.candidates[0].content);for(const L of(y=b.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(r<l&&L.functionCall){if(!L.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(L.functionCall.name)){const z=yield Y(d.get(L.functionCall.name).callTool([L.functionCall]));A.push(...z)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${L.functionCall.name}`)}}}}catch(b){g={error:b}}finally{try{!m&&!p&&(v=T.return)&&(yield Y(v.call(T)))}finally{if(g)throw g.error}}if(A.length>0){s=!0;const b=new Nl;b.candidates=[{content:{role:"user",parts:A}}],yield yield Y(b);const L=[];L.push(...N),L.push({role:"user",parts:A});const z=Dt(h.contents).concat(L);h.contents=z}else break}})}(this,c,e)}async generateContentInternal(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=eg(this.apiClient,e);return r=H("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=ng(d),p=new Nl;return Object.assign(p,h),p})}else{const f=jh(this.apiClient,e);return r=H("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=tg(d),p=new Nl;return Object.assign(p,h),p})}}async generateContentStreamInternal(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=eg(this.apiClient,e);return r=H("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(h){return zt(this,arguments,function*(){var p,g,v,E;try{for(var _=!0,y=Bt(h),m;m=yield Y(y.next()),p=m.done,!p;_=!0){E=m.value,_=!1;const T=E,C=ng(yield Y(T.json()));C.sdkHttpResponse={headers:T.headers};const x=new Nl;Object.assign(x,C),yield yield Y(x)}}catch(T){g={error:T}}finally{try{!_&&!p&&(v=y.return)&&(yield Y(v.call(y)))}finally{if(g)throw g.error}}})})}else{const f=jh(this.apiClient,e);return r=H("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),s.then(function(h){return zt(this,arguments,function*(){var p,g,v,E;try{for(var _=!0,y=Bt(h),m;m=yield Y(y.next()),p=m.done,!p;_=!0){E=m.value,_=!1;const T=E,C=tg(yield Y(T.json()));C.sdkHttpResponse={headers:T.headers};const x=new Nl;Object.assign(x,C),yield yield Y(x)}}catch(T){g={error:T}}finally{try{!_&&!p&&(v=y.return)&&(yield Y(v.call(y)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=uw(this.apiClient,e);return r=H("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=fw(d),p=new Oh;return Object.assign(p,h),p})}else{const f=rw(this.apiClient,e);return r=H("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=cw(d),p=new Oh;return Object.assign(p,h),p})}}async generateImagesInternal(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=Cw(this.apiClient,e);return r=H("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=Aw(d),p=new Ph;return Object.assign(p,h),p})}else{const f=Ew(this.apiClient,e);return r=H("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=_w(d),p=new Ph;return Object.assign(p,h),p})}}async editImageInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const r=ow(this.apiClient,e);return l=H("{model}:predict",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=lw(c),d=new p_;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const r=Cb(this.apiClient,e);return l=H("{model}:predict",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=_b(c),d=new h_;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const r=ib(this.apiClient,e);return l=H("{model}:predict",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=ob(c),d=new g_;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const r=cb(this.apiClient,e);return l=H("{model}:predict",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=fb(c),d=new m_;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=zw(this.apiClient,e);return r=H("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>Mc(d))}else{const f=Vw(this.apiClient,e);return r=H("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>Nc(d))}}async listInternal(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=Qw(this.apiClient,e);return r=H("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=Ww(d),p=new Hh;return Object.assign(p,h),p})}else{const f=Xw(this.apiClient,e);return r=H("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=Zw(d),p=new Hh;return Object.assign(p,h),p})}}async update(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=Tb(this.apiClient,e);return r=H("{model}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>Mc(d))}else{const f=Sb(this.apiClient,e);return r=H("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>Nc(d))}}async delete(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=ew(this.apiClient,e);return r=H("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=nw(d),p=new Gh;return Object.assign(p,h),p})}else{const f=jx(this.apiClient,e);return r=H("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=tw(d),p=new Gh;return Object.assign(p,h),p})}}async countTokens(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=Qx(this.apiClient,e);return r=H("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=Wx(d),p=new Vh;return Object.assign(p,h),p})}else{const f=Xx(this.apiClient,e);return r=H("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=Zx(d),p=new Vh;return Object.assign(p,h),p})}}async computeTokens(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const r=Bx(this.apiClient,e);return l=H("{model}:computeTokens",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=qx(c),d=new y_;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=Mw(this.apiClient,e);return r=H("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const h=Rw(d),p=new Qa;return Object.assign(p,h),p})}else{const f=Nw(this.apiClient,e);return r=H("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>{const h=bw(d),p=new Qa;return Object.assign(p,h),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m1 extends In{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=a_(e);return r=H("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s}else{const f=s_(e);return r=H("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s}}async fetchPredictVideosOperationInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const r=jC(e);return l=H("{resourceName}:fetchPredictOperation",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function y1(t){const e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function v1(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>b1(l))),u(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&u(e,["role"],i),e}function S1(t,e,n){const i={},o=a(e,["expireTime"]);n!==void 0&&o!=null&&u(n,["expireTime"],o);const l=a(e,["newSessionExpireTime"]);n!==void 0&&l!=null&&u(n,["newSessionExpireTime"],l);const s=a(e,["uses"]);n!==void 0&&s!=null&&u(n,["uses"],s);const r=a(e,["liveConnectConstraints"]);n!==void 0&&r!=null&&u(n,["bidiGenerateContentSetup"],w1(t,r));const c=a(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&u(n,["fieldMask"],c),i}function T1(t,e){const n={},i=a(e,["config"]);return i!=null&&u(n,["config"],S1(t,i,n)),n}function E1(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function C1(t){const e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);const i=a(t,["args"]);i!=null&&u(e,["args"],i);const o=a(t,["name"]);if(o!=null&&u(e,["name"],o),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _1(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function A1(t){const e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function x1(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig"],i);const o=a(t,["responseModalities"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig","responseModalities"],o);const l=a(t,["temperature"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","temperature"],l);const s=a(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);const r=a(t,["topK"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","topK"],r);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","mediaResolution"],f);const d=a(t,["seed"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","seed"],d);const h=a(t,["speechConfig"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","speechConfig"],Wf(h));const p=a(t,["thinkingConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","thinkingConfig"],p);const g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=a(t,["systemInstruction"]);e!==void 0&&v!=null&&u(e,["setup","systemInstruction"],v1(Ye(v)));const E=a(t,["tools"]);if(e!==void 0&&E!=null){let M=rl(E);Array.isArray(M)&&(M=M.map(A=>N1(al(A)))),u(e,["setup","tools"],M)}const _=a(t,["sessionResumption"]);e!==void 0&&_!=null&&u(e,["setup","sessionResumption"],R1(_));const y=a(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&u(e,["setup","inputAudioTranscription"],y);const m=a(t,["outputAudioTranscription"]);e!==void 0&&m!=null&&u(e,["setup","outputAudioTranscription"],m);const T=a(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&u(e,["setup","realtimeInputConfig"],T);const C=a(t,["contextWindowCompression"]);e!==void 0&&C!=null&&u(e,["setup","contextWindowCompression"],C);const x=a(t,["proactivity"]);if(e!==void 0&&x!=null&&u(e,["setup","proactivity"],x),a(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function w1(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["setup","model"],le(t,i));const o=a(e,["config"]);return o!=null&&u(n,["config"],x1(o,n)),n}function b1(t){const e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);const i=a(t,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const o=a(t,["executableCode"]);o!=null&&u(e,["executableCode"],o);const l=a(t,["fileData"]);l!=null&&u(e,["fileData"],E1(l));const s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],C1(s));const r=a(t,["functionResponse"]);r!=null&&u(e,["functionResponse"],r);const c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],y1(c));const f=a(t,["text"]);f!=null&&u(e,["text"],f);const d=a(t,["thought"]);d!=null&&u(e,["thought"],d);const h=a(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const p=a(t,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function R1(t){const e={},n=a(t,["handle"]);if(n!=null&&u(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function N1(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),u(e,["functionDeclarations"],d)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearchRetrieval"]);i!=null&&u(e,["googleSearchRetrieval"],i);const o=a(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);const l=a(t,["fileSearch"]);l!=null&&u(e,["fileSearch"],l);const s=a(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=a(t,["googleMaps"]);r!=null&&u(e,["googleMaps"],_1(r));const c=a(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],A1(c));const f=a(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M1(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(l=>`${n}.${l}`);e.push(...o)}else e.push(n)}return e.join(",")}function I1(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const l=i.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,n=l):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const l=M1(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let r=[];o.length>0&&(r=o.map(f=>s.includes(f)?`generationConfig.${f}`:f));const c=[];l&&c.push(l),r.length>0&&c.push(...r),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class D1 extends In{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const r=T1(this.apiClient,e);l=H("auth_tokens",r._url),s=r._query,delete r.config,delete r._url,delete r._query;const c=I1(r,e.config);return o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L1(t,e){const n={},i=a(t,["force"]);return e!==void 0&&i!=null&&u(e,["_query","force"],i),n}function U1(t){const e={},n=a(t,["name"]);n!=null&&u(e,["_url","name"],n);const i=a(t,["config"]);return i!=null&&L1(i,e),e}function k1(t){const e={},n=a(t,["name"]);return n!=null&&u(e,["_url","name"],n),e}function O1(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);return e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),n}function P1(t){const e={},n=a(t,["parent"]);n!=null&&u(e,["_url","parent"],n);const i=a(t,["config"]);return i!=null&&O1(i,e),e}function H1(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=a(t,["documents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class G1 extends In{constructor(e){super(),this.apiClient=e,this.list=async n=>new Zi(Nn.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=k1(e);return l=H("{name}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(e){var n,i;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=U1(e);o=H("{name}",s._url),l=s._query,delete s._url,delete s._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=P1(e);return l=H("{parent}/documents",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=H1(c),d=new v_;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class V1 extends In{constructor(e,n=new G1(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new Zi(Nn.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=Mb(e);return l=H("fileSearchStores",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async get(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=Lb(e);return l=H("{name}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(e){var n,i;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Db(e);o=H("{name}",s._url),l=s._query,delete s._url,delete s._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=Gb(e);return l=H("fileSearchStores",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=Vb(c),d=new S_;return Object.assign(d,f),d})}}async uploadToFileSearchStoreInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=zb(e);return l=H("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=Bb(c),d=new T_;return Object.assign(d,f),d})}}async importFile(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=Ob(e);return l=H("{file_search_store_name}:importFile",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=kb(c),d=new Kf;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let vv=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return vv=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const z1=()=>vv();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dc(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Lc=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ut extends Error{}class et extends Ut{constructor(e,n,i,o){super(`${et.makeMessage(e,n,i)}`),this.status=e,this.headers=o,this.error=n}static makeMessage(e,n,i){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,n,i,o){if(!e||!o)return new Rr({message:i,cause:Lc(n)});const l=n;return e===400?new Tv(e,l,i,o):e===401?new Ev(e,l,i,o):e===403?new Cv(e,l,i,o):e===404?new _v(e,l,i,o):e===409?new Av(e,l,i,o):e===422?new xv(e,l,i,o):e===429?new wv(e,l,i,o):e>=500?new bv(e,l,i,o):new et(e,l,i,o)}}class Uc extends et{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Rr extends et{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Sv extends Rr{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Tv extends et{}class Ev extends et{}class Cv extends et{}class _v extends et{}class Av extends et{}class xv extends et{}class wv extends et{}class bv extends et{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const B1=/^[a-z][a-z0-9+.-]*:/i,q1=t=>B1.test(t);let kc=t=>(kc=Array.isArray,kc(t));const F1=kc;let J1=F1;const rg=J1;function Y1(t){if(!t)return!0;for(const e in t)return!1;return!0}function K1(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const $1=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Ut(`${t} must be an integer`);if(e<0)throw new Ut(`${t} must be a positive integer`);return e},X1=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Q1=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Z1(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const W1=()=>{var t,e,n,i,o;const l=Z1();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":cg(Deno.build.os),"X-Stainless-Arch":ug(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":cg((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":ug((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const s=j1();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function j1(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const o=i[1]||0,l=i[2]||0,s=i[3]||0;return{browser:e,version:`${o}.${l}.${s}`}}}return null}const ug=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",cg=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let $s;const eR=()=>$s??($s=W1());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tR(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Rv(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function nR(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Rv({start(){},async pull(n){const{done:i,value:o}=await e.next();i?n.close():n.enqueue(o)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Nv(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function iR(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const i=t.getReader(),o=i.cancel();i.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oR=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mv=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function vu(t,e,n){return Mv(),new File(t,e??"unknown_file",n)}function lR(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const sR=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Iv=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",aR=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Iv(t),rR=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function uR(t,e,n){if(Mv(),t=await t,aR(t))return t instanceof File?t:vu([await t.arrayBuffer()],t.name);if(rR(t)){const o=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),vu(await Oc(o),e,n)}const i=await Oc(t);if(e||(e=lR(t)),!(n!=null&&n.type)){const o=i.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return vu(i,e,n)}async function Oc(t){var e,n,i,o,l;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(Iv(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(sR(t))try{for(var r=!0,c=Bt(t),f;f=await c.next(),e=f.done,!e;r=!0){o=f.value,r=!1;const d=o;s.push(...await Oc(d))}}catch(d){n={error:d}}finally{try{!r&&!e&&(i=c.return)&&await i.call(c)}finally{if(n)throw n.error}}else{const d=(l=t==null?void 0:t.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof t}${d?`; constructor: ${d}`:""}${cR(t)}`)}return s}function cR(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dv{constructor(e){this._client=e}}Dv._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lv(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const fg=Object.freeze(Object.create(null)),fR=(t=Lv)=>function(n,...i){if(n.length===1)return n[0];let o=!1;const l=[],s=n.reduce((d,h,p)=>{var g,v,E;/[?#]/.test(h)&&(o=!0);const _=i[p];let y=(o?encodeURIComponent:t)(""+_);return p!==i.length&&(_==null||typeof _=="object"&&_.toString===((E=Object.getPrototypeOf((v=Object.getPrototypeOf((g=_.hasOwnProperty)!==null&&g!==void 0?g:fg))!==null&&v!==void 0?v:fg))===null||E===void 0?void 0:E.toString))&&(y=_+"",l.push({start:d.length+h.length,length:y.length,error:`Value of type ${Object.prototype.toString.call(_).slice(8,-1)} is not a valid path parameter`})),d+h+(p===i.length?"":y)},""),r=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=c.exec(r))!==null;)l.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(l.sort((d,h)=>d.start-h.start),l.length>0){let d=0;const h=l.reduce((p,g)=>{const v=" ".repeat(g.start-d),E="^".repeat(g.length);return d=g.start+g.length,p+v+E},"");throw new Ut(`Path parameters result in path with invalid segments:
${l.map(p=>p.error).join(`
`)}
${s}
${h}`)}return s},Xs=fR(Lv);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uv extends Dv{create(e,n){var i;const{api_version:o=this._client.apiVersion}=e,l=Wa(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new Ut("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new Ut("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Xs`/${o}/interactions`,Object.assign(Object.assign({body:l},n),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,n={},i){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(Xs`/${o}/interactions/${e}`,i)}cancel(e,n={},i){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(Xs`/${o}/interactions/${e}/cancel`,i)}get(e,n={},i){var o;const l=n??{},{api_version:s=this._client.apiVersion}=l,r=Wa(l,["api_version"]);return this._client.get(Xs`/${s}/interactions/${e}`,Object.assign(Object.assign({query:r},i),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}Uv._key=Object.freeze(["interactions"]);class kv extends Uv{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dR(t){let e=0;for(const o of t)e+=o.length;const n=new Uint8Array(e);let i=0;for(const o of t)n.set(o,i),i+=o.length;return n}let Qs;function ed(t){let e;return(Qs??(e=new globalThis.TextEncoder,Qs=e.encode.bind(e)))(t)}let Zs;function dg(t){let e;return(Zs??(e=new globalThis.TextDecoder,Zs=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nr{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?ed(e):e;this.buffer=dR([this.buffer,n]);const i=[];let o;for(;(o=pR(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){i.push(dg(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,s=dg(this.buffer.subarray(0,l));i.push(s),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}Nr.NEWLINE_CHARS=new Set([`
`,"\r"]);Nr.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function pR(t,e){for(let o=e??0;o<t.length;o++){if(t[o]===10)return{preceding:o,index:o+1,carriage:!1};if(t[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function hR(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ja={off:0,error:200,warn:300,info:400,debug:500},pg=(t,e,n)=>{if(t){if(K1(ja,t))return t;We(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(ja))}`)}};function Pl(){}function Ws(t,e,n){return!e||ja[t]>ja[n]?Pl:e[t].bind(e)}const gR={error:Pl,warn:Pl,info:Pl,debug:Pl};let hg=new WeakMap;function We(t){var e;const n=t.logger,i=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return gR;const o=hg.get(n);if(o&&o[0]===i)return o[1];const l={error:Ws("error",n,i),warn:Ws("warn",n,i),info:Ws("info",n,i),debug:Ws("debug",n,i)};return hg.set(n,[i,l]),l}const Di=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Do{constructor(e,n,i){this.iterator=e,this.controller=n,this.client=i}static fromSSEResponse(e,n,i){let o=!1;const l=i?We(i):console;function s(){return zt(this,arguments,function*(){var c,f,d,h;if(o)throw new Ut("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let p=!1;try{try{for(var g=!0,v=Bt(mR(e,n)),E;E=yield Y(v.next()),c=E.done,!c;g=!0){h=E.value,g=!1;const _=h;if(!p)if(_.data.startsWith("[DONE]")){p=!0;continue}else try{yield yield Y(JSON.parse(_.data))}catch(y){throw l.error("Could not parse message into JSON:",_.data),l.error("From chunk:",_.raw),y}}}catch(_){f={error:_}}finally{try{!g&&!c&&(d=v.return)&&(yield Y(d.call(v)))}finally{if(f)throw f.error}}p=!0}catch(_){if(Dc(_))return yield Y(void 0);throw _}finally{p||n.abort()}})}return new Do(s,n,i)}static fromReadableStream(e,n,i){let o=!1;function l(){return zt(this,arguments,function*(){var c,f,d,h;const p=new Nr,g=Nv(e);try{for(var v=!0,E=Bt(g),_;_=yield Y(E.next()),c=_.done,!c;v=!0){h=_.value,v=!1;const y=h;for(const m of p.decode(y))yield yield Y(m)}}catch(y){f={error:y}}finally{try{!v&&!c&&(d=E.return)&&(yield Y(d.call(E)))}finally{if(f)throw f.error}}for(const y of p.flush())yield yield Y(y)})}function s(){return zt(this,arguments,function*(){var c,f,d,h;if(o)throw new Ut("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let p=!1;try{try{for(var g=!0,v=Bt(l()),E;E=yield Y(v.next()),c=E.done,!c;g=!0){h=E.value,g=!1;const _=h;p||_&&(yield yield Y(JSON.parse(_)))}}catch(_){f={error:_}}finally{try{!g&&!c&&(d=v.return)&&(yield Y(d.call(v)))}finally{if(f)throw f.error}}p=!0}catch(_){if(Dc(_))return yield Y(void 0);throw _}finally{p||n.abort()}})}return new Do(s,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),o=l=>({next:()=>{if(l.length===0){const s=i.next();e.push(s),n.push(s)}return l.shift()}});return[new Do(()=>o(e),this.controller,this.client),new Do(()=>o(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return Rv({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:o,done:l}=await n.next();if(l)return i.close();const s=ed(JSON.stringify(o)+`
`);i.enqueue(s)}catch(o){i.error(o)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function mR(t,e){return zt(this,arguments,function*(){var i,o,l,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ut("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ut("Attempted to iterate over a response with no body");const r=new vR,c=new Nr,f=Nv(t.body);try{for(var d=!0,h=Bt(yR(f)),p;p=yield Y(h.next()),i=p.done,!i;d=!0){s=p.value,d=!1;const g=s;for(const v of c.decode(g)){const E=r.decode(v);E&&(yield yield Y(E))}}}catch(g){o={error:g}}finally{try{!d&&!i&&(l=h.return)&&(yield Y(l.call(h)))}finally{if(o)throw o.error}}for(const g of c.flush()){const v=r.decode(g);v&&(yield yield Y(v))}})}function yR(t){return zt(this,arguments,function*(){var n,i,o,l;let s=new Uint8Array;try{for(var r=!0,c=Bt(t),f;f=yield Y(c.next()),n=f.done,!n;r=!0){l=f.value,r=!1;const d=l;if(d==null)continue;const h=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?ed(d):d;let p=new Uint8Array(s.length+h.length);p.set(s),p.set(h,s.length),s=p;let g;for(;(g=hR(s))!==-1;)yield yield Y(s.slice(0,g)),s=s.slice(g)}}catch(d){i={error:d}}finally{try{!r&&!n&&(o=c.return)&&(yield Y(o.call(c)))}finally{if(i)throw i.error}}s.length>0&&(yield yield Y(s))})}class vR{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,o]=SR(e,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function SR(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function TR(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:o,startTime:l}=e,s=await(async()=>{var r;if(e.options.stream)return We(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Do.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),f=(r=c==null?void 0:c.split(";")[0])===null||r===void 0?void 0:r.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return We(t).debug(`[${i}] response parsed`,Di({retryOfRequestLogID:o,url:n.url,status:n.status,body:s,durationMs:Date.now()-l})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class td extends Promise{constructor(e,n,i=TR){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new td(this.client,this.responsePromise,async(n,i)=>e(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ov=Symbol("brand.privateNullableHeaders");function*ER(t){if(!t)return;if(Ov in t){const{values:i,nulls:o}=t;yield*i.entries();for(const l of o)yield[l,null];return}let e=!1,n;t instanceof Headers?n=t.entries():rg(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const o=i[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const l=rg(i[1])?i[1]:[i[1]];let s=!1;for(const r of l)r!==void 0&&(e&&!s&&(s=!0,yield[o,null]),yield[o,r])}}const Su=t=>{const e=new Headers,n=new Set;for(const i of t){const o=new Set;for(const[l,s]of ER(i)){const r=l.toLowerCase();o.has(r)||(e.delete(l),o.add(r)),s===null?(e.delete(l),n.add(r)):(e.append(l,s),n.delete(r))}}return{[Ov]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tu=t=>{var e,n,i,o,l,s;if(typeof globalThis.process<"u")return(i=(n=(e=KC)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(s=(l=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||l===void 0?void 0:l.call(o,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Pv;class Mr{constructor(e){var n,i,o,l,s,r,c,f=e===void 0?{}:e,{baseURL:d=Tu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=Tu("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=f,g=Wa(f,["baseURL","apiKey","apiVersion"]);const v=Object.assign(Object.assign({apiKey:h,apiVersion:p},g),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=v.baseURL,this.timeout=(i=v.timeout)!==null&&i!==void 0?i:Mr.DEFAULT_TIMEOUT,this.logger=(o=v.logger)!==null&&o!==void 0?o:console;const E="warn";this.logLevel=E,this.logLevel=(s=(l=pg(v.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:pg(Tu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:E,this.fetchOptions=v.fetchOptions,this.maxRetries=(r=v.maxRetries)!==null&&r!==void 0?r:2,this.fetch=(c=v.fetch)!==null&&c!==void 0?c:tR(),this.encoder=oR,this._options=v,this.apiKey=h,this.apiVersion=p}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){if(this.apiKey!=null)return Su([{"x-goog-api-key":this.apiKey}])}stringifyQuery(e){return Object.entries(e).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new Ut(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${vo}`}defaultIdempotencyKey(){return`stainless-node-retry-${z1()}`}makeStatusError(e,n,i,o){return et.generate(e,n,i,o)}buildURL(e,n,i){const o=!this.baseURLOverridden()&&i||this.baseURL,l=q1(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return Y1(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(l.search=this.stringifyQuery(n)),l.toString()}async prepareOptions(e){}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(o=>Object.assign({method:e,path:n},o)))}request(e,n=null){return new td(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){var o,l,s;const r=await e,c=(o=r.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=c),await this.prepareOptions(r);const{req:f,url:d,timeout:h}=await this.buildRequest(r,{retryCount:c-n});await this.prepareRequest(f,{url:d,options:r});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=i===void 0?"":`, retryOf: ${i}`,v=Date.now();if(We(this).debug(`[${p}] sending request`,Di({retryOfRequestLogID:i,method:r.method,url:d,options:r,headers:f.headers})),!((l=r.signal)===null||l===void 0)&&l.aborted)throw new Uc;const E=new AbortController,_=await this.fetchWithTimeout(d,f,h,E).catch(Lc),y=Date.now();if(_ instanceof globalThis.Error){const T=`retrying, ${n} attempts remaining`;if(!((s=r.signal)===null||s===void 0)&&s.aborted)throw new Uc;const C=Dc(_)||/timed? ?out/i.test(String(_)+("cause"in _?String(_.cause):""));if(n)return We(this).info(`[${p}] connection ${C?"timed out":"failed"} - ${T}`),We(this).debug(`[${p}] connection ${C?"timed out":"failed"} (${T})`,Di({retryOfRequestLogID:i,url:d,durationMs:y-v,message:_.message})),this.retryRequest(r,n,i??p);throw We(this).info(`[${p}] connection ${C?"timed out":"failed"} - error; no more retries left`),We(this).debug(`[${p}] connection ${C?"timed out":"failed"} (error; no more retries left)`,Di({retryOfRequestLogID:i,url:d,durationMs:y-v,message:_.message})),C?new Sv:new Rr({cause:_})}const m=`[${p}${g}] ${f.method} ${d} ${_.ok?"succeeded":"failed"} with status ${_.status} in ${y-v}ms`;if(!_.ok){const T=await this.shouldRetry(_);if(n&&T){const b=`retrying, ${n} attempts remaining`;return await iR(_.body),We(this).info(`${m} - ${b}`),We(this).debug(`[${p}] response error (${b})`,Di({retryOfRequestLogID:i,url:_.url,status:_.status,headers:_.headers,durationMs:y-v})),this.retryRequest(r,n,i??p,_.headers)}const C=T?"error; no more retries left":"error; not retryable";We(this).info(`${m} - ${C}`);const x=await _.text().catch(b=>Lc(b).message),M=X1(x),A=M?void 0:x;throw We(this).debug(`[${p}] response error (${C})`,Di({retryOfRequestLogID:i,url:_.url,status:_.status,headers:_.headers,message:A,durationMs:Date.now()-v})),this.makeStatusError(_.status,M,A,_.headers)}return We(this).info(m),We(this).debug(`[${p}] response start`,Di({retryOfRequestLogID:i,url:_.url,status:_.status,headers:_.headers,durationMs:y-v})),{response:_,options:r,controller:E,requestLogID:p,retryOfRequestLogID:i,startTime:v}}async fetchWithTimeout(e,n,i,o){const l=n||{},{signal:s,method:r}=l,c=Wa(l,["signal","method"]);s&&s.addEventListener("abort",()=>o.abort());const f=setTimeout(()=>o.abort(),i),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,h=Object.assign(Object.assign(Object.assign({signal:o.signal},d?{duplex:"half"}:{}),{method:"GET"}),c);r&&(h.method=r.toUpperCase());try{return await this.fetch.call(void 0,e,h)}finally{clearTimeout(f)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,o){var l;let s;const r=o==null?void 0:o.get("retry-after-ms");if(r){const f=parseFloat(r);Number.isNaN(f)||(s=f)}const c=o==null?void 0:o.get("retry-after");if(c&&!s){const f=parseFloat(c);Number.isNaN(f)?s=Date.parse(c)-Date.now():s=f*1e3}if(!(s&&0<=s&&s<60*1e3)){const f=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,f)}return await Q1(s),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const l=n-e,s=Math.min(.5*Math.pow(2,l),8),r=1-Math.random()*.25;return s*r*1e3}async buildRequest(e,{retryCount:n=0}={}){var i,o,l;const s=Object.assign({},e),{method:r,path:c,query:f,defaultBaseURL:d}=s,h=this.buildURL(c,f,d);"timeout"in s&&$1("timeout",s.timeout),s.timeout=(i=s.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:p,body:g}=this.buildBody({options:s}),v=await this.buildHeaders({options:e,method:r,bodyHeaders:p,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:r,headers:v},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(l=s.fetchOptions)!==null&&l!==void 0?l:{}),url:h,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:o}){let l={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const s=Su([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),eR()),await this.authHeaders(e),this._options.defaultHeaders,i,e.headers]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=Su([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:nR(e)}:this.encoder({body:e,headers:i})}}Mr.DEFAULT_TIMEOUT=6e4;class Ge extends Mr{constructor(){super(...arguments),this.interactions=new kv(this)}}Pv=Ge;Ge.GeminiNextGenAPIClient=Pv;Ge.GeminiNextGenAPIClientError=Ut;Ge.APIError=et;Ge.APIConnectionError=Rr;Ge.APIConnectionTimeoutError=Sv;Ge.APIUserAbortError=Uc;Ge.NotFoundError=_v;Ge.ConflictError=Av;Ge.RateLimitError=wv;Ge.BadRequestError=Tv;Ge.AuthenticationError=Ev;Ge.InternalServerError=bv;Ge.PermissionDeniedError=Cv;Ge.UnprocessableEntityError=xv;Ge.toFile=uR;Ge.Interactions=kv;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CR(t,e){const n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],i),n}function _R(t,e){const n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],i),n}function AR(t,e){const n={},i=a(t,["sdkHttpResponse"]);return i!=null&&u(n,["sdkHttpResponse"],i),n}function xR(t,e){const n={},i=a(t,["sdkHttpResponse"]);return i!=null&&u(n,["sdkHttpResponse"],i),n}function wR(t,e,n){const i={};if(a(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=a(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&u(e,["displayName"],o),a(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=a(t,["epochCount"]);e!==void 0&&l!=null&&u(e,["tuningTask","hyperparameters","epochCount"],l);const s=a(t,["learningRateMultiplier"]);if(s!=null&&u(i,["tuningTask","hyperparameters","learningRateMultiplier"],s),a(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const r=a(t,["batchSize"]);e!==void 0&&r!=null&&u(e,["tuningTask","hyperparameters","batchSize"],r);const c=a(t,["learningRate"]);if(e!==void 0&&c!=null&&u(e,["tuningTask","hyperparameters","learningRate"],c),a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(a(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function bR(t,e,n){const i={};let o=a(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const g=a(t,["validationDataset"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec"],gg(g))}else if(o==="PREFERENCE_TUNING"){const g=a(t,["validationDataset"]);e!==void 0&&g!=null&&u(e,["preferenceOptimizationSpec"],gg(g))}const l=a(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&u(e,["tunedModelDisplayName"],l);const s=a(t,["description"]);e!==void 0&&s!=null&&u(e,["description"],s);let r=a(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const g=a(t,["epochCount"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(r==="PREFERENCE_TUNING"){const g=a(t,["epochCount"]);e!==void 0&&g!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let c=a(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=a(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(c==="PREFERENCE_TUNING"){const g=a(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let f=a(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const g=a(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(f==="PREFERENCE_TUNING"){const g=a(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&u(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let d=a(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const g=a(t,["adapterSize"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(d==="PREFERENCE_TUNING"){const g=a(t,["adapterSize"]);e!==void 0&&g!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(a(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=a(t,["labels"]);e!==void 0&&h!=null&&u(e,["labels"],h);const p=a(t,["beta"]);return e!==void 0&&p!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","beta"],p),i}function RR(t,e){const n={},i=a(t,["baseModel"]);i!=null&&u(n,["baseModel"],i);const o=a(t,["preTunedModel"]);o!=null&&u(n,["preTunedModel"],o);const l=a(t,["trainingDataset"]);l!=null&&GR(l);const s=a(t,["config"]);return s!=null&&wR(s,n),n}function NR(t,e){const n={},i=a(t,["baseModel"]);i!=null&&u(n,["baseModel"],i);const o=a(t,["preTunedModel"]);o!=null&&u(n,["preTunedModel"],o);const l=a(t,["trainingDataset"]);l!=null&&VR(l,n,e);const s=a(t,["config"]);return s!=null&&bR(s,n,e),n}function MR(t,e){const n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],i),n}function IR(t,e){const n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],i),n}function DR(t,e,n){const i={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const l=a(t,["pageToken"]);e!==void 0&&l!=null&&u(e,["_query","pageToken"],l);const s=a(t,["filter"]);return e!==void 0&&s!=null&&u(e,["_query","filter"],s),i}function LR(t,e,n){const i={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const l=a(t,["pageToken"]);e!==void 0&&l!=null&&u(e,["_query","pageToken"],l);const s=a(t,["filter"]);return e!==void 0&&s!=null&&u(e,["_query","filter"],s),i}function UR(t,e){const n={},i=a(t,["config"]);return i!=null&&DR(i,n),n}function kR(t,e){const n={},i=a(t,["config"]);return i!=null&&LR(i,n),n}function OR(t,e){const n={},i=a(t,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);const o=a(t,["nextPageToken"]);o!=null&&u(n,["nextPageToken"],o);const l=a(t,["tunedModels"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>Hv(r))),u(n,["tuningJobs"],s)}return n}function PR(t,e){const n={},i=a(t,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);const o=a(t,["nextPageToken"]);o!=null&&u(n,["nextPageToken"],o);const l=a(t,["tuningJobs"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>Pc(r))),u(n,["tuningJobs"],s)}return n}function HR(t,e){const n={},i=a(t,["name"]);i!=null&&u(n,["model"],i);const o=a(t,["name"]);return o!=null&&u(n,["endpoint"],o),n}function GR(t,e){const n={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=a(t,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),u(n,["examples","examples"],o)}return n}function VR(t,e,n){const i={};let o=a(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=a(t,["gcsUri"]);e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=a(t,["gcsUri"]);e!==void 0&&s!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let l=a(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const s=a(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(l==="PREFERENCE_TUNING"){const s=a(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(a(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function Hv(t,e){const n={},i=a(t,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);const o=a(t,["name"]);o!=null&&u(n,["name"],o);const l=a(t,["state"]);l!=null&&u(n,["state"],W0(l));const s=a(t,["createTime"]);s!=null&&u(n,["createTime"],s);const r=a(t,["tuningTask","startTime"]);r!=null&&u(n,["startTime"],r);const c=a(t,["tuningTask","completeTime"]);c!=null&&u(n,["endTime"],c);const f=a(t,["updateTime"]);f!=null&&u(n,["updateTime"],f);const d=a(t,["description"]);d!=null&&u(n,["description"],d);const h=a(t,["baseModel"]);h!=null&&u(n,["baseModel"],h);const p=a(t,["_self"]);return p!=null&&u(n,["tunedModel"],HR(p)),n}function Pc(t,e){const n={},i=a(t,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);const o=a(t,["name"]);o!=null&&u(n,["name"],o);const l=a(t,["state"]);l!=null&&u(n,["state"],W0(l));const s=a(t,["createTime"]);s!=null&&u(n,["createTime"],s);const r=a(t,["startTime"]);r!=null&&u(n,["startTime"],r);const c=a(t,["endTime"]);c!=null&&u(n,["endTime"],c);const f=a(t,["updateTime"]);f!=null&&u(n,["updateTime"],f);const d=a(t,["error"]);d!=null&&u(n,["error"],d);const h=a(t,["description"]);h!=null&&u(n,["description"],h);const p=a(t,["baseModel"]);p!=null&&u(n,["baseModel"],p);const g=a(t,["tunedModel"]);g!=null&&u(n,["tunedModel"],g);const v=a(t,["preTunedModel"]);v!=null&&u(n,["preTunedModel"],v);const E=a(t,["supervisedTuningSpec"]);E!=null&&u(n,["supervisedTuningSpec"],E);const _=a(t,["preferenceOptimizationSpec"]);_!=null&&u(n,["preferenceOptimizationSpec"],_);const y=a(t,["tuningDataStats"]);y!=null&&u(n,["tuningDataStats"],y);const m=a(t,["encryptionSpec"]);m!=null&&u(n,["encryptionSpec"],m);const T=a(t,["partnerModelTuningSpec"]);T!=null&&u(n,["partnerModelTuningSpec"],T);const C=a(t,["customBaseModel"]);C!=null&&u(n,["customBaseModel"],C);const x=a(t,["experiment"]);x!=null&&u(n,["experiment"],x);const M=a(t,["labels"]);M!=null&&u(n,["labels"],M);const A=a(t,["outputUri"]);A!=null&&u(n,["outputUri"],A);const N=a(t,["pipelineJob"]);N!=null&&u(n,["pipelineJob"],N);const b=a(t,["serviceAccount"]);b!=null&&u(n,["serviceAccount"],b);const L=a(t,["tunedModelDisplayName"]);L!=null&&u(n,["tunedModelDisplayName"],L);const z=a(t,["veoTuningSpec"]);return z!=null&&u(n,["veoTuningSpec"],z),n}function zR(t,e){const n={},i=a(t,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);const o=a(t,["name"]);o!=null&&u(n,["name"],o);const l=a(t,["metadata"]);l!=null&&u(n,["metadata"],l);const s=a(t,["done"]);s!=null&&u(n,["done"],s);const r=a(t,["error"]);return r!=null&&u(n,["error"],r),n}function gg(t,e){const n={},i=a(t,["gcsUri"]);i!=null&&u(n,["validationDatasetUri"],i);const o=a(t,["vertexDatasetResource"]);return o!=null&&u(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BR extends In{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Zi(Nn.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:o});return l.baseModel=void 0,await this.tuneInternal(l)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),l=await this.tuneMldevInternal(o);let s="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?s=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(s=l.name.split("/operations/")[0]),{name:s,state:xc.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=IR(e);return r=H("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>Pc(d))}else{const f=MR(e);return r=H("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>Hv(d))}}async listInternal(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=kR(e);return r=H("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=PR(d),p=new zh;return Object.assign(p,h),p})}else{const f=UR(e);return r=H("tunedModels",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=OR(d),p=new zh;return Object.assign(p,h),p})}}async cancel(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=_R(e);return r=H("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=xR(d),p=new Bh;return Object.assign(p,h),p})}else{const f=CR(e);return r=H("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=AR(d),p=new Bh;return Object.assign(p,h),p})}}async tuneInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const r=NR(e,e);return l=H("tuningJobs",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>Pc(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=RR(e);return l=H("tunedModels",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>zR(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qR{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const FR=1024*1024*8,JR=3,YR=1e3,KR=2,er="x-goog-upload-status";async function $R(t,e,n){var i;const o=await Gv(t,e,n),l=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[er])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function XR(t,e,n){var i;const o=await Gv(t,e,n),l=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[er])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=Y0(l),r=new $f;return Object.assign(r,s),r}async function Gv(t,e,n){var i,o;let l=0,s=0,r=new wc(new Response),c="upload";for(l=t.size;s<l;){const f=Math.min(FR,l-s),d=t.slice(s,s+f);s+f>=l&&(c+=", finalize");let h=0,p=YR;for(;h<JR&&(r=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((i=r==null?void 0:r.headers)===null||i===void 0)&&i[er]));)h++,await ZR(p),p=p*KR;if(s+=f,((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[er])!=="active")break;if(l<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return r}async function QR(t){return{size:t.size,type:t.type}}function ZR(t){return new Promise(e=>setTimeout(e,t))}class WR{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await $R(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await XR(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await QR(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jR{create(e,n,i){return new eN(e,n,i)}}class eN{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mg="x-goog-api-key";class tN{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(mg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(mg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nN="gl-node/";class Vv{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Ge({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=ZC(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const o=new tN(this.apiKey);this.apiClient=new Qb({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:nN+"web",uploader:new WR,downloader:new qR}),this.models=new g1(this.apiClient),this.live=new u1(this.apiClient,o,new jR),this.batches=new wA(this.apiClient),this.chats=new ax(this.models,this.apiClient),this.caches=new ox(this.apiClient),this.files=new yx(this.apiClient),this.operations=new m1(this.apiClient),this.authTokens=new D1(this.apiClient),this.tunings=new BR(this.apiClient),this.fileSearchStores=new V1(this.apiClient)}}const iN=async(t,e,n,i,o,l,s)=>{if(!i)throw new Error("Gemini API Key is not set. Please add it in the settings.");if(!o)throw new Error("Model Name is not configured. Please add it in the settings.");try{const r=new Vv({apiKey:i}),f=`${e==="Auto Detect"?"First, auto-detect the source language of the following text.":`The source language is ${e}.`} Then, translate the text to ${n}.
Do not add any extra explanations, comments, or annotations. Return only the translated text.`,d=await r.models.generateContentStream({model:o,contents:t,config:{systemInstruction:f,thinkingConfig:{thinkingBudget:0}}});let h="";for await(const p of d){if(s.aborted)throw new DOMException("Translation cancelled by user.","AbortError");const g=p.text;g&&(h+=g,l(g))}return h.trim()}catch(r){throw console.error("Error translating text:",r),r instanceof DOMException&&r.name==="AbortError"?r:new Error("Gemini API request failed.")}},oN=async(t,e,n,i)=>{if(!n)throw new Error("Gemini API Key is not set. Please add it in the settings.");const o=new Vv({apiKey:n}),l=t.match(/^data:(image\/\w+);base64,(.*)$/);if(!l)throw new Error("Invalid image data URL format.");const s=l[1],r=l[2],c={inlineData:{mimeType:s,data:r}},f={text:`1. First, accurately extract all text from the provided image.
2. Then, translate the extracted text into ${e}.
3. Finally, return a single JSON object with two keys: "sourceText" containing the exact extracted text, and "translatedText" containing the translation. Do not include any other explanations or markdown formatting.`};try{const h=(await o.models.generateContent({model:i,contents:{parts:[f,c]},config:{responseMimeType:"application/json",responseSchema:{type:Vt.OBJECT,properties:{sourceText:{type:Vt.STRING,description:"The text extracted from the image."},translatedText:{type:Vt.STRING,description:"The translated text."}},required:["sourceText","translatedText"]}}})).text.trim(),p=JSON.parse(h);if(typeof p.sourceText=="string"&&typeof p.translatedText=="string")return p;throw new Error("Invalid JSON structure in API response.")}catch(d){throw console.error("Error translating image:",d),d instanceof SyntaxError?new Error("Failed to parse the response from the Gemini API. The response was not valid JSON."):new Error("Gemini API request for image translation failed.")}},lN=async(t,e,n,i,o,l,s,r)=>{var d,h,p,g;if(!i)throw new Error("OpenAI API Key is not set.");if(!o)throw new Error("Model Name is not configured.");if(!l)throw new Error("OpenAI API URL is not set.");const f=`${e==="Auto Detect"?"First, auto-detect the source language of the following text.":`The source language is ${e}.`} Then, translate the text to ${n}. Do not add any extra explanations, comments, or annotations. Return only the translated text.`;try{const v=await fetch(`${l}/v1/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify({model:o,messages:[{role:"system",content:f},{role:"user",content:t}],temperature:1,stream:!0}),signal:r});if(!v.ok){if(r.aborted)throw new DOMException("Request aborted by user","AbortError");const m=await v.json();throw new Error(((d=m.error)==null?void 0:d.message)||`OpenAI API request failed with status ${v.status}`)}if(!v.body)throw new Error("Response body is null, cannot stream.");const E=v.body.getReader(),_=new TextDecoder;let y="";for(;;){const{done:m,value:T}=await E.read();if(m)break;const x=_.decode(T,{stream:!0}).split(`
`).filter(M=>M.trim().startsWith("data:"));for(const M of x){const A=M.replace(/^data: /,"").trim();if(A==="[DONE]")break;try{const b=(g=(p=(h=JSON.parse(A).choices)==null?void 0:h[0])==null?void 0:p.delta)==null?void 0:g.content;b&&(y+=b,s(b))}catch{}}}return y.trim()}catch(v){throw console.error("Error translating text with OpenAI:",v),v instanceof Error&&v.name==="AbortError"?v:new Error("OpenAI API request failed.")}},sN=async(t,e,n,i,o)=>{var s,r,c;if(!n)throw new Error("OpenAI API Key is not set.");if(!o)throw new Error("OpenAI API URL is not set.");if(!t.startsWith("data:image/")||!t.includes(";base64,"))throw new Error("Invalid image data URL format. It must be a base64 encoded image data URL.");const l=`1. First, accurately extract all text from the provided image.
2. Then, translate the extracted text into ${e}.
3. Finally, return a single JSON object with two keys: "sourceText" containing the exact extracted text, and "translatedText" containing the translation. Do not include any other explanations, markdown formatting, or code fences.`;try{const f=await fetch(`${o}/v1/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({model:i,messages:[{role:"user",content:[{type:"text",text:l},{type:"image_url",image_url:{url:t}}]}],max_tokens:2048,response_format:{type:"json_object"},stream:!1})});if(!f.ok){const g=await f.json();throw new Error(((s=g.error)==null?void 0:s.message)||`OpenAI API image request failed with status ${f.status}`)}const h=(c=(r=(await f.json()).choices[0])==null?void 0:r.message)==null?void 0:c.content;if(!h)throw new Error("No content in OpenAI API response.");const p=JSON.parse(h);if(typeof p.sourceText=="string"&&typeof p.translatedText=="string")return p;throw new Error("Invalid JSON structure in API response.")}catch(f){throw console.error("Error translating image with OpenAI:",f),f instanceof SyntaxError?new Error("Failed to parse the response from the OpenAI API. The response was not valid JSON."):f instanceof Error?f:new Error("OpenAI API request for image translation failed.")}},Hc=(t,e)=>e.some(n=>t instanceof n);let yg,vg;function aN(){return yg||(yg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rN(){return vg||(vg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gc=new WeakMap,Eu=new WeakMap,Ir=new WeakMap;function uN(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",s)},l=()=>{n(Gi(t.result)),o()},s=()=>{i(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",s)});return Ir.set(e,t),e}function cN(t){if(Gc.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",s),t.removeEventListener("abort",s)},l=()=>{n(),o()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",s),t.addEventListener("abort",s)});Gc.set(t,e)}let Vc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gc.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zv(t){Vc=t(Vc)}function fN(t){return rN().includes(t)?function(...e){return t.apply(zc(this),e),Gi(this.request)}:function(...e){return Gi(t.apply(zc(this),e))}}function dN(t){return typeof t=="function"?fN(t):(t instanceof IDBTransaction&&cN(t),Hc(t,aN())?new Proxy(t,Vc):t)}function Gi(t){if(t instanceof IDBRequest)return uN(t);if(Eu.has(t))return Eu.get(t);const e=dN(t);return e!==t&&(Eu.set(t,e),Ir.set(e,t)),e}const zc=t=>Ir.get(t);function pN(t,e,{blocked:n,upgrade:i,blocking:o,terminated:l}={}){const s=indexedDB.open(t,e),r=Gi(s);return i&&s.addEventListener("upgradeneeded",c=>{i(Gi(s.result),c.oldVersion,c.newVersion,Gi(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),r.then(c=>{l&&c.addEventListener("close",()=>l()),o&&c.addEventListener("versionchange",f=>o(f.oldVersion,f.newVersion,f))}).catch(()=>{}),r}const hN=["get","getKey","getAll","getAllKeys","count"],gN=["put","add","delete","clear"],Cu=new Map;function Sg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cu.get(e))return Cu.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=gN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||hN.includes(n)))return;const l=async function(s,...r){const c=this.transaction(s,o?"readwrite":"readonly");let f=c.store;return i&&(f=f.index(r.shift())),(await Promise.all([f[n](...r),o&&c.done]))[0]};return Cu.set(e,l),l}zv(t=>({...t,get:(e,n,i)=>Sg(e,n)||t.get(e,n,i),has:(e,n)=>!!Sg(e,n)||t.has(e,n)}));const mN=["continue","continuePrimaryKey","advance"],Tg={},Bc=new WeakMap,Bv=new WeakMap,yN={get(t,e){if(!mN.includes(e))return t[e];let n=Tg[e];return n||(n=Tg[e]=function(...i){Bc.set(this,Bv.get(this)[e](...i))}),n}};async function*vN(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,yN);for(Bv.set(n,e),Ir.set(n,zc(e));e;)yield n,e=await(Bc.get(n)||e.continue()),Bc.delete(n)}function Eg(t,e){return e===Symbol.asyncIterator&&Hc(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Hc(t,[IDBIndex,IDBObjectStore])}zv(t=>({...t,get(e,n,i){return Eg(e,n)?vN:t.get(e,n,i)},has(e,n){return Eg(e,n)||t.has(e,n)}}));const SN="offline-model-db",Zt="model-chunks",Qe="model-meta",Ml="consolidated-models",TN=3;class EN{constructor(){El(this,"dbPromise");El(this,"controllers",new Map);El(this,"isOpfsSupported");El(this,"opfsRootPromise");this.dbPromise=pN(SN,TN,{upgrade(e){e.objectStoreNames.contains(Zt)||e.createObjectStore(Zt,{keyPath:["modelName","chunkIndex"]}).createIndex("modelName","modelName",{unique:!1}),e.objectStoreNames.contains(Qe)||e.createObjectStore(Qe,{keyPath:"modelName"}),e.objectStoreNames.contains(Ml)||e.createObjectStore(Ml,{keyPath:"modelName"})}}),this.isOpfsSupported="getDirectory"in navigator.storage,this.opfsRootPromise=this.isOpfsSupported?navigator.storage.getDirectory().catch(e=>(console.error("Failed to get OPFS root directory:",e),null)):Promise.resolve(null),this.isOpfsSupported?console.log("Origin Private File System is supported and will be used for model storage."):console.log("Origin Private File System not supported, falling back to IndexedDB.")}async getOpfsRoot(){return this.opfsRootPromise}async startDownload(e,n,i,o){if(this.controllers.has(e)){console.warn(`Download for ${e} is already in progress.`);return}this.isOpfsSupported?await this.runOpfsDownload(e,n,i,o,!1):await this.runIdbDownload(e,n,i,o,!1)}async resumeDownload(e,n,i,o){this.controllers.has(e)||(this.isOpfsSupported?await this.runOpfsDownload(e,n,i,o,!0):await this.runIdbDownload(e,n,i,o,!0))}async runOpfsDownload(e,n,i,o,l){const s=new AbortController;this.controllers.set(e,s);let r=0,c=0;try{const f=await this.getOpfsRoot();if(!f)throw new Error("Could not access OPFS.");const d=await f.getFileHandle(e,{create:!0}),h=await this.getDb(),p=await h.get(Qe,e);if(l&&p&&p.total>0&&(c=p.total,r=(await d.getFile()).size,r>=c&&(console.warn(`Resuming download for ${e}, but existing file is complete or corrupt. Restarting.`),r=0)),c===0){const v=await fetch(n,{method:"HEAD",signal:s.signal});if(!v.ok)throw new Error(`Failed to get model info. Status: ${v.status}`);if(c=Number(v.headers.get("Content-Length")),isNaN(c)||c===0)throw new Error("Could not determine file size.");r=0}if(await h.put(Qe,{modelName:e,total:c,status:"downloading"}),o({downloaded:r,total:c,percent:c>0?r/c*100:0,status:"downloading"}),r<c){const v=await fetch(n,{headers:{Range:`bytes=${r}-`},signal:s.signal});if(!v.ok||!v.body)throw new Error(`Download request failed. Status: ${v.status}`);const E=await d.createWritable({keepExistingData:!0});await E.seek(r);const _=v.body.getReader();for(;;){const{done:y,value:m}=await _.read();if(y)break;await E.write(m),r+=m.length,o({downloaded:r,total:c,percent:r/c*100,status:"downloading"})}await E.close()}const g=await d.getFile();if(g.size!==c)throw new Error(`Final file size ${g.size} does not match expected size ${c}`);await h.put(Qe,{modelName:e,total:c,status:"completed"}),o({downloaded:c,total:c,percent:100,status:"completed"}),console.log(`Model ${e} downloaded to OPFS successfully.`)}catch(f){this.handleDownloadError(f,e,r,c,o)}finally{this.controllers.delete(e)}}async runIdbDownload(e,n,i,o,l){const s=new AbortController;this.controllers.set(e,s);let r=0,c=0,f=0;const d=5*1024*1024;try{const h=await this.getDb();if(l){const p=await h.get(Qe,e);if(!p||!p.total)return this.runIdbDownload(e,n,i,o,!1);c=p.total;const g=await h.getAllFromIndex(Zt,"modelName",e);r=g.reduce((v,E)=>v+E.data.byteLength,0),f=g.length}else{await this.deleteModel(e);const p=await fetch(n,{method:"HEAD",signal:s.signal});if(!p.ok)throw new Error(`Failed to get model info. Status: ${p.status}`);if(c=Number(p.headers.get("Content-Length")),isNaN(c)||c===0)throw new Error("Could not determine file size.")}for(await h.put(Qe,{modelName:e,total:c,status:"downloading"});r<c;){const p=r,g=Math.min(r+d-1,c-1),v=await fetch(n,{headers:{Range:`bytes=${p}-${g}`},signal:s.signal});if(!v.ok)throw new Error(`Chunk download failed. Status: ${v.status}`);const E=await v.arrayBuffer();await h.put(Zt,{modelName:e,chunkIndex:f,data:E}),r+=E.byteLength,f++,o({downloaded:r,total:c,percent:r/c*100,status:"downloading"})}await this._consolidateModel(e,o)}catch(h){this.handleDownloadError(h,e,r,c,o)}finally{this.controllers.delete(e)}}handleDownloadError(e,n,i,o,l){if(e instanceof DOMException&&e.name==="AbortError")console.log(`Download for ${n} was paused.`),this.getDb().then(s=>s.put(Qe,{modelName:n,total:o,status:"paused",downloaded:i})),l({downloaded:i,total:o,percent:o>0?i/o*100:0,status:"paused"});else{const s=e instanceof Error?e.message:"Unknown download error";console.error(`Download error for ${n}:`,e),this.getDb().then(r=>r.put(Qe,{modelName:n,status:"error",error:s,total:o})),l({downloaded:i,total:o,percent:o>0?i/o*100:0,status:"error",error:s})}}async _consolidateModel(e,n){const i=await this.getDb(),o=await i.get(Qe,e);if(!o)return;const l=o.total||0,s=o.downloaded||l;try{n({downloaded:s,total:l,percent:100,status:"consolidating"});const r=await this.getModelFromChunksAsStream(e);if(!r)throw new Error("Failed to reconstruct model from chunks.");await i.put(Ml,{modelName:e,blob:r}),await this._deleteChunks(e),await i.put(Qe,{modelName:e,total:l,status:"completed",downloaded:l}),n({downloaded:l,total:l,percent:100,status:"completed"}),console.log(`Model ${e} consolidated successfully.`)}catch(r){const c=r instanceof Error?r.message:"Unknown consolidation error";console.error(`Consolidation error for ${e}:`,r),await i.put(Qe,{modelName:e,status:"error",error:c,total:l}),n({downloaded:s,total:l,percent:s/l*100,status:"error",error:`Consolidation failed: ${c}`})}}async _deleteChunks(e){const i=(await this.getDb()).transaction(Zt,"readwrite");let l=await i.objectStore(Zt).index("modelName").openCursor(IDBKeyRange.only(e));for(;l;)l.delete(),l=await l.continue();await i.done}pauseDownload(e){const n=this.controllers.get(e);n&&(n.abort(),this.controllers.delete(e))}async deleteModel(e){if(this.pauseDownload(e),this.isOpfsSupported)try{const i=await this.getOpfsRoot();i&&await i.removeEntry(e)}catch(i){i instanceof DOMException&&i.name==="NotFoundError"||console.error(`Error deleting ${e} from OPFS:`,i)}const n=await this.getDb();await n.delete(Qe,e),await n.delete(Ml,e),await this._deleteChunks(e)}async getStatus(e){const n=await this.getDb(),i=await n.get(Qe,e);if(!i)return{downloaded:0,total:0,percent:0,status:"not_started"};const o=i.total||0;if(i.status==="completed")return{downloaded:o,total:o,percent:100,status:"completed"};let l=0;if(this.isOpfsSupported)try{const s=await this.getOpfsRoot();s&&(l=(await(await s.getFileHandle(e)).getFile()).size)}catch{}else l=(await n.getAllFromIndex(Zt,"modelName",e)).reduce((r,c)=>r+c.data.byteLength,0);return{downloaded:l,total:o,percent:o>0?l/o*100:0,status:i.status,error:i.error}}async getModelAsBlob(e){const n=await this.getDb(),i=await n.get(Qe,e);if(!i||i.status!=="completed")return null;if(this.isOpfsSupported)try{const l=await this.getOpfsRoot();if(l){const r=await(await l.getFileHandle(e)).getFile();return r.size===i.total?r:(console.error(`OPFS file for ${e} is incomplete. Expected ${i.total}, found ${r.size}.`),null)}}catch(l){console.warn(`Could not get model ${e} from OPFS, will check IndexedDB.`,l)}const o=await n.get(Ml,e);return o&&o.blob?o.blob:(console.warn(`Consolidated model for ${e} not found in store. Reconstructing from chunks as a fallback.`),this.getModelFromChunksAsStream(e))}async getModelFromChunksAsStream(e){const n=await this.getDb();if(!await n.getFromIndex(Zt,"modelName",e))return null;const o=new ReadableStream({async start(l){let c=await n.transaction(Zt,"readonly").objectStore(Zt).index("modelName").openCursor(IDBKeyRange.only(e));for(;c;)l.enqueue(new Uint8Array(c.value.data)),c=await c.continue();l.close()}});try{return await new Response(o).blob()}catch{return null}}getDb(){return this.dbPromise}}const uo=new EN,js=window.SpeechRecognition||window.webkitSpeechRecognition,CN=t=>{let e;if(t.numberOfChannels>1){e=new Float32Array(t.length);for(let d=0;d<t.length;d++){let h=0;for(let p=0;p<t.numberOfChannels;p++)h+=t.getChannelData(p)[d];e[d]=h/t.numberOfChannels}}else e=t.getChannelData(0);const n=1,i=e.length*n*2+44,o=new ArrayBuffer(i),l=new DataView(o);let s=0;const r=d=>{l.setUint16(s,d,!0),s+=2},c=d=>{l.setUint32(s,d,!0),s+=4},f=d=>{for(let h=0;h<d.length;h++)l.setUint8(s+h,d.charCodeAt(h));s+=d.length};f("RIFF"),c(i-8),f("WAVE"),f("fmt "),c(16),r(1),r(n),c(t.sampleRate),c(t.sampleRate*2*n),r(n*2),r(16),f("data"),c(e.length*2);for(let d=0;d<e.length;d++){let h=Math.max(-1,Math.min(1,e[d]));l.setInt16(s,h<0?h*32768:h*32767,!0),s+=2}return new Blob([l],{type:"audio/wav"})},_N=()=>{var ld;const{t,i18n:e}=Qi(),[n,i]=w.useState(""),[o,l]=w.useState(""),[s,r]=w.useState(Ka[0]),[c,f]=w.useState(Ka[6]),[d,h]=w.useState(!1),[p,g]=w.useState(!1),[v,E]=w.useState(!1),[_,y]=w.useState(!1),[m,T]=w.useState(!1),[C,x]=w.useState(!1),[M,A]=w.useState([]),[N,b]=w.useState(""),[L,z]=w.useState("gemini-2.5-flash"),[se,O]=w.useState("gemini"),[ae,F]=w.useState(""),[I,V]=w.useState(""),[k,Q]=w.useState(""),[te,Le]=w.useState(!1),[nt,Ln]=w.useState([]),[xe,sn]=w.useState(navigator.onLine),[Wi,gi]=w.useState(!1),[mi,ji]=w.useState(null),[Jt,cl]=w.useState(!1),[yi,fl]=w.useState(""),[vi,Un]=w.useState(1),[kn,dl]=w.useState(1),[we,pl]=w.useState(!1),[eo,to]=w.useState({}),[On,an]=w.useState(!1),[no,Pn]=w.useState(!1),[Si,hl]=w.useState(4096),[Ti,gl]=w.useState(40),[Ei,ml]=w.useState(.3),[Ci,yl]=w.useState(101),[_i,bs]=w.useState(!1),[vl,Rs]=w.useState(1),[Hn,io]=w.useState(null),[Ns,kt]=w.useState(!1),[rn,P]=w.useState(null),Z=w.useRef(null),Ce=w.useRef(null),ct=w.useRef(D=>{}),B=w.useCallback((D,G="error")=>{Z.current&&clearTimeout(Z.current),P({message:D,type:G}),Z.current=window.setTimeout(()=>{P(null)},5e3)},[]),Ot=w.useRef(null),Gn=w.useRef(null),Sl=w.useRef(""),Yt=w.useRef(null),Pt=w.useRef(null),un=w.useRef([]);w.useRef(null);const oo=w.useRef(null),lo=w.useRef(null);w.useEffect(()=>{ct.current=D=>{const{type:G,payload:U}=D.data;switch(G){case"init_done":Pn(!0),B(t("notifications.offlineModelInitSuccess",{modelIdentifier:U.modelIdentifier}),"success"),an(!1);break;case"init_error":Pn(!1),B(U.error||t("notifications.offlineModelInitFailed"),"error"),console.error("Offline model init failed via worker:",U.error),an(!1);break;case"unload_done":Pn(!1),an(!1);break;case"translation_chunk":l(ie=>ie.length===0?U.chunk.trimStart():ie+U.chunk);break;case"translation_done":{const ie={id:Date.now(),inputText:n,translatedText:U.result,sourceLang:s,targetLang:c};A(oe=>{const re=[ie,...oe].slice(0,50);return localStorage.setItem("translation-history",JSON.stringify(re)),re}),h(!1);break}case"translation_error":B(t("notifications.translationFailed",{errorMessage:U.error}),"error"),h(!1);break;case"translation_cancelled":h(!1);break;case"extract_text_done":i(U.text),l(""),U.text.trim()||B(t("notifications.noTextInImage"),"error"),h(!1);break;case"extract_text_error":B(t("notifications.imageProcessingFailed",{errorMessage:U.error}),"error"),i(""),h(!1);break;case"transcribe_done":const J=U.text;i(J),h(!1),Ns&&(kt(!1),J.trim()&&Tl(J));break;case"transcribe_error":B(t("notifications.transcriptionFailed",{errorMessage:U.error}),"error"),i(""),h(!1),kt(!1);break}}},[t,B,n,s,c,Ns]),w.useEffect(()=>{const D=new Worker(new URL("/Gemini-AI-Translator/assets/offline.worker-Cv7pYgen.js",import.meta.url),{type:"module"});Ce.current=D;const G=U=>ct.current(U);return D.addEventListener("message",G),D.onerror=U=>{console.error("Worker error:",U),B(`A critical worker error occurred: ${U.message}`,"error"),an(!1),h(!1)},()=>{D.removeEventListener("message",G),D.terminate(),Ce.current=null}},[B]),w.useEffect(()=>{(async()=>{const G={};for(const U of $a)U.value&&(G[U.value]=await uo.getStatus(U.value));to(G)})()},[]),w.useEffect(()=>{const D=()=>sn(!0),G=()=>sn(!1);return window.addEventListener("online",D),window.addEventListener("offline",G),()=>{window.removeEventListener("online",D),window.removeEventListener("offline",G)}},[]),w.useEffect(()=>{const D=localStorage.getItem("api-key");D&&b(D);const G=localStorage.getItem("model-name");G&&z(G);const U=localStorage.getItem("online-provider");U&&O(U);const J=localStorage.getItem("openai-api-url");J&&F(J);const ie=localStorage.getItem("hf-api-key");ie&&V(ie);const oe=localStorage.getItem("offline-model-name");oe&&Q(oe);const re=localStorage.getItem("offline-mode-enabled");re&&pl(JSON.parse(re));const $e=localStorage.getItem("is-two-step-jp-cn-enabled");$e&&Le(JSON.parse($e));const Xe=localStorage.getItem("tts-enabled");Xe&&cl(JSON.parse(Xe));const Ve=localStorage.getItem("tts-voice-uri");Ve&&fl(Ve);const $t=localStorage.getItem("tts-rate");$t&&Un(JSON.parse($t));const Vn=localStorage.getItem("tts-pitch");Vn&&dl(JSON.parse(Vn));const Xt=localStorage.getItem("offline-max-tokens");Xt&&hl(JSON.parse(Xt));const Et=localStorage.getItem("offline-top-k");Et&&gl(JSON.parse(Et));const Ai=localStorage.getItem("offline-temperature");Ai&&ml(JSON.parse(Ai));const cn=localStorage.getItem("offline-random-seed");cn&&yl(JSON.parse(cn));const Ct=localStorage.getItem("offline-support-audio");Ct&&bs(JSON.parse(Ct));const xi=localStorage.getItem("offline-max-num-images");xi&&Rs(JSON.parse(xi));try{const Qt=localStorage.getItem("translation-history");Qt&&A(JSON.parse(Qt))}catch(Qt){console.error("Failed to load translation history:",Qt)}},[]),w.useEffect(()=>{const D=()=>Ln(window.speechSynthesis.getVoices());window.speechSynthesis.onvoiceschanged=D,D()},[]);const Lr=we&&!!k&&((ld=eo[k])==null?void 0:ld.status)==="completed",Kt=Lr&&no;w.useEffect(()=>{var U;const D=Lr?k:null;if(!we||!D){(no||On)&&(console.log("Requesting offline model unload."),(U=Ce.current)==null||U.postMessage({type:"unload"}));return}const G=async()=>{var J;an(!0),Pn(!1);try{const ie=await uo.getModelAsBlob(D);if(!ie)throw new Error(`Model blob for ${D} not found.`);const oe={maxTokens:Si,topK:Ti,temperature:Ei,randomSeed:Ci,supportAudio:_i,maxNumImages:vl};(J=Ce.current)==null||J.postMessage({type:"init",payload:{modelBlob:ie,modelSource:D,options:oe}})}catch(ie){const oe=ie instanceof Error?ie.message:t("notifications.offlineModelInitFailed");B(oe,"error"),console.error("Offline model init failed (main thread):",ie),Pn(!1),an(!1)}};Ce.current&&G()},[Lr,k,we,B,t,Si,Ti,Ei,Ci,_i,vl]);const Tl=w.useCallback(async D=>{var U;if(!D.trim()){l("");return}lo.current&&lo.current.abort();const G=new AbortController;lo.current=G,h(!0),l("");try{const J=e.t(s.name,{lng:"en"}),ie=e.t(c.name,{lng:"en"});if(we){if(!k)throw new Error("Please select an offline model in settings.");if(On)throw new Error("Offline model is still initializing.");if(!Kt)throw new Error("Selected offline model is not ready.");(U=Ce.current)==null||U.postMessage({type:"translate",payload:{text:D,sourceLang:J,targetLang:ie,sourceLangCode:s.code,targetLangCode:c.code,isTwoStepEnabled:te}})}else{if(!xe)throw new Error("You are offline. Enable offline mode or connect to the internet.");let oe="";const re=Xe=>{oe+=Xe,l(Ve=>Ve.length===0?Xe.trimStart():Ve+Xe)};if(se==="openai"){if(!N)throw new Error("OpenAI API Key is not set. Please add it in the settings.");if(!ae)throw new Error("OpenAI API URL is not set. Please add it in the settings.");oe=await lN(D,J,ie,N,L,ae,re,G.signal)}else{if(!N)throw new Error("Gemini API Key is not set. Please add it in the settings.");oe=await iN(D,J,ie,N,L,re,G.signal)}const $e={id:Date.now(),inputText:D,translatedText:oe,sourceLang:s,targetLang:c};A(Xe=>{const Ve=[$e,...Xe].slice(0,50);return localStorage.setItem("translation-history",JSON.stringify(Ve)),Ve}),h(!1)}}catch(J){if(J instanceof DOMException&&J.name==="AbortError"){console.log("Translation cancelled by user."),h(!1);return}const ie=J instanceof Error?J.message:"An unknown error occurred.";B(t("notifications.translationFailed",{errorMessage:ie}),"error"),J instanceof Error&&(J.message.includes("select an offline model")||J.message.includes("API Key is not set")||J.message.includes("API URL is not set"))&&T(!0),console.error(J),h(!1)}finally{!we&&lo.current===G&&(lo.current=null)}},[s,c,N,L,xe,we,k,Kt,On,B,se,ae,te,t,e]),Xv=w.useCallback(()=>{Tl(n)},[n,Tl]),Qv=w.useCallback(()=>{var D,G;we?(D=Ce.current)==null||D.postMessage({type:"cancel_translation"}):(G=lo.current)==null||G.abort()},[we]),Zv=w.useCallback(()=>{s.code!=="auto"&&(r(c),f(s),i(o),l(n))},[s,c,n,o]),Wv=w.useCallback(D=>{if(!o||!("speechSynthesis"in window)||window.speechSynthesis.speaking&&(window.speechSynthesis.cancel(),Wi&&(Jt||mi===D)))return;const G=new SpeechSynthesisUtterance(o);if(G.lang=c.code,Jt){const U=nt.find(J=>J.voiceURI===yi);U&&(G.voice=U),G.rate=vi,G.pitch=kn}else{const U=nt.filter(J=>J.lang.startsWith(c.code));if(U.length>0){const J=U.find(re=>/female|women|girl|mei-jia|zira|ayumi|kyoko/i.test(re.name)),ie=U.find(re=>/male|men|boy|liang|ichiro/i.test(re.name));let oe;D==="female"?oe=J||U.find(re=>re!==ie)||U[0]:oe=ie||U.find(re=>re!==J)||U[0],G.voice=oe}}G.onstart=()=>{gi(!0),ji(Jt?null:D)},G.onend=()=>{gi(!1),ji(null)},G.onerror=U=>{console.error("SpeechSynthesisUtterance.onerror",U),B(t("notifications.speechError",{error:U.error}),"error"),gi(!1),ji(null)},window.speechSynthesis.speak(G)},[o,c,nt,Wi,mi,B,Jt,yi,vi,kn,t]);w.useEffect(()=>{if(!js)return;const D=new js;return D.continuous=!0,D.interimResults=!0,D.lang=s.code==="auto"?"en-US":s.code,D.onresult=G=>i(Array.from(G.results).map(U=>U[0].transcript).join("")),D.onerror=G=>B(t("notifications.speechRecognitionError",{error:G.error}),"error"),D.onend=()=>g(!1),Ot.current=D,()=>D.stop()},[s.code,B,t]),w.useEffect(()=>{if(!js||s.code==="auto")return;const D=new js;return D.continuous=!0,D.interimResults=!0,D.lang=s.code,D.onresult=G=>{const U=Array.from(G.results).map(J=>J[0].transcript).join("");Sl.current=U,i(`[Speech] ${U}`)},D.onerror=G=>{B(t("notifications.speechRecognitionError",{error:G.error}),"error"),E(!1)},D.onend=()=>{E(!1);const G=Sl.current.trim();G?(i(G),Tl(G)):i("")},Gn.current=D,()=>D.stop()},[s.code,B,Tl,t]);const nd=w.useCallback(()=>{Ot.current&&(p?Ot.current.stop():(i(""),l(""),Ot.current.start()),g(!p))},[p]),Ms=w.useCallback(D=>async()=>{var J,ie;if(h(!0),i(t("notifications.processingAudio")),D&&l(""),un.current.length===0){h(!1),i(""),B(t("notifications.noAudioRecorded"),"error");return}const G=new Blob(un.current,{type:(J=Pt.current)==null?void 0:J.mimeType});un.current=[];let U=null;try{U=new(window.AudioContext||window.webkitAudioContext);const oe=await G.arrayBuffer(),re=await U.decodeAudioData(oe),$e=new OfflineAudioContext(re.numberOfChannels,re.length,re.sampleRate),Xe=$e.createBufferSource();Xe.buffer=re;let Ve=0;for(let Qt=0;Qt<re.numberOfChannels;Qt++){const so=re.getChannelData(Qt);for(let wi=0;wi<so.length;wi++)Ve=Math.max(Ve,Math.abs(so[wi]))}const $t=$e.createGain(),Vn=.85;Ve>0&&Ve<Vn?$t.gain.value=Vn/Ve:$t.gain.value=1;const Xt=$e.createBiquadFilter();Xt.type="highpass",Xt.frequency.value=100;const Et=$e.createBiquadFilter();Et.type="peaking",Et.frequency.value=3e3,Et.Q.value=1,Et.gain.value=3,Xe.connect($t),$t.connect(Xt),Xt.connect(Et),Et.connect($e.destination),Xe.start();const Ai=await $e.startRendering(),cn=16e3;let Ct=Ai;if(Ct.sampleRate!==cn){const Qt=Ct.length*cn/Ct.sampleRate,so=new OfflineAudioContext(1,Qt,cn),wi=so.createBufferSource();wi.buffer=Ct,wi.connect(so.destination),wi.start(),Ct=await so.startRendering()}const xi=CN(Ct);D&&kt(!0),(ie=Ce.current)==null||ie.postMessage({type:"transcribe",payload:{audioData:xi,sourceLang:e.t(s.name,{lng:"en"})}})}catch(oe){const re=oe instanceof Error?oe.message:"An unknown error occurred while processing audio.";B(t(D?"notifications.astFailed":"notifications.transcriptionFailed",{errorMessage:re}),"error"),i(""),D&&kt(!1),h(!1)}finally{U&&U.state!=="closed"&&U.close()}},[h,i,l,B,t,e,s,kt]),Is=w.useCallback(async()=>{if(p)oo.current&&(clearInterval(oo.current),oo.current=null),io(null),Pt.current&&Pt.current.state==="recording"&&Pt.current.stop(),Yt.current&&(Yt.current.getTracks().forEach(D=>D.stop()),Yt.current=null),g(!1);else try{i(""),l("");const D=await navigator.mediaDevices.getUserMedia({audio:!0});if(Yt.current=D,typeof MediaRecorder>"u"){B(t("notifications.mediaRecorderUnsupported"),"error"),D.getTracks().forEach(U=>U.stop());return}const G=new MediaRecorder(D);Pt.current=G,un.current=[],G.ondataavailable=U=>{U.data.size>0&&un.current.push(U.data)},G.onstop=Ms(!1),oo.current&&clearInterval(oo.current),io(30),oo.current=window.setInterval(()=>{io(U=>U!==null&&U>0?U-1:0)},1e3),G.start(),g(!0)}catch(D){B(t("notifications.micPermissionError"),"error"),console.error("Error starting offline recording:",D),h(!1)}},[p,B,t,Ms]);w.useEffect(()=>{Hn===0&&Is()},[Hn,Is]);const jv=w.useCallback(()=>{we?Kt?Is():B(t("notifications.offlineModelNotReadyRecording"),"error"):xe?nd():B(t("notifications.offlineSRError"),"error")},[we,Kt,xe,Is,nd,B,t]),id=w.useCallback(()=>{Gn.current&&(v?Gn.current.stop():(i(""),l(""),Sl.current="",Gn.current.start(),E(!0)))},[v]),od=w.useCallback(async()=>{if(v)Pt.current&&Pt.current.state==="recording"&&Pt.current.stop(),Yt.current&&(Yt.current.getTracks().forEach(D=>D.stop()),Yt.current=null),E(!1);else try{i(""),l("");const D=await navigator.mediaDevices.getUserMedia({audio:!0});if(Yt.current=D,typeof MediaRecorder>"u"){B(t("notifications.mediaRecorderUnsupported"),"error"),D.getTracks().forEach(U=>U.stop());return}const G=new MediaRecorder(D);Pt.current=G,un.current=[],G.ondataavailable=U=>{U.data.size>0&&un.current.push(U.data)},G.onstop=Ms(!0),G.start(),E(!0)}catch(D){B(t("notifications.micPermissionError"),"error"),console.error("Error starting offline AST recording:",D),h(!1)}},[v,B,t,Ms]),eS=w.useCallback(()=>{if(s.code==="auto"){B(t("notifications.astSelectLanguage"),"error");return}we?Kt?od():B(t("notifications.astOfflineModelNotReady"),"error"):xe?id():B(t("notifications.astOfflineError"),"error")},[s.code,we,Kt,xe,od,id,B,t]),tS=w.useCallback(async D=>{var G;y(!1),h(!0),i(t("notifications.processingImage")),l("");try{if(we){if(!Kt)throw new Error(t("notifications.offlineImageError"));const U=await new Promise((J,ie)=>{const oe=new Image;oe.onload=()=>{createImageBitmap(oe).then(J).catch(ie)},oe.onerror=()=>ie(new Error("Failed to load image for bitmap creation.")),oe.src=D});(G=Ce.current)==null||G.postMessage({type:"extractText",payload:{imageBitmap:U}},[U])}else{if(!xe)throw new Error(t("notifications.offlineImageTranslateError"));let U;const J=e.t(c.name,{lng:"en"});if(se==="openai"){if(!N)throw new Error("OpenAI API Key is not set. Please add it in the settings.");if(!ae)throw new Error("OpenAI API URL is not set. Please add it in the settings.");U=await sN(D,J,N,L,ae)}else{if(!N)throw new Error("Gemini API Key is not set. Please add it in the settings.");U=await oN(D,J,N,L)}i(U.sourceText),l(U.translatedText);const ie={id:Date.now(),inputText:U.sourceText,translatedText:U.translatedText,sourceLang:s,targetLang:c};A(oe=>{const re=[ie,...oe].slice(0,50);return localStorage.setItem("translation-history",JSON.stringify(re)),re}),h(!1)}}catch(U){const J=U instanceof Error?U.message:"An unknown error occurred.";B(t("notifications.imageProcessingFailed",{errorMessage:J}),"error"),i(""),h(!1)}},[we,Kt,xe,N,L,c,s,B,se,ae,t,e]),nS=(D,G,U,J,ie,oe,re,$e,Xe,Ve,$t,Vn,Xt,Et,Ai,cn,Ct,xi)=>{b(D),z(G),O(oe),F(re),V(U),Q(J),pl(ie),Le(Vn),cl($e),fl(Xe),Un(Ve),dl($t),hl(Xt),gl(Et),ml(Ai),yl(cn),bs(Ct),Rs(xi),localStorage.setItem("api-key",D),localStorage.setItem("model-name",G),localStorage.setItem("online-provider",oe),localStorage.setItem("openai-api-url",re),localStorage.setItem("hf-api-key",U),localStorage.setItem("offline-model-name",J),localStorage.setItem("offline-mode-enabled",JSON.stringify(ie)),localStorage.setItem("is-two-step-jp-cn-enabled",JSON.stringify(Vn)),localStorage.setItem("tts-enabled",JSON.stringify($e)),localStorage.setItem("tts-voice-uri",Xe),localStorage.setItem("tts-rate",JSON.stringify(Ve)),localStorage.setItem("tts-pitch",JSON.stringify($t)),localStorage.setItem("offline-max-tokens",JSON.stringify(Xt)),localStorage.setItem("offline-top-k",JSON.stringify(Et)),localStorage.setItem("offline-temperature",JSON.stringify(Ai)),localStorage.setItem("offline-random-seed",JSON.stringify(cn)),localStorage.setItem("offline-support-audio",JSON.stringify(Ct)),localStorage.setItem("offline-max-num-images",JSON.stringify(xi))},iS=D=>{i(D.inputText),l(D.translatedText),r(D.sourceLang),f(D.targetLang),x(!1)},oS=()=>{A([]),localStorage.removeItem("translation-history")},Ur=(D,G)=>{to(U=>({...U,[D]:G}))},lS=(D,G)=>uo.startDownload(D,G,I,U=>Ur(D,U)),sS=(D,G)=>uo.resumeDownload(D,G,I,U=>Ur(D,U)),aS=D=>uo.pauseDownload(D),rS=async D=>{await uo.deleteModel(D),Ur(D,{downloaded:0,total:0,percent:0,status:"not_started"})};return S.jsxs("div",{className:"bg-slate-100 h-full flex flex-col",children:[S.jsxs("div",{className:"w-full h-full max-w-6xl mx-auto flex-grow flex flex-col landscape:flex-row p-2 landscape:p-4 gap-4",children:[S.jsx("main",{className:"flex-1 landscape:h-full flex flex-col min-h-0 min-w-0",children:S.jsx(qC,{translatedText:o,targetLang:c,setTargetLang:f,isLoading:d,onSpeak:Wv,onSwapLanguages:Zv,onOpenHistory:()=>x(!0),onClearText:()=>l(""),isOfflineModeEnabled:we,isOfflineModelInitializing:On,isOfflineModelReady:Kt,offlineModelName:k,isSpeaking:Wi,speakingGender:mi,onlineProvider:se,isOfflineTtsEnabled:Jt,isAstRecording:v,onToggleAstRecording:eS})}),S.jsx("div",{className:"flex-1 landscape:h-full flex flex-col min-h-0 min-w-0",children:S.jsx(BC,{inputText:n,setInputText:i,sourceLang:s,setSourceLang:r,isLoading:d||On,onTranslate:Xv,onCancel:Qv,isRecording:p,onToggleRecording:jv,onOpenCamera:()=>y(!0),onOpenSettings:()=>T(!0),isOnline:xe,isOfflineModeEnabled:we,isOfflineModelReady:Kt,recordingCountdown:Hn})})]}),rn&&S.jsx("div",{className:`fixed top-5 left-1/2 -translate-x-1/2 px-4 py-3 rounded z-20 shadow-lg text-white ${rn.type==="error"?"bg-red-500":"bg-green-500"}`,role:"alert",children:rn.message}),_&&S.jsx(FC,{onClose:()=>y(!1),onImageCaptured:tS}),S.jsx(JC,{isOpen:m,onClose:()=>T(!1),onSave:nS,currentApiKey:N,currentModelName:L,currentOnlineProvider:se,currentOpenaiApiUrl:ae,currentHuggingFaceApiKey:I,currentOfflineModelName:k,currentIsOfflineModeEnabled:we,currentIsTwoStepJpCnEnabled:te,downloadProgress:eo,onStartDownload:lS,onResumeDownload:sS,onPauseDownload:aS,onDeleteModel:rS,isOfflineModelInitializing:On,voices:nt,targetLang:c,currentIsOfflineTtsEnabled:Jt,currentOfflineTtsVoiceURI:yi,currentOfflineTtsRate:vi,currentOfflineTtsPitch:kn,currentOfflineMaxTokens:Si,currentOfflineTopK:Ti,currentOfflineTemperature:Ei,currentOfflineRandomSeed:Ci,currentOfflineSupportAudio:_i,currentOfflineMaxNumImages:vl}),S.jsx(YC,{isOpen:C,onClose:()=>x(!1),history:M,onSelectHistory:iS,onClearHistory:oS})]})},K=t=>typeof t=="string",Il=()=>{let t,e;const n=new Promise((i,o)=>{t=i,e=o});return n.resolve=t,n.reject=e,n},Cg=t=>t==null?"":""+t,AN=(t,e,n)=>{t.forEach(i=>{e[i]&&(n[i]=e[i])})},xN=/###/g,_g=t=>t&&t.indexOf("###")>-1?t.replace(xN,"."):t,Ag=t=>!t||K(t),Wl=(t,e,n)=>{const i=K(e)?e.split("."):e;let o=0;for(;o<i.length-1;){if(Ag(t))return{};const l=_g(i[o]);!t[l]&&n&&(t[l]=new n),Object.prototype.hasOwnProperty.call(t,l)?t=t[l]:t={},++o}return Ag(t)?{}:{obj:t,k:_g(i[o])}},xg=(t,e,n)=>{const{obj:i,k:o}=Wl(t,e,Object);if(i!==void 0||e.length===1){i[o]=n;return}let l=e[e.length-1],s=e.slice(0,e.length-1),r=Wl(t,s,Object);for(;r.obj===void 0&&s.length;)l=`${s[s.length-1]}.${l}`,s=s.slice(0,s.length-1),r=Wl(t,s,Object),r&&r.obj&&typeof r.obj[`${r.k}.${l}`]<"u"&&(r.obj=void 0);r.obj[`${r.k}.${l}`]=n},wN=(t,e,n,i)=>{const{obj:o,k:l}=Wl(t,e,Object);o[l]=o[l]||[],o[l].push(n)},tr=(t,e)=>{const{obj:n,k:i}=Wl(t,e);if(n)return n[i]},bN=(t,e,n)=>{const i=tr(t,n);return i!==void 0?i:tr(e,n)},qv=(t,e,n)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in t?K(t[i])||t[i]instanceof String||K(e[i])||e[i]instanceof String?n&&(t[i]=e[i]):qv(t[i],e[i],n):t[i]=e[i]);return t},co=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var RN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const NN=t=>K(t)?t.replace(/[&<>"'\/]/g,e=>RN[e]):t;class MN{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const IN=[" ",",","?","!",";"],DN=new MN(20),LN=(t,e,n)=>{e=e||"",n=n||"";const i=IN.filter(s=>e.indexOf(s)<0&&n.indexOf(s)<0);if(i.length===0)return!0;const o=DN.getRegExp(`(${i.map(s=>s==="?"?"\\?":s).join("|")})`);let l=!o.test(t);if(!l){const s=t.indexOf(n);s>0&&!o.test(t.substring(0,s))&&(l=!0)}return l},qc=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const i=e.split(n);let o=t;for(let l=0;l<i.length;){if(!o||typeof o!="object")return;let s,r="";for(let c=l;c<i.length;++c)if(c!==l&&(r+=n),r+=i[c],s=o[r],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&c<i.length-1)continue;l+=c-l+1;break}o=s}return o},nr=t=>t&&t.replace("_","-"),UN={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class ir{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||UN,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,i,o){return o&&!this.debug?null:(K(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new ir(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ir(this.logger,e)}}var tn=new ir;class Dr{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const o=this.observers[i].get(n)||0;this.observers[i].set(n,o+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(s=>{let[r,c]=s;for(let f=0;f<c;f++)r(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(s=>{let[r,c]=s;for(let f=0;f<c;f++)r.apply(r,[e,...i])})}}class wg extends Dr{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,s=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let r;e.indexOf(".")>-1?r=e.split("."):(r=[e,n],i&&(Array.isArray(i)?r.push(...i):K(i)&&l?r.push(...i.split(l)):r.push(i)));const c=tr(this.data,r);return!c&&!n&&!i&&e.indexOf(".")>-1&&(e=r[0],n=r[1],i=r.slice(2).join(".")),c||!s||!K(i)?c:qc(this.data&&this.data[e]&&this.data[e][n],i,l)}addResource(e,n,i,o){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let r=[e,n];i&&(r=r.concat(s?i.split(s):i)),e.indexOf(".")>-1&&(r=e.split("."),o=n,n=r[1]),this.addNamespaces(n),xg(this.data,r,o),l.silent||this.emit("added",e,n,i,o)}addResources(e,n,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const l in i)(K(i[l])||Array.isArray(i[l]))&&this.addResource(e,n,l,i[l],{silent:!0});o.silent||this.emit("added",e,n,i)}addResourceBundle(e,n,i,o,l){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},r=[e,n];e.indexOf(".")>-1&&(r=e.split("."),o=i,i=n,n=r[1]),this.addNamespaces(n);let c=tr(this.data,r)||{};s.skipCopy||(i=JSON.parse(JSON.stringify(i))),o?qv(c,i,l):c={...c,...i},xg(this.data,r,c),s.silent||this.emit("added",e,n,i)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(o=>n[o]&&Object.keys(n[o]).length>0)}toJSON(){return this.data}}var Fv={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,i,o){return t.forEach(l=>{this.processors[l]&&(e=this.processors[l].process(e,n,i,o))}),e}};const bg={};class or extends Dr{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),AN(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=tn.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const i=this.resolve(e,n);return i&&i.res!==void 0}extractFromKey(e,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let l=n.ns||this.options.defaultNS||[];const s=i&&e.indexOf(i)>-1,r=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!LN(e,i,o);if(s&&!r){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:K(l)?[l]:l};const f=e.split(i);(i!==o||i===o&&this.options.ns.indexOf(f[0])>-1)&&(l=f.shift()),e=f.join(o)}return{key:e,namespaces:K(l)?[l]:l}}translate(e,n,i){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,l=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:s,namespaces:r}=this.extractFromKey(e[e.length-1],n),c=r[r.length-1],f=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&f.toLowerCase()==="cimode"){if(d){const C=n.nsSeparator||this.options.nsSeparator;return o?{res:`${c}${C}${s}`,usedKey:s,exactUsedKey:s,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:`${c}${C}${s}`}return o?{res:s,usedKey:s,exactUsedKey:s,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:s}const h=this.resolve(e,n);let p=h&&h.res;const g=h&&h.usedKey||s,v=h&&h.exactUsedKey||s,E=Object.prototype.toString.apply(p),_=["[object Number]","[object Function]","[object RegExp]"],y=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject,T=!K(p)&&typeof p!="boolean"&&typeof p!="number";if(m&&p&&T&&_.indexOf(E)<0&&!(K(y)&&Array.isArray(p))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,p,{...n,ns:r}):`key '${s} (${this.language})' returned an object instead of string.`;return o?(h.res=C,h.usedParams=this.getUsedParamsDetails(n),h):C}if(l){const C=Array.isArray(p),x=C?[]:{},M=C?v:g;for(const A in p)if(Object.prototype.hasOwnProperty.call(p,A)){const N=`${M}${l}${A}`;x[A]=this.translate(N,{...n,joinArrays:!1,ns:r}),x[A]===N&&(x[A]=p[A])}p=x}}else if(m&&K(y)&&Array.isArray(p))p=p.join(y),p&&(p=this.extendTranslation(p,e,n,i));else{let C=!1,x=!1;const M=n.count!==void 0&&!K(n.count),A=or.hasDefaultValue(n),N=M?this.pluralResolver.getSuffix(f,n.count,n):"",b=n.ordinal&&M?this.pluralResolver.getSuffix(f,n.count,{ordinal:!1}):"",L=M&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),z=L&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${N}`]||n[`defaultValue${b}`]||n.defaultValue;!this.isValidLookup(p)&&A&&(C=!0,p=z),this.isValidLookup(p)||(x=!0,p=s);const O=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&x?void 0:p,ae=A&&z!==p&&this.options.updateMissing;if(x||C||ae){if(this.logger.log(ae?"updateKey":"missingKey",f,c,s,ae?z:p),l){const k=this.resolve(s,{...n,keySeparator:!1});k&&k.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let F=[];const I=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&I&&I[0])for(let k=0;k<I.length;k++)F.push(I[k]);else this.options.saveMissingTo==="all"?F=this.languageUtils.toResolveHierarchy(n.lng||this.language):F.push(n.lng||this.language);const V=(k,Q,te)=>{const Le=A&&te!==p?te:O;this.options.missingKeyHandler?this.options.missingKeyHandler(k,c,Q,Le,ae,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(k,c,Q,Le,ae,n),this.emit("missingKey",k,c,Q,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&M?F.forEach(k=>{const Q=this.pluralResolver.getSuffixes(k,n);L&&n[`defaultValue${this.options.pluralSeparator}zero`]&&Q.indexOf(`${this.options.pluralSeparator}zero`)<0&&Q.push(`${this.options.pluralSeparator}zero`),Q.forEach(te=>{V([k],s+te,n[`defaultValue${te}`]||z)})}):V(F,s,z))}p=this.extendTranslation(p,e,n,h,i),x&&p===s&&this.options.appendNamespaceToMissingKey&&(p=`${c}:${s}`),(x||C)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${s}`:s,C?p:void 0):p=this.options.parseMissingKeyHandler(p))}return o?(h.res=p,h.usedParams=this.getUsedParamsDetails(n),h):p}extendTranslation(e,n,i,o,l){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const f=K(e)&&(i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(f){const p=e.match(this.interpolator.nestingRegexp);d=p&&p.length}let h=i.replace&&!K(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,i.lng||this.language||o.usedLng,i),f){const p=e.match(this.interpolator.nestingRegexp),g=p&&p.length;d<g&&(i.nest=!1)}!i.lng&&this.options.compatibilityAPI!=="v1"&&o&&o.res&&(i.lng=this.language||o.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var p=arguments.length,g=new Array(p),v=0;v<p;v++)g[v]=arguments[v];return l&&l[0]===g[0]&&!i.context?(s.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${n[0]}`),null):s.translate(...g,n)},i)),i.interpolation&&this.interpolator.reset()}const r=i.postProcess||this.options.postProcess,c=K(r)?[r]:r;return e!=null&&c&&c.length&&i.applyPostProcessor!==!1&&(e=Fv.handle(c,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,o,l,s,r;return K(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(i))return;const f=this.extractFromKey(c,n),d=f.key;o=d;let h=f.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const p=n.count!==void 0&&!K(n.count),g=p&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),v=n.context!==void 0&&(K(n.context)||typeof n.context=="number")&&n.context!=="",E=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(_=>{this.isValidLookup(i)||(r=_,!bg[`${E[0]}-${_}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(r)&&(bg[`${E[0]}-${_}`]=!0,this.logger.warn(`key "${o}" for languages "${E.join(", ")}" won't get resolved as namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),E.forEach(y=>{if(this.isValidLookup(i))return;s=y;const m=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(m,d,y,_,n);else{let C;p&&(C=this.pluralResolver.getSuffix(y,n.count,n));const x=`${this.options.pluralSeparator}zero`,M=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(m.push(d+C),n.ordinal&&C.indexOf(M)===0&&m.push(d+C.replace(M,this.options.pluralSeparator)),g&&m.push(d+x)),v){const A=`${d}${this.options.contextSeparator}${n.context}`;m.push(A),p&&(m.push(A+C),n.ordinal&&C.indexOf(M)===0&&m.push(A+C.replace(M,this.options.pluralSeparator)),g&&m.push(A+x))}}let T;for(;T=m.pop();)this.isValidLookup(i)||(l=T,i=this.getResource(y,_,T,n))}))})}),{res:i,usedKey:o,exactUsedKey:l,usedLng:s,usedNS:r}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,i,o):this.resourceStore.getResource(e,n,i,o)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!K(e.replace);let o=i?e.replace:e;if(i&&typeof e.count<"u"&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!i){o={...o};for(const l of n)delete o[l]}return o}static hasDefaultValue(e){const n="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&n===i.substring(0,n.length)&&e[i]!==void 0)return!0;return!1}}const _u=t=>t.charAt(0).toUpperCase()+t.slice(1);class Rg{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=tn.create("languageUtils")}getScriptPartFromCode(e){if(e=nr(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=nr(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(K(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let o=Intl.getCanonicalLocales(e)[0];if(o&&this.options.lowerCaseLng&&(o=o.toLowerCase()),o)return o}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let i=e.split("-");return this.options.lowerCaseLng?i=i.map(o=>o.toLowerCase()):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=_u(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=_u(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=_u(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(i=>{if(n)return;const o=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(o))&&(n=o)}),!n&&this.options.supportedLngs&&e.forEach(i=>{if(n)return;const o=this.getLanguagePartFromCode(i);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(l=>{if(l===o)return l;if(!(l.indexOf("-")<0&&o.indexOf("-")<0)&&(l.indexOf("-")>0&&o.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===o||l.indexOf(o)===0&&o.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),K(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let i=e[n];return i||(i=e[this.getScriptPartFromCode(n)]),i||(i=e[this.formatLanguageCode(n)]),i||(i=e[this.getLanguagePartFromCode(n)]),i||(i=e.default),i||[]}toResolveHierarchy(e,n){const i=this.getFallbackCodes(n||this.options.fallbackLng||[],e),o=[],l=s=>{s&&(this.isSupportedCode(s)?o.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return K(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(e))):K(e)&&l(this.formatLanguageCode(e)),i.forEach(s=>{o.indexOf(s)<0&&l(this.formatLanguageCode(s))}),o}}let kN=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],ON={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const PN=["v1","v2","v3"],HN=["v4"],Ng={zero:0,one:1,two:2,few:3,many:4,other:5},GN=()=>{const t={};return kN.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:ON[e.fc]}})}),t};class VN{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=tn.create("pluralResolver"),(!this.options.compatibilityJSON||HN.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=GN(),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const i=nr(e==="dev"?"en":e),o=n.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:i,type:o});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let s;try{s=new Intl.PluralRules(i,{type:o})}catch{if(!e.match(/-|_/))return;const c=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(c,n)}return this.pluralRulesCache[l]=s,s}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,i).map(o=>`${n}${o}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((o,l)=>Ng[o]-Ng[l]).map(o=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${o}`):i.numbers.map(o=>this.getSuffix(e,o,n)):[]}getSuffix(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=this.getRule(e,i);return o?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${o.select(n)}`:this.getSuffixRetroCompatible(o,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const i=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let o=e.numbers[i];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));const l=()=>this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString();return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?`_plural_${o.toString()}`:l():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?l():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!PN.includes(this.options.compatibilityJSON)}}const Mg=function(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=bN(t,e,n);return!l&&o&&K(n)&&(l=qc(t,n,i),l===void 0&&(l=qc(e,n,i))),l},Au=t=>t.replace(/\$/g,"$$$$");class zN{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=tn.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:i,useRawValueToEscape:o,prefix:l,prefixEscaped:s,suffix:r,suffixEscaped:c,formatSeparator:f,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:p,nestingPrefixEscaped:g,nestingSuffix:v,nestingSuffixEscaped:E,nestingOptionsSeparator:_,maxReplaces:y,alwaysFormat:m}=e.interpolation;this.escape=n!==void 0?n:NN,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=l?co(l):s||"{{",this.suffix=r?co(r):c||"}}",this.formatSeparator=f||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=p?co(p):g||co("$t("),this.nestingSuffix=v?co(v):E||co(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=y||1e3,this.alwaysFormat=m!==void 0?m:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,i)=>n&&n.source===i?(n.lastIndex=0,n):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,i,o){let l,s,r;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=g=>{if(g.indexOf(this.formatSeparator)<0){const y=Mg(n,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,i,{...o,...n,interpolationkey:g}):y}const v=g.split(this.formatSeparator),E=v.shift().trim(),_=v.join(this.formatSeparator).trim();return this.format(Mg(n,c,E,this.options.keySeparator,this.options.ignoreJSONStructure),_,i,{...o,...n,interpolationkey:E})};this.resetRegExp();const d=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,h=o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Au(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Au(this.escape(g)):Au(g)}].forEach(g=>{for(r=0;l=g.regex.exec(e);){const v=l[1].trim();if(s=f(v),s===void 0)if(typeof d=="function"){const _=d(e,l,o);s=K(_)?_:""}else if(o&&Object.prototype.hasOwnProperty.call(o,v))s="";else if(h){s=l[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${e}`),s="";else!K(s)&&!this.useRawValueToEscape&&(s=Cg(s));const E=g.safeValue(s);if(e=e.replace(l[0],E),h?(g.regex.lastIndex+=s.length,g.regex.lastIndex-=l[0].length):g.regex.lastIndex=0,r++,r>=this.maxReplaces)break}}),e}nest(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,l,s;const r=(c,f)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const h=c.split(new RegExp(`${d}[ ]*{`));let p=`{${h[1]}`;c=h[0],p=this.interpolate(p,s);const g=p.match(/'/g),v=p.match(/"/g);(g&&g.length%2===0&&!v||v.length%2!==0)&&(p=p.replace(/'/g,'"'));try{s=JSON.parse(p),f&&(s={...f,...s})}catch(E){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,E),`${c}${d}${p}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,c};for(;o=this.nestingRegexp.exec(e);){let c=[];s={...i},s=s.replace&&!K(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let f=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){const d=o[1].split(this.formatSeparator).map(h=>h.trim());o[1]=d.shift(),c=d,f=!0}if(l=n(r.call(this,o[1].trim(),s),s),l&&o[0]===e&&!K(l))return l;K(l)||(l=Cg(l)),l||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),l=""),f&&(l=c.reduce((d,h)=>this.format(d,h,i.lng,{...i,interpolationkey:o[1].trim()}),l.trim())),e=e.replace(o[0],l),this.regexp.lastIndex=0}return e}}const BN=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const i=t.split("(");e=i[0].toLowerCase().trim();const o=i[1].substring(0,i[1].length-1);e==="currency"&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach(s=>{if(s){const[r,...c]=s.split(":"),f=c.join(":").trim().replace(/^'+|'+$/g,""),d=r.trim();n[d]||(n[d]=f),f==="false"&&(n[d]=!1),f==="true"&&(n[d]=!0),isNaN(f)||(n[d]=parseInt(f,10))}})}return{formatName:e,formatOptions:n}},fo=t=>{const e={};return(n,i,o)=>{let l=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(l={...l,[o.interpolationkey]:void 0});const s=i+JSON.stringify(l);let r=e[s];return r||(r=t(nr(i),o),e[s]=r),r(n)}};class qN{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=tn.create("formatter"),this.options=e,this.formats={number:fo((n,i)=>{const o=new Intl.NumberFormat(n,{...i});return l=>o.format(l)}),currency:fo((n,i)=>{const o=new Intl.NumberFormat(n,{...i,style:"currency"});return l=>o.format(l)}),datetime:fo((n,i)=>{const o=new Intl.DateTimeFormat(n,{...i});return l=>o.format(l)}),relativetime:fo((n,i)=>{const o=new Intl.RelativeTimeFormat(n,{...i});return l=>o.format(l,i.range||"day")}),list:fo((n,i)=>{const o=new Intl.ListFormat(n,{...i});return l=>o.format(l)})},this.init(e)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=fo(n)}format(e,n,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const l=n.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(r=>r.indexOf(")")>-1)){const r=l.findIndex(c=>c.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,r)].join(this.formatSeparator)}return l.reduce((r,c)=>{const{formatName:f,formatOptions:d}=BN(c);if(this.formats[f]){let h=r;try{const p=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},g=p.locale||p.lng||o.locale||o.lng||i;h=this.formats[f](r,g,{...d,...o,...p})}catch(p){this.logger.warn(p)}return h}else this.logger.warn(`there was no format function for ${f}`);return r},e)}}const FN=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class JN extends Dr{constructor(e,n,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=o,this.logger=tn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,o.backend,o)}queueLoad(e,n,i,o){const l={},s={},r={},c={};return e.forEach(f=>{let d=!0;n.forEach(h=>{const p=`${f}|${h}`;!i.reload&&this.store.hasResourceBundle(f,h)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?s[p]===void 0&&(s[p]=!0):(this.state[p]=1,d=!1,s[p]===void 0&&(s[p]=!0),l[p]===void 0&&(l[p]=!0),c[h]===void 0&&(c[h]=!0)))}),d||(r[f]=!0)}),(Object.keys(l).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(l),pending:Object.keys(s),toLoadLanguages:Object.keys(r),toLoadNamespaces:Object.keys(c)}}loaded(e,n,i){const o=e.split("|"),l=o[0],s=o[1];n&&this.emit("failedLoading",l,s,n),!n&&i&&this.store.addResourceBundle(l,s,i,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&i&&(this.state[e]=0);const r={};this.queue.forEach(c=>{wN(c.loaded,[l],s),FN(c,e),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(f=>{r[f]||(r[f]={});const d=c.loaded[f];d.length&&d.forEach(h=>{r[f][h]===void 0&&(r[f][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",r),this.queue=this.queue.filter(c=>!c.done)}read(e,n,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:i,tried:o,wait:l,callback:s});return}this.readingCalls++;const r=(f,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(f&&d&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,i,o+1,l*2,s)},l);return}s(f,d)},c=this.backend[i].bind(this.backend);if(c.length===2){try{const f=c(e,n);f&&typeof f.then=="function"?f.then(d=>r(null,d)).catch(r):r(null,f)}catch(f){r(f)}return}return c(e,n,r)}prepareLoading(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();K(e)&&(e=this.languageUtils.toResolveHierarchy(e)),K(n)&&(n=[n]);const l=this.queueLoad(e,n,i,o);if(!l.toLoad.length)return l.pending.length||o(),null;l.toLoad.forEach(s=>{this.loadOne(s)})}load(e,n,i){this.prepareLoading(e,n,{},i)}reload(e,n,i){this.prepareLoading(e,n,{reload:!0},i)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=e.split("|"),o=i[0],l=i[1];this.read(o,l,"read",void 0,void 0,(s,r)=>{s&&this.logger.warn(`${n}loading namespace ${l} for language ${o} failed`,s),!s&&r&&this.logger.log(`${n}loaded namespace ${l} for language ${o}`,r),this.loaded(e,s,r)})}saveMissing(e,n,i,o,l){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},r=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend&&this.backend.create){const c={...s,isUpdate:l},f=this.backend.create.bind(this.backend);if(f.length<6)try{let d;f.length===5?d=f(e,n,i,o,c):d=f(e,n,i,o),d&&typeof d.then=="function"?d.then(h=>r(null,h)).catch(r):r(null,d)}catch(d){r(d)}else f(e,n,i,o,r,c)}!e||!e[0]||this.store.addResource(e[0],n,i,o)}}}const Ig=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),K(t[1])&&(e.defaultValue=t[1]),K(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(i=>{e[i]=n[i]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Dg=t=>(K(t.ns)&&(t.ns=[t.ns]),K(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),K(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),ea=()=>{},YN=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class ps extends Dr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Dg(e),this.services={},this.logger=tn,this.modules={external:[]},YN(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(i=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(K(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const o=Ig();this.options={...o,...this.options,...Dg(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...o.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const l=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?tn.init(l(this.modules.logger),this.options):tn.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=qN);const h=new Rg(this.options);this.store=new wg(this.options.resources,this.options);const p=this.services;p.logger=tn,p.resourceStore=this.store,p.languageUtils=h,p.pluralResolver=new VN(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(p.formatter=l(d),p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new zN(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new JN(l(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(g){for(var v=arguments.length,E=new Array(v>1?v-1:0),_=1;_<v;_++)E[_-1]=arguments[_];e.emit(g,...E)}),this.modules.languageDetector&&(p.languageDetector=l(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=l(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new or(this.services,this.options),this.translator.on("*",function(g){for(var v=arguments.length,E=new Array(v>1?v-1:0),_=1;_<v;_++)E[_-1]=arguments[_];e.emit(g,...E)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,i||(i=ea),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const c=Il(),f=()=>{const d=(h,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(p),i(h,p)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),c}loadResources(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ea;const o=K(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(o&&o.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const l=[],s=r=>{if(!r||r==="cimode")return;this.services.languageUtils.toResolveHierarchy(r).forEach(f=>{f!=="cimode"&&l.indexOf(f)<0&&l.push(f)})};o?s(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>s(c)),this.options.preload&&this.options.preload.forEach(r=>s(r)),this.services.backendConnector.load(l,this.options.ns,r=>{!r&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(r)})}else i(null)}reloadResources(e,n,i){const o=Il();return typeof e=="function"&&(i=e,e=void 0),typeof n=="function"&&(i=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),i||(i=ea),this.services.backendConnector.reload(e,n,l=>{o.resolve(),i(l)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Fv.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(e,n){var i=this;this.isLanguageChangingTo=e;const o=Il();this.emit("languageChanging",e);const l=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},s=(c,f)=>{f?(l(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,o.resolve(function(){return i.t(...arguments)}),n&&n(c,function(){return i.t(...arguments)})},r=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const f=K(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);f&&(this.language||l(f),this.translator.language||this.translator.changeLanguage(f),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(f)),this.loadResources(f,d=>{s(d,f)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?r(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(r):this.services.languageDetector.detect(r):r(e),o}getFixedT(e,n,i){var o=this;const l=function(s,r){let c;if(typeof r!="object"){for(var f=arguments.length,d=new Array(f>2?f-2:0),h=2;h<f;h++)d[h-2]=arguments[h];c=o.options.overloadTranslationOptionHandler([s,r].concat(d))}else c={...r};c.lng=c.lng||l.lng,c.lngs=c.lngs||l.lngs,c.ns=c.ns||l.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||i||l.keyPrefix);const p=o.options.keySeparator||".";let g;return c.keyPrefix&&Array.isArray(s)?g=s.map(v=>`${c.keyPrefix}${p}${v}`):g=c.keyPrefix?`${c.keyPrefix}${p}${s}`:s,o.t(g,c)};return K(e)?l.lng=e:l.lngs=e,l.ns=n,l.keyPrefix=i,l}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=n.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const s=(r,c)=>{const f=this.services.backendConnector.state[`${r}|${c}`];return f===-1||f===0||f===2};if(n.precheck){const r=n.precheck(this,s);if(r!==void 0)return r}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(i,e)&&(!o||s(l,e)))}loadNamespaces(e,n){const i=Il();return this.options.ns?(K(e)&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{i.resolve(),n&&n(o)}),i):(n&&n(),Promise.resolve())}loadLanguages(e,n){const i=Il();K(e)&&(e=[e]);const o=this.options.preload||[],l=e.filter(s=>o.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return l.length?(this.options.preload=o.concat(l),this.loadResources(s=>{i.resolve(),n&&n(s)}),i):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services&&this.services.languageUtils||new Rg(Ig());return n.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new ps(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ea;const i=e.forkResourceStore;i&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},l=new ps(o);return(e.debug!==void 0||e.prefix!==void 0)&&(l.logger=l.logger.clone(e)),["store","services","language"].forEach(r=>{l[r]=this[r]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},i&&(l.store=new wg(this.store.data,o),l.services.resourceStore=l.store),l.translator=new or(l.services,o),l.translator.on("*",function(r){for(var c=arguments.length,f=new Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];l.emit(r,...f)}),l.init(o,n),l.translator.options=o,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ke=ps.createInstance();Ke.createInstance=ps.createInstance;Ke.createInstance;Ke.dir;Ke.init;Ke.loadResources;Ke.reloadResources;Ke.use;Ke.changeLanguage;Ke.getFixedT;Ke.t;Ke.exists;Ke.setDefaultNamespace;Ke.hasLoadedNamespace;Ke.loadNamespaces;Ke.loadLanguages;const{slice:KN,forEach:$N}=[];function XN(t){return $N.call(KN.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function QN(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const Lg=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,ZN=function(t,e){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},o=encodeURIComponent(e);let l=`${t}=${o}`;if(i.maxAge>0){const s=i.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");l+=`; Max-Age=${Math.floor(s)}`}if(i.domain){if(!Lg.test(i.domain))throw new TypeError("option domain is invalid");l+=`; Domain=${i.domain}`}if(i.path){if(!Lg.test(i.path))throw new TypeError("option path is invalid");l+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");l+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(l+="; HttpOnly"),i.secure&&(l+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(l+="; Partitioned"),l},Ug={create(t,e,n,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+n*60*1e3)),i&&(o.domain=i),document.cookie=ZN(t,e,o)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let i=0;i<n.length;i++){let o=n[i];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(e)===0)return o.substring(e.length,o.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var WN={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return Ug.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:i,cookieDomain:o,cookieOptions:l}=e;n&&typeof document<"u"&&Ug.create(n,t,i,o,l)}},jN={name:"querystring",lookup(t){var i;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:o}=window.location;!window.location.search&&((i=window.location.hash)==null?void 0:i.indexOf("?"))>-1&&(o=window.location.hash.substring(window.location.hash.indexOf("?")));const s=o.substring(1).split("&");for(let r=0;r<s.length;r++){const c=s[r].indexOf("=");c>0&&s[r].substring(0,c)===e&&(n=s[r].substring(c+1))}}return n}},eM={name:"hash",lookup(t){var o;let{lookupHash:e,lookupFromHashIndex:n}=t,i;if(typeof window<"u"){const{hash:l}=window.location;if(l&&l.length>2){const s=l.substring(1);if(e){const r=s.split("&");for(let c=0;c<r.length;c++){const f=r[c].indexOf("=");f>0&&r[c].substring(0,f)===e&&(i=r[c].substring(f+1))}}if(i)return i;if(!i&&n>-1){const r=l.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?(o=r[typeof n=="number"?n:0])==null?void 0:o.replace("/",""):void 0}}}return i}};let po=null;const kg=()=>{if(po!==null)return po;try{if(po=typeof window<"u"&&window.localStorage!==null,!po)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{po=!1}return po};var tM={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&kg())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&kg()&&window.localStorage.setItem(n,t)}};let ho=null;const Og=()=>{if(ho!==null)return ho;try{if(ho=typeof window<"u"&&window.sessionStorage!==null,!ho)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{ho=!1}return ho};var nM={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&Og())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&Og()&&window.sessionStorage.setItem(n,t)}},iM={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:i,language:o}=navigator;if(n)for(let l=0;l<n.length;l++)e.push(n[l]);i&&e.push(i),o&&e.push(o)}return e.length>0?e:void 0}},oM={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const i=e||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(n=i.getAttribute("lang")),n}},lM={name:"path",lookup(t){var o;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(o=n[typeof e=="number"?e:0])==null?void 0:o.replace("/",""):void 0}},sM={name:"subdomain",lookup(t){var o,l;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,i=typeof window<"u"&&((l=(o=window.location)==null?void 0:o.hostname)==null?void 0:l.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(i)return i[n]}};let Jv=!1;try{document.cookie,Jv=!0}catch{}const Yv=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Jv||Yv.splice(1,1);const aM=()=>({order:Yv,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class Kv{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=XN(n,this.options||{},aM()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=o=>o.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(WN),this.addDetector(jN),this.addDetector(tM),this.addDetector(nM),this.addDetector(iM),this.addDetector(oM),this.addDetector(lM),this.addDetector(sM),this.addDetector(eM)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(i=>{if(this.detectors[i]){let o=this.detectors[i].lookup(this.options);o&&typeof o=="string"&&(o=[o]),o&&(n=n.concat(o))}}),n=n.filter(i=>i!=null&&!QN(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(e,this.options)}))}}Kv.type="languageDetector";const rM={en:{translation:{languages:{autoDetect:"Auto Detect",english:"English",chineseTraditional:"Chinese (Traditional)",chineseTraditionalHK:"Chinese (Traditional) HK",chineseSimplified:"Chinese (Simplified)",spanish:"Spanish",japanese:"Japanese",french:"French",german:"German",korean:"Korean",russian:"Russian",portuguese:"Portuguese",italian:"Italian"},translationInput:{online:"Online",offline:"Offline",cameraAriaLabel:"Translate from camera",settingsAriaLabel:"Open settings",placeholderListening:"Listening...",placeholderEnterText:"Enter text to translate",clearText:"Clear text",countdownPrefix:"0:",recordingStop:"Stop recording",recordingStart:"Start recording",cancelTranslation:"Cancel Translation",translateOffline:"Translate using offline model",translate:"Translate"},translationOutput:{modeOnline:"Mode: Online ({{provider}})",modeOfflineInitializing:"Mode: Offline ({{modelName}}) - Initializing...",modeOfflineReady:"Mode: Offline ({{modelName}})",modeOfflineNotReady:"Mode: Offline ({{modelName}}) - Model not ready",modeOfflineNoModel:"Mode: Offline - No model selected",flipScreenAriaLabel:"Flip screen",copyAriaLabel:"Copy translated text",historyAriaLabel:"View translation history",clearAriaLabel:"Clear translated text",placeholder:"Translation",speakStop:"Stop speaking",speakCustomVoice:"Speak with custom voice",speakFemale:"Speak with female voice",speakMale:"Speak with male voice",astStop:"Stop speech translation",astStart:"Start speech translation",astTitle:"Automatic Speech Translation"},settings:{title:"Settings",closeAriaLabel:"Close settings",tabOnline:"Online",tabOffline:"Offline",tabTts:"Offline TTS",tabOfflineParams:"Offline Params",providerLabel:"Provider",providerGemini:"Gemini",providerOpenAI:"OpenAI",openaiUrlLabel:"OpenAI API URL",openaiUrlPlaceholder:"e.g., https://api.openai.com",apiKeyLabel:"API Key",apiKeyPlaceholder:"Enter your Gemini or OpenAI API Key",modelNameLabel:"Model Name",modelNameGeminiPlaceholder:"e.g., gemini-2.5-flash",modelNameOpenAIPlaceholder:"e.g., gpt-4o",hfApiKeyLabel:"Hugging Face API Key",hfApiKeyPlaceholder:"Required to download models",hfApiKeyDescription:"A key is required for model downloads from Hugging Face.",manageModelsLabel:"Manage Offline Models",download:"Download",pause:"Pause",resume:"Resume",retry:"Retry",deleteModelAriaLabel:"Delete {{modelName}}",statusInitializing:"Initializing...",statusError:"Error: {{error}}",enableOfflineLabel:"Enable Offline Translation",enableOfflineDescription:"Use local model for translations.",enableTwoStepLabel:"High-Accuracy JPZH Mode",enableTwoStepDescription:"Improves Japanese to Chinese translation via English.",enableCustomTtsLabel:"Enable Custom Offline TTS",enableCustomTtsDescription:"Customize the voice for text-to-speech.",voiceLabel:"Voice",voicePlaceholder:"No voices available for {{languageName}}",rateLabel:"Rate",pitchLabel:"Pitch",offlineParamsDescription:"Advanced parameters for the local offline model. Changes will require the model to be re-initialized.",maxTokensLabel:"Max Tokens",topKLabel:"Top K",temperatureLabel:"Temperature",randomSeedLabel:"Random Seed",supportAudioLabel:"Enable Audio Input (for transcription)",supportAudioDescription:"Allows the model to process audio files.",maxNumImagesLabel:"Enable Image Input (for OCR)",maxNumImagesDescription:"Allows the model to process one image.",clearSettingsButton:"Clear Settings",saveSettingsButton:"Save Settings",languageLabel:"UI Language"},history:{title:"Translation History",closeAriaLabel:"Close history",empty:"No history yet.",selectAriaLabel:"Select translation from {{sourceLang}} to {{targetLang}}",clearAriaLabel:"Clear all translation history",clearButton:"Clear History"},camera:{title:"Camera Translation View",closeAriaLabel:"Close camera view",errorAccess:"Could not access the camera. Please ensure permissions are granted.",errorCapture:"Failed to capture image: {{message}}",errorLoad:"Failed to load image: {{message}}",zoomAriaLabel:"Zoom camera",galleryAriaLabel:"Import from gallery",captureAriaLabel:"Capture and process image",processingAriaLabel:"Processing image",flashOffAriaLabel:"Turn on flash",flashOnAriaLabel:"Turn off flash"},notifications:{offlineModelInitSuccess:"Offline model {{modelIdentifier}} initialized successfully.",offlineModelInitFailed:"Failed to load offline model.",translationFailed:"Translation Failed: {{errorMessage}}",speechError:"Speech synthesis error: {{error}}",speechRecognitionError:"Speech recognition error: {{error}}",mediaRecorderUnsupported:"MediaRecorder API is not supported in this browser.",processingAudio:"[Processing audio...]",noAudioRecorded:"No audio was recorded.",transcriptionFailed:"Transcription Failed: {{errorMessage}}",micPermissionError:"Could not start recording. Please grant microphone permissions.",offlineModelNotReadyRecording:"Offline model is not ready for recording.",offlineSRError:"You are offline. Cannot use online speech recognition.",astFailed:"AST Failed: {{errorMessage}}",astSelectLanguage:"Please select a source language before using speech translation.",astOfflineModelNotReady:"Offline model is not ready for speech translation.",astOfflineError:"You are offline. Cannot use online speech translation.",processingImage:"[Processing image...]",offlineImageError:"Offline model is not ready for image processing.",noTextInImage:"No text found in the image.",offlineImageTranslateError:"You are offline. Cannot use online image translation.",imageProcessingFailed:"Image Processing Failed: {{errorMessage}}"},common:{status:{not_started:"Not Started",downloading:"Downloading",paused:"Paused",completed:"Completed",error:"Error",consolidating:"Consolidating...",initializing:"Initializing..."}}}},"zh-TW":{translation:{languages:{autoDetect:"",english:"",chineseTraditional:"",chineseTraditionalHK:" ()",chineseSimplified:"",spanish:"",japanese:"",french:"",german:"",korean:"",russian:"",portuguese:"",italian:""},translationInput:{online:"",offline:"",cameraAriaLabel:"",settingsAriaLabel:"",placeholderListening:"...",placeholderEnterText:"",clearText:"",countdownPrefix:"0:",recordingStop:"",recordingStart:"",cancelTranslation:"",translateOffline:"",translate:""},translationOutput:{modeOnline:" ({{provider}})",modeOfflineInitializing:" ({{modelName}}) - ...",modeOfflineReady:" ({{modelName}})",modeOfflineNotReady:" ({{modelName}}) - ",modeOfflineNoModel:" - ",flipScreenAriaLabel:"",copyAriaLabel:"",historyAriaLabel:"",clearAriaLabel:"",placeholder:"",speakStop:"",speakCustomVoice:"",speakFemale:"",speakMale:"",astStop:"",astStart:"",astTitle:""},settings:{title:"",closeAriaLabel:"",tabOnline:"",tabOffline:"",tabTts:" TTS",tabOfflineParams:"",providerLabel:"",providerGemini:"Gemini",providerOpenAI:"OpenAI",openaiUrlLabel:"OpenAI API URL",openaiUrlPlaceholder:"https://api.openai.com",apiKeyLabel:"API ",apiKeyPlaceholder:" Gemini  OpenAI API ",modelNameLabel:"",modelNameGeminiPlaceholder:"gemini-2.5-flash",modelNameOpenAIPlaceholder:"gpt-4o",hfApiKeyLabel:"Hugging Face API ",hfApiKeyPlaceholder:"",hfApiKeyDescription:" Hugging Face ",manageModelsLabel:"",download:"",pause:"",resume:"",retry:"",deleteModelAriaLabel:" {{modelName}}",statusInitializing:"...",statusError:"{{error}}",enableOfflineLabel:"",enableOfflineDescription:"",enableTwoStepLabel:"  ",enableTwoStepDescription:"",enableCustomTtsLabel:" TTS",enableCustomTtsDescription:"",voiceLabel:"",voicePlaceholder:" {{languageName}} ",rateLabel:"",pitchLabel:"",offlineParamsDescription:"",maxTokensLabel:" (Max Tokens)",topKLabel:"Top K",temperatureLabel:" (Temperature)",randomSeedLabel:" (Random Seed)",supportAudioLabel:" ()",supportAudioDescription:"",maxNumImagesLabel:" ()",maxNumImagesDescription:"",clearSettingsButton:"",saveSettingsButton:"",languageLabel:""},history:{title:"",closeAriaLabel:"",empty:"",selectAriaLabel:" {{sourceLang}}  {{targetLang}} ",clearAriaLabel:"",clearButton:""},camera:{title:"",closeAriaLabel:"",errorAccess:"",errorCapture:"{{message}}",errorLoad:"{{message}}",zoomAriaLabel:"",galleryAriaLabel:"",captureAriaLabel:"",processingAriaLabel:"",flashOffAriaLabel:"",flashOnAriaLabel:""},notifications:{offlineModelInitSuccess:" {{modelIdentifier}} ",offlineModelInitFailed:"",translationFailed:"{{errorMessage}}",speechError:"{{error}}",speechRecognitionError:"{{error}}",mediaRecorderUnsupported:" MediaRecorder API",processingAudio:"[...]",noAudioRecorded:"",transcriptionFailed:"{{errorMessage}}",micPermissionError:"",offlineModelNotReadyRecording:"",offlineSRError:"",astFailed:"{{errorMessage}}",astSelectLanguage:"",astOfflineModelNotReady:"",astOfflineError:"",processingImage:"[...]",offlineImageError:"",noTextInImage:"",offlineImageTranslateError:"",imageProcessingFailed:"{{errorMessage}}"},common:{status:{not_started:"",downloading:"",paused:"",completed:"",error:"",consolidating:"...",initializing:"..."}}}}};Ke.use(Kv).use(TC).init({resources:rM,fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});const $v=document.getElementById("root");if(!$v)throw new Error("Could not find root element to mount to");const uM=rC.createRoot($v);uM.render(S.jsx(cd.StrictMode,{children:S.jsx(cd.Suspense,{fallback:"Loading...",children:S.jsx(_N,{})})}));
