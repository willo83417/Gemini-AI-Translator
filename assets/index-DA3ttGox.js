var rS=Object.defineProperty;var uS=(t,e,n)=>e in t?rS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Tl=(t,e,n)=>uS(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Og(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pg={exports:{}},nr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cS=Symbol.for("react.transitional.element"),fS=Symbol.for("react.fragment");function Hg(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var o in e)o!=="key"&&(n[o]=e[o])}else n=e;return e=n.ref,{$$typeof:cS,type:t,key:i,ref:e!==void 0?e:null,props:n}}nr.Fragment=fS;nr.jsx=Hg;nr.jsxs=Hg;Pg.exports=nr;var S=Pg.exports,Gg={exports:{}},X={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bc=Symbol.for("react.transitional.element"),dS=Symbol.for("react.portal"),pS=Symbol.for("react.fragment"),hS=Symbol.for("react.strict_mode"),gS=Symbol.for("react.profiler"),mS=Symbol.for("react.consumer"),yS=Symbol.for("react.context"),vS=Symbol.for("react.forward_ref"),SS=Symbol.for("react.suspense"),TS=Symbol.for("react.memo"),Vg=Symbol.for("react.lazy"),ES=Symbol.for("react.activity"),od=Symbol.iterator;function CS(t){return t===null||typeof t!="object"?null:(t=od&&t[od]||t["@@iterator"],typeof t=="function"?t:null)}var zg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bg=Object.assign,qg={};function jo(t,e,n){this.props=t,this.context=e,this.refs=qg,this.updater=n||zg}jo.prototype.isReactComponent={};jo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};jo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Fg(){}Fg.prototype=jo.prototype;function qc(t,e,n){this.props=t,this.context=e,this.refs=qg,this.updater=n||zg}var Fc=qc.prototype=new Fg;Fc.constructor=qc;Bg(Fc,jo.prototype);Fc.isPureReactComponent=!0;var ld=Array.isArray;function Au(){}var Se={H:null,A:null,T:null,S:null},Jg=Object.prototype.hasOwnProperty;function Jc(t,e,n){var i=n.ref;return{$$typeof:Bc,type:t,key:e,ref:i!==void 0?i:null,props:n}}function AS(t,e){return Jc(t.type,e,t.props)}function Yc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bc}function _S(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sd=/\/+/g;function Lr(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_S(""+t.key):e.toString(36)}function xS(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Au,Au):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function go(t,e,n,i,o){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(l){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Bc:case dS:s=!0;break;case Vg:return s=t._init,go(s(t._payload),e,n,i,o)}}if(s)return o=o(t),s=i===""?"."+Lr(t,0):i,ld(o)?(n="",s!=null&&(n=s.replace(sd,"$&/")+"/"),go(o,e,n,"",function(f){return f})):o!=null&&(Yc(o)&&(o=AS(o,n+(o.key==null||t&&t.key===o.key?"":(""+o.key).replace(sd,"$&/")+"/")+s)),e.push(o)),1;s=0;var r=i===""?".":i+":";if(ld(t))for(var c=0;c<t.length;c++)i=t[c],l=r+Lr(i,c),s+=go(i,e,n,l,o);else if(c=CS(t),typeof c=="function")for(t=c.call(t),c=0;!(i=t.next()).done;)i=i.value,l=r+Lr(i,c++),s+=go(i,e,n,l,o);else if(l==="object"){if(typeof t.then=="function")return go(xS(t),e,n,i,o);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function Ns(t,e,n){if(t==null)return t;var i=[],o=0;return go(t,i,"","",function(l){return e.call(n,l,o++)}),i}function wS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ad=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},bS={map:Ns,forEach:function(t,e,n){Ns(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ns(t,function(){e++}),e},toArray:function(t){return Ns(t,function(e){return e})||[]},only:function(t){if(!Yc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Activity=ES;X.Children=bS;X.Component=jo;X.Fragment=pS;X.Profiler=gS;X.PureComponent=qc;X.StrictMode=hS;X.Suspense=SS;X.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Se;X.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Se.H.useMemoCache(t)}};X.cache=function(t){return function(){return t.apply(null,arguments)}};X.cacheSignal=function(){return null};X.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=Bg({},t.props),o=t.key;if(e!=null)for(l in e.key!==void 0&&(o=""+e.key),e)!Jg.call(e,l)||l==="key"||l==="__self"||l==="__source"||l==="ref"&&e.ref===void 0||(i[l]=e[l]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var s=Array(l),r=0;r<l;r++)s[r]=arguments[r+2];i.children=s}return Jc(t.type,o,i)};X.createContext=function(t){return t={$$typeof:yS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:mS,_context:t},t};X.createElement=function(t,e,n){var i,o={},l=null;if(e!=null)for(i in e.key!==void 0&&(l=""+e.key),e)Jg.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(o[i]=e[i]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var r=Array(s),c=0;c<s;c++)r[c]=arguments[c+2];o.children=r}if(t&&t.defaultProps)for(i in s=t.defaultProps,s)o[i]===void 0&&(o[i]=s[i]);return Jc(t,l,o)};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:vS,render:t}};X.isValidElement=Yc;X.lazy=function(t){return{$$typeof:Vg,_payload:{_status:-1,_result:t},_init:wS}};X.memo=function(t,e){return{$$typeof:TS,type:t,compare:e===void 0?null:e}};X.startTransition=function(t){var e=Se.T,n={};Se.T=n;try{var i=t(),o=Se.S;o!==null&&o(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Au,ad)}catch(l){ad(l)}finally{e!==null&&n.types!==null&&(e.types=n.types),Se.T=e}};X.unstable_useCacheRefresh=function(){return Se.H.useCacheRefresh()};X.use=function(t){return Se.H.use(t)};X.useActionState=function(t,e,n){return Se.H.useActionState(t,e,n)};X.useCallback=function(t,e){return Se.H.useCallback(t,e)};X.useContext=function(t){return Se.H.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t,e){return Se.H.useDeferredValue(t,e)};X.useEffect=function(t,e){return Se.H.useEffect(t,e)};X.useEffectEvent=function(t){return Se.H.useEffectEvent(t)};X.useId=function(){return Se.H.useId()};X.useImperativeHandle=function(t,e,n){return Se.H.useImperativeHandle(t,e,n)};X.useInsertionEffect=function(t,e){return Se.H.useInsertionEffect(t,e)};X.useLayoutEffect=function(t,e){return Se.H.useLayoutEffect(t,e)};X.useMemo=function(t,e){return Se.H.useMemo(t,e)};X.useOptimistic=function(t,e){return Se.H.useOptimistic(t,e)};X.useReducer=function(t,e,n){return Se.H.useReducer(t,e,n)};X.useRef=function(t){return Se.H.useRef(t)};X.useState=function(t){return Se.H.useState(t)};X.useSyncExternalStore=function(t,e,n){return Se.H.useSyncExternalStore(t,e,n)};X.useTransition=function(){return Se.H.useTransition()};X.version="19.2.3";Gg.exports=X;var w=Gg.exports;const rd=Og(w);var Yg={exports:{}},ir={},Kg={exports:{}},$g={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,V){var k=I.length;I.push(V);e:for(;0<k;){var W=k-1>>>1,ne=I[W];if(0<o(ne,V))I[W]=V,I[k]=ne,k=W;else break e}}function n(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var V=I[0],k=I.pop();if(k!==V){I[0]=k;e:for(var W=0,ne=I.length,ke=ne>>>1;W<ke;){var st=2*(W+1)-1,On=I[st],we=st+1,un=I[we];if(0>o(On,k))we<ne&&0>o(un,On)?(I[W]=un,I[we]=k,W=we):(I[W]=On,I[st]=k,W=st);else if(we<ne&&0>o(un,k))I[W]=un,I[we]=k,W=we;else break e}}return V}function o(I,V){var k=I.sortIndex-V.sortIndex;return k!==0?k:I.id-V.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var s=Date,r=s.now();t.unstable_now=function(){return s.now()-r}}var c=[],f=[],d=1,h=null,p=3,g=!1,v=!1,E=!1,A=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function C(I){for(var V=n(f);V!==null;){if(V.callback===null)i(f);else if(V.startTime<=I)i(f),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(f)}}function x(I){if(E=!1,C(I),!v)if(n(c)!==null)v=!0,M||(M=!0,se());else{var V=n(f);V!==null&&J(x,V.startTime-I)}}var M=!1,_=-1,N=5,b=-1;function L(){return A?!0:!(t.unstable_now()-b<N)}function z(){if(A=!1,M){var I=t.unstable_now();b=I;var V=!0;try{e:{v=!1,E&&(E=!1,m(_),_=-1),g=!0;var k=p;try{t:{for(C(I),h=n(c);h!==null&&!(h.expirationTime>I&&L());){var W=h.callback;if(typeof W=="function"){h.callback=null,p=h.priorityLevel;var ne=W(h.expirationTime<=I);if(I=t.unstable_now(),typeof ne=="function"){h.callback=ne,C(I),V=!0;break t}h===n(c)&&i(c),C(I)}else i(c);h=n(c)}if(h!==null)V=!0;else{var ke=n(f);ke!==null&&J(x,ke.startTime-I),V=!1}}break e}finally{h=null,p=k,g=!1}V=void 0}}finally{V?se():M=!1}}}var se;if(typeof T=="function")se=function(){T(z)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,ae=O.port2;O.port1.onmessage=z,se=function(){ae.postMessage(null)}}else se=function(){y(z,0)};function J(I,V){_=y(function(){I(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(I){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var k=p;p=V;try{return I()}finally{p=k}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(I,V){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var k=p;p=I;try{return V()}finally{p=k}},t.unstable_scheduleCallback=function(I,V,k){var W=t.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?W+k:W):k=W,I){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=k+ne,I={id:d++,callback:V,priorityLevel:I,startTime:k,expirationTime:ne,sortIndex:-1},k>W?(I.sortIndex=k,e(f,I),n(c)===null&&I===n(f)&&(E?(m(_),_=-1):E=!0,J(x,k-W))):(I.sortIndex=ne,e(c,I),v||g||(v=!0,M||(M=!0,se()))),I},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(I){var V=p;return function(){var k=p;p=V;try{return I.apply(this,arguments)}finally{p=k}}}})($g);Kg.exports=$g;var RS=Kg.exports,Xg={exports:{}},lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NS=w;function Qg(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Fn(){}var it={d:{f:Fn,r:function(){throw Error(Qg(522))},D:Fn,C:Fn,L:Fn,m:Fn,X:Fn,S:Fn,M:Fn},p:0,findDOMNode:null},MS=Symbol.for("react.portal");function IS(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:MS,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var Pl=NS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function or(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=it;lt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(Qg(299));return IS(t,e,null,n)};lt.flushSync=function(t){var e=Pl.T,n=it.p;try{if(Pl.T=null,it.p=2,t)return t()}finally{Pl.T=e,it.p=n,it.d.f()}};lt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,it.d.C(t,e))};lt.prefetchDNS=function(t){typeof t=="string"&&it.d.D(t)};lt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=or(n,e.crossOrigin),o=typeof e.integrity=="string"?e.integrity:void 0,l=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?it.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:o,fetchPriority:l}):n==="script"&&it.d.X(t,{crossOrigin:i,integrity:o,fetchPriority:l,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};lt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=or(e.as,e.crossOrigin);it.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&it.d.M(t)};lt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=or(n,e.crossOrigin);it.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};lt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=or(e.as,e.crossOrigin);it.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else it.d.m(t)};lt.requestFormReset=function(t){it.d.r(t)};lt.unstable_batchedUpdates=function(t,e){return t(e)};lt.useFormState=function(t,e,n){return Pl.H.useFormState(t,e,n)};lt.useFormStatus=function(){return Pl.H.useHostTransitionStatus()};lt.version="19.2.3";function Zg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zg)}catch(t){console.error(t)}}Zg(),Xg.exports=lt;var DS=Xg.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var He=RS,Wg=w,LS=DS;function R(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function jg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ps(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function em(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tm(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ud(t){if(ps(t)!==t)throw Error(R(188))}function US(t){var e=t.alternate;if(!e){if(e=ps(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,i=e;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return ud(o),t;if(l===i)return ud(o),e;l=l.sibling}throw Error(R(188))}if(n.return!==i.return)n=o,i=l;else{for(var s=!1,r=o.child;r;){if(r===n){s=!0,n=o,i=l;break}if(r===i){s=!0,i=o,n=l;break}r=r.sibling}if(!s){for(r=l.child;r;){if(r===n){s=!0,n=l,i=o;break}if(r===i){s=!0,i=l,n=o;break}r=r.sibling}if(!s)throw Error(R(189))}}if(n.alternate!==i)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function nm(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=nm(t),e!==null)return e;t=t.sibling}return null}var Te=Object.assign,kS=Symbol.for("react.element"),Ms=Symbol.for("react.transitional.element"),Il=Symbol.for("react.portal"),So=Symbol.for("react.fragment"),im=Symbol.for("react.strict_mode"),_u=Symbol.for("react.profiler"),om=Symbol.for("react.consumer"),En=Symbol.for("react.context"),Kc=Symbol.for("react.forward_ref"),xu=Symbol.for("react.suspense"),wu=Symbol.for("react.suspense_list"),$c=Symbol.for("react.memo"),Jn=Symbol.for("react.lazy"),bu=Symbol.for("react.activity"),OS=Symbol.for("react.memo_cache_sentinel"),cd=Symbol.iterator;function El(t){return t===null||typeof t!="object"?null:(t=cd&&t[cd]||t["@@iterator"],typeof t=="function"?t:null)}var PS=Symbol.for("react.client.reference");function Ru(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===PS?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case So:return"Fragment";case _u:return"Profiler";case im:return"StrictMode";case xu:return"Suspense";case wu:return"SuspenseList";case bu:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Il:return"Portal";case En:return t.displayName||"Context";case om:return(t._context.displayName||"Context")+".Consumer";case Kc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $c:return e=t.displayName||null,e!==null?e:Ru(t.type)||"Memo";case Jn:e=t._payload,t=t._init;try{return Ru(t(e))}catch{}}return null}var Dl=Array.isArray,F=Wg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=LS.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ui={pending:!1,data:null,method:null,action:null},Nu=[],To=-1;function an(t){return{current:t}}function ze(t){0>To||(t.current=Nu[To],Nu[To]=null,To--)}function me(t,e){To++,Nu[To]=t.current,t.current=e}var sn=an(null),Wl=an(null),ni=an(null),ga=an(null);function ma(t,e){switch(me(ni,e),me(Wl,t),me(sn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?mp(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=mp(e),t=_0(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ze(sn),me(sn,t)}function Bo(){ze(sn),ze(Wl),ze(ni)}function Mu(t){t.memoizedState!==null&&me(ga,t);var e=sn.current,n=_0(e,t.type);e!==n&&(me(Wl,t),me(sn,n))}function ya(t){Wl.current===t&&(ze(sn),ze(Wl)),ga.current===t&&(ze(ga),us._currentValue=Ui)}var Ur,fd;function Ni(t){if(Ur===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ur=e&&e[1]||"",fd=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ur+t+fd}var kr=!1;function Or(t,e){if(!t||kr)return"";kr=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(g){var p=g}Reflect.construct(t,[],h)}else{try{h.call()}catch(g){p=g}t.call(h.prototype)}}else{try{throw Error()}catch(g){p=g}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(g){if(g&&p&&typeof g.stack=="string")return[g.stack,p.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=i.DetermineComponentFrameRoot(),s=l[0],r=l[1];if(s&&r){var c=s.split(`
`),f=r.split(`
`);for(o=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;o<f.length&&!f[o].includes("DetermineComponentFrameRoot");)o++;if(i===c.length||o===f.length)for(i=c.length-1,o=f.length-1;1<=i&&0<=o&&c[i]!==f[o];)o--;for(;1<=i&&0<=o;i--,o--)if(c[i]!==f[o]){if(i!==1||o!==1)do if(i--,o--,0>o||c[i]!==f[o]){var d=`
`+c[i].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=i&&0<=o);break}}}finally{kr=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ni(n):""}function HS(t,e){switch(t.tag){case 26:case 27:case 5:return Ni(t.type);case 16:return Ni("Lazy");case 13:return t.child!==e&&e!==null?Ni("Suspense Fallback"):Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 15:return Or(t.type,!1);case 11:return Or(t.type.render,!1);case 1:return Or(t.type,!0);case 31:return Ni("Activity");default:return""}}function dd(t){try{var e="",n=null;do e+=HS(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Iu=Object.prototype.hasOwnProperty,Xc=He.unstable_scheduleCallback,Pr=He.unstable_cancelCallback,GS=He.unstable_shouldYield,VS=He.unstable_requestPaint,St=He.unstable_now,zS=He.unstable_getCurrentPriorityLevel,lm=He.unstable_ImmediatePriority,sm=He.unstable_UserBlockingPriority,va=He.unstable_NormalPriority,BS=He.unstable_LowPriority,am=He.unstable_IdlePriority,qS=He.log,FS=He.unstable_setDisableYieldValue,hs=null,Tt=null;function Zn(t){if(typeof qS=="function"&&FS(t),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(hs,t)}catch{}}var Et=Math.clz32?Math.clz32:KS,JS=Math.log,YS=Math.LN2;function KS(t){return t>>>=0,t===0?32:31-(JS(t)/YS|0)|0}var Is=256,Ds=262144,Ls=4194304;function Mi(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function lr(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var o=0,l=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var r=i&134217727;return r!==0?(i=r&~l,i!==0?o=Mi(i):(s&=r,s!==0?o=Mi(s):n||(n=r&~t,n!==0&&(o=Mi(n))))):(r=i&~l,r!==0?o=Mi(r):s!==0?o=Mi(s):n||(n=i&~t,n!==0&&(o=Mi(n)))),o===0?0:e!==0&&e!==o&&!(e&l)&&(l=o&-o,n=e&-e,l>=n||l===32&&(n&4194048)!==0)?e:o}function gs(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function $S(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rm(){var t=Ls;return Ls<<=1,!(Ls&62914560)&&(Ls=4194304),t}function Hr(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ms(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function XS(t,e,n,i,o,l){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var r=t.entanglements,c=t.expirationTimes,f=t.hiddenUpdates;for(n=s&~n;0<n;){var d=31-Et(n),h=1<<d;r[d]=0,c[d]=-1;var p=f[d];if(p!==null)for(f[d]=null,d=0;d<p.length;d++){var g=p[d];g!==null&&(g.lane&=-536870913)}n&=~h}i!==0&&um(t,i,0),l!==0&&o===0&&t.tag!==0&&(t.suspendedLanes|=l&~(s&~e))}function um(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-Et(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function cm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Et(n),o=1<<i;o&e|t[i]&e&&(t[i]|=e),n&=~o}}function fm(t,e){var n=e&-e;return n=n&42?1:Qc(n),n&(t.suspendedLanes|e)?0:n}function Qc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Zc(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function dm(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:k0(t.type))}function pd(t,e){var n=ue.p;try{return ue.p=t,e()}finally{ue.p=n}}var gi=Math.random().toString(36).slice(2),Je="__reactFiber$"+gi,dt="__reactProps$"+gi,el="__reactContainer$"+gi,Du="__reactEvents$"+gi,QS="__reactListeners$"+gi,ZS="__reactHandles$"+gi,hd="__reactResources$"+gi,ys="__reactMarker$"+gi;function Wc(t){delete t[Je],delete t[dt],delete t[Du],delete t[QS],delete t[ZS]}function Eo(t){var e=t[Je];if(e)return e;for(var n=t.parentNode;n;){if(e=n[el]||n[Je]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ep(t);t!==null;){if(n=t[Je])return n;t=Ep(t)}return e}t=n,n=t.parentNode}return null}function tl(t){if(t=t[Je]||t[el]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Ll(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(R(33))}function Lo(t){var e=t[hd];return e||(e=t[hd]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Ve(t){t[ys]=!0}var pm=new Set,hm={};function Yi(t,e){qo(t,e),qo(t+"Capture",e)}function qo(t,e){for(hm[t]=e,t=0;t<e.length;t++)pm.add(e[t])}var WS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gd={},md={};function jS(t){return Iu.call(md,t)?!0:Iu.call(gd,t)?!1:WS.test(t)?md[t]=!0:(gd[t]=!0,!1)}function Ws(t,e,n){if(jS(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Us(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function hn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function Nt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eT(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,l=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){n=""+s,l.call(this,s)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Lu(t){if(!t._valueTracker){var e=gm(t)?"checked":"value";t._valueTracker=eT(t,e,""+t[e])}}function mm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=gm(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Sa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var tT=/[\n"\\]/g;function Dt(t){return t.replace(tT,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Uu(t,e,n,i,o,l,s,r){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Nt(e)):t.value!==""+Nt(e)&&(t.value=""+Nt(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?ku(t,s,Nt(e)):n!=null?ku(t,s,Nt(n)):i!=null&&t.removeAttribute("value"),o==null&&l!=null&&(t.defaultChecked=!!l),o!=null&&(t.checked=o&&typeof o!="function"&&typeof o!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.name=""+Nt(r):t.removeAttribute("name")}function ym(t,e,n,i,o,l,s,r){if(l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(t.type=l),e!=null||n!=null){if(!(l!=="submit"&&l!=="reset"||e!=null)){Lu(t);return}n=n!=null?""+Nt(n):"",e=e!=null?""+Nt(e):n,r||e===t.value||(t.value=e),t.defaultValue=e}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=r?t.checked:!!i,t.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s),Lu(t)}function ku(t,e,n){e==="number"&&Sa(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Uo(t,e,n,i){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Nt(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,i&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function vm(t,e,n){if(e!=null&&(e=""+Nt(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Nt(n):""}function Sm(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(R(92));if(Dl(i)){if(1<i.length)throw Error(R(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=Nt(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),Lu(t)}function Fo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yd(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||nT.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Tm(t,e,n){if(e!=null&&typeof e!="object")throw Error(R(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var o in e)i=e[o],e.hasOwnProperty(o)&&n[o]!==i&&yd(t,o,i)}else for(var l in e)e.hasOwnProperty(l)&&yd(t,l,e[l])}function jc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function js(t){return oT.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Cn(){}var Ou=null;function ef(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Co=null,ko=null;function vd(t){var e=tl(t);if(e&&(t=e.stateNode)){var n=t[dt]||null;e:switch(t=e.stateNode,e.type){case"input":if(Uu(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Dt(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var o=i[dt]||null;if(!o)throw Error(R(90));Uu(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&mm(i)}break e;case"textarea":vm(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Uo(t,!!n.multiple,e,!1)}}}var Gr=!1;function Em(t,e,n){if(Gr)return t(e,n);Gr=!0;try{var i=t(e);return i}finally{if(Gr=!1,(Co!==null||ko!==null)&&(yr(),Co&&(e=Co,t=ko,ko=Co=null,vd(e),t)))for(e=0;e<t.length;e++)vd(t[e])}}function jl(t,e){var n=t.stateNode;if(n===null)return null;var i=n[dt]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pu=!1;if(bn)try{var Cl={};Object.defineProperty(Cl,"passive",{get:function(){Pu=!0}}),window.addEventListener("test",Cl,Cl),window.removeEventListener("test",Cl,Cl)}catch{Pu=!1}var Wn=null,tf=null,ea=null;function Cm(){if(ea)return ea;var t,e=tf,n=e.length,i,o="value"in Wn?Wn.value:Wn.textContent,l=o.length;for(t=0;t<n&&e[t]===o[t];t++);var s=n-t;for(i=1;i<=s&&e[n-i]===o[l-i];i++);return ea=o.slice(t,1<i?1-i:void 0)}function ta(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ks(){return!0}function Sd(){return!1}function pt(t){function e(n,i,o,l,s){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=l,this.target=s,this.currentTarget=null;for(var r in t)t.hasOwnProperty(r)&&(n=t[r],this[r]=n?n(l):l[r]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ks:Sd,this.isPropagationStopped=Sd,this}return Te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ks)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ks)},persist:function(){},isPersistent:ks}),e}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sr=pt(Ki),vs=Te({},Ki,{view:0,detail:0}),lT=pt(vs),Vr,zr,Al,ar=Te({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Al&&(Al&&t.type==="mousemove"?(Vr=t.screenX-Al.screenX,zr=t.screenY-Al.screenY):zr=Vr=0,Al=t),Vr)},movementY:function(t){return"movementY"in t?t.movementY:zr}}),Td=pt(ar),sT=Te({},ar,{dataTransfer:0}),aT=pt(sT),rT=Te({},vs,{relatedTarget:0}),Br=pt(rT),uT=Te({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),cT=pt(uT),fT=Te({},Ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dT=pt(fT),pT=Te({},Ki,{data:0}),Ed=pt(pT),hT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mT[t])?!!e[t]:!1}function nf(){return yT}var vT=Te({},vs,{key:function(t){if(t.key){var e=hT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ta(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nf,charCode:function(t){return t.type==="keypress"?ta(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ta(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ST=pt(vT),TT=Te({},ar,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cd=pt(TT),ET=Te({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nf}),CT=pt(ET),AT=Te({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),_T=pt(AT),xT=Te({},ar,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wT=pt(xT),bT=Te({},Ki,{newState:0,oldState:0}),RT=pt(bT),NT=[9,13,27,32],of=bn&&"CompositionEvent"in window,Hl=null;bn&&"documentMode"in document&&(Hl=document.documentMode);var MT=bn&&"TextEvent"in window&&!Hl,Am=bn&&(!of||Hl&&8<Hl&&11>=Hl),Ad=" ",_d=!1;function _m(t,e){switch(t){case"keyup":return NT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ao=!1;function IT(t,e){switch(t){case"compositionend":return xm(e);case"keypress":return e.which!==32?null:(_d=!0,Ad);case"textInput":return t=e.data,t===Ad&&_d?null:t;default:return null}}function DT(t,e){if(Ao)return t==="compositionend"||!of&&_m(t,e)?(t=Cm(),ea=tf=Wn=null,Ao=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Am&&e.locale!=="ko"?null:e.data;default:return null}}var LT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LT[t.type]:e==="textarea"}function wm(t,e,n,i){Co?ko?ko.push(i):ko=[i]:Co=i,e=Pa(e,"onChange"),0<e.length&&(n=new sr("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Gl=null,es=null;function UT(t){E0(t,0)}function rr(t){var e=Ll(t);if(mm(e))return t}function wd(t,e){if(t==="change")return e}var bm=!1;if(bn){var qr;if(bn){var Fr="oninput"in document;if(!Fr){var bd=document.createElement("div");bd.setAttribute("oninput","return;"),Fr=typeof bd.oninput=="function"}qr=Fr}else qr=!1;bm=qr&&(!document.documentMode||9<document.documentMode)}function Rd(){Gl&&(Gl.detachEvent("onpropertychange",Rm),es=Gl=null)}function Rm(t){if(t.propertyName==="value"&&rr(es)){var e=[];wm(e,es,t,ef(t)),Em(UT,e)}}function kT(t,e,n){t==="focusin"?(Rd(),Gl=e,es=n,Gl.attachEvent("onpropertychange",Rm)):t==="focusout"&&Rd()}function OT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rr(es)}function PT(t,e){if(t==="click")return rr(e)}function HT(t,e){if(t==="input"||t==="change")return rr(e)}function GT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var At=typeof Object.is=="function"?Object.is:GT;function ts(t,e){if(At(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!Iu.call(e,o)||!At(t[o],e[o]))return!1}return!0}function Nd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Md(t,e){var n=Nd(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nd(n)}}function Nm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Nm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Mm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Sa(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Sa(t.document)}return e}function lf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var VT=bn&&"documentMode"in document&&11>=document.documentMode,_o=null,Hu=null,Vl=null,Gu=!1;function Id(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gu||_o==null||_o!==Sa(i)||(i=_o,"selectionStart"in i&&lf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Vl&&ts(Vl,i)||(Vl=i,i=Pa(Hu,"onSelect"),0<i.length&&(e=new sr("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=_o)))}function Ri(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xo={animationend:Ri("Animation","AnimationEnd"),animationiteration:Ri("Animation","AnimationIteration"),animationstart:Ri("Animation","AnimationStart"),transitionrun:Ri("Transition","TransitionRun"),transitionstart:Ri("Transition","TransitionStart"),transitioncancel:Ri("Transition","TransitionCancel"),transitionend:Ri("Transition","TransitionEnd")},Jr={},Im={};bn&&(Im=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function $i(t){if(Jr[t])return Jr[t];if(!xo[t])return t;var e=xo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Im)return Jr[t]=e[n];return t}var Dm=$i("animationend"),Lm=$i("animationiteration"),Um=$i("animationstart"),zT=$i("transitionrun"),BT=$i("transitionstart"),qT=$i("transitioncancel"),km=$i("transitionend"),Om=new Map,Vu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vu.push("scrollEnd");function Kt(t,e){Om.set(t,e),Yi(e,[t])}var Ta=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Rt=[],wo=0,sf=0;function ur(){for(var t=wo,e=sf=wo=0;e<t;){var n=Rt[e];Rt[e++]=null;var i=Rt[e];Rt[e++]=null;var o=Rt[e];Rt[e++]=null;var l=Rt[e];if(Rt[e++]=null,i!==null&&o!==null){var s=i.pending;s===null?o.next=o:(o.next=s.next,s.next=o),i.pending=o}l!==0&&Pm(n,o,l)}}function cr(t,e,n,i){Rt[wo++]=t,Rt[wo++]=e,Rt[wo++]=n,Rt[wo++]=i,sf|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function af(t,e,n,i){return cr(t,e,n,i),Ea(t)}function Xi(t,e){return cr(t,null,null,e),Ea(t)}function Pm(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var o=!1,l=t.return;l!==null;)l.childLanes|=n,i=l.alternate,i!==null&&(i.childLanes|=n),l.tag===22&&(t=l.stateNode,t===null||t._visibility&1||(o=!0)),t=l,l=l.return;return t.tag===3?(l=t.stateNode,o&&e!==null&&(o=31-Et(n),t=l.hiddenUpdates,i=t[o],i===null?t[o]=[e]:i.push(e),e.lane=n|536870912),l):null}function Ea(t){if(50<Xl)throw Xl=0,ac=null,Error(R(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var bo={};function FT(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(t,e,n,i){return new FT(t,e,n,i)}function rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _n(t,e){var n=t.alternate;return n===null?(n=yt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Hm(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function na(t,e,n,i,o,l){var s=0;if(i=t,typeof t=="function")rf(t)&&(s=1);else if(typeof t=="string")s=XE(t,n,sn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case bu:return t=yt(31,n,e,o),t.elementType=bu,t.lanes=l,t;case So:return ki(n.children,o,l,e);case im:s=8,o|=24;break;case _u:return t=yt(12,n,e,o|2),t.elementType=_u,t.lanes=l,t;case xu:return t=yt(13,n,e,o),t.elementType=xu,t.lanes=l,t;case wu:return t=yt(19,n,e,o),t.elementType=wu,t.lanes=l,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case En:s=10;break e;case om:s=9;break e;case Kc:s=11;break e;case $c:s=14;break e;case Jn:s=16,i=null;break e}s=29,n=Error(R(130,t===null?"null":typeof t,"")),i=null}return e=yt(s,n,e,o),e.elementType=t,e.type=i,e.lanes=l,e}function ki(t,e,n,i){return t=yt(7,t,i,e),t.lanes=n,t}function Yr(t,e,n){return t=yt(6,t,null,e),t.lanes=n,t}function Gm(t){var e=yt(18,null,null,0);return e.stateNode=t,e}function Kr(t,e,n){return e=yt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Dd=new WeakMap;function Lt(t,e){if(typeof t=="object"&&t!==null){var n=Dd.get(t);return n!==void 0?n:(e={value:t,source:e,stack:dd(e)},Dd.set(t,e),e)}return{value:t,source:e,stack:dd(e)}}var Ro=[],No=0,Ca=null,ns=0,Mt=[],It=0,fi=null,tn=1,nn="";function Sn(t,e){Ro[No++]=ns,Ro[No++]=Ca,Ca=t,ns=e}function Vm(t,e,n){Mt[It++]=tn,Mt[It++]=nn,Mt[It++]=fi,fi=t;var i=tn;t=nn;var o=32-Et(i)-1;i&=~(1<<o),n+=1;var l=32-Et(e)+o;if(30<l){var s=o-o%5;l=(i&(1<<s)-1).toString(32),i>>=s,o-=s,tn=1<<32-Et(e)+o|n<<o|i,nn=l+t}else tn=1<<l|n<<o|i,nn=t}function uf(t){t.return!==null&&(Sn(t,1),Vm(t,1,0))}function cf(t){for(;t===Ca;)Ca=Ro[--No],Ro[No]=null,ns=Ro[--No],Ro[No]=null;for(;t===fi;)fi=Mt[--It],Mt[It]=null,nn=Mt[--It],Mt[It]=null,tn=Mt[--It],Mt[It]=null}function zm(t,e){Mt[It++]=tn,Mt[It++]=nn,Mt[It++]=fi,tn=e.id,nn=e.overflow,fi=t}var Ye=null,ve=null,ie=!1,ii=null,Ut=!1,zu=Error(R(519));function di(t){var e=Error(R(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw is(Lt(e,t)),zu}function Ld(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Je]=t,e[dt]=i,n){case"dialog":j("cancel",e),j("close",e);break;case"iframe":case"object":case"embed":j("load",e);break;case"video":case"audio":for(n=0;n<as.length;n++)j(as[n],e);break;case"source":j("error",e);break;case"img":case"image":case"link":j("error",e),j("load",e);break;case"details":j("toggle",e);break;case"input":j("invalid",e),ym(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":j("invalid",e);break;case"textarea":j("invalid",e),Sm(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||A0(e.textContent,n)?(i.popover!=null&&(j("beforetoggle",e),j("toggle",e)),i.onScroll!=null&&j("scroll",e),i.onScrollEnd!=null&&j("scrollend",e),i.onClick!=null&&(e.onclick=Cn),e=!0):e=!1,e||di(t,!0)}function Ud(t){for(Ye=t.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:Ut=!1;return;case 27:case 3:Ut=!0;return;default:Ye=Ye.return}}function ao(t){if(t!==Ye)return!1;if(!ie)return Ud(t),ie=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||dc(t.type,t.memoizedProps)),n=!n),n&&ve&&di(t),Ud(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));ve=Tp(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));ve=Tp(t)}else e===27?(e=ve,mi(t.type)?(t=mc,mc=null,ve=t):ve=e):ve=Ye?Ot(t.stateNode.nextSibling):null;return!0}function zi(){ve=Ye=null,ie=!1}function $r(){var t=ii;return t!==null&&(ct===null?ct=t:ct.push.apply(ct,t),ii=null),t}function is(t){ii===null?ii=[t]:ii.push(t)}var Bu=an(null),Qi=null,An=null;function Kn(t,e,n){me(Bu,e._currentValue),e._currentValue=n}function xn(t){t._currentValue=Bu.current,ze(Bu)}function qu(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Fu(t,e,n,i){var o=t.child;for(o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){var s=o.child;l=l.firstContext;e:for(;l!==null;){var r=l;l=o;for(var c=0;c<e.length;c++)if(r.context===e[c]){l.lanes|=n,r=l.alternate,r!==null&&(r.lanes|=n),qu(l.return,n,t),i||(s=null);break e}l=r.next}}else if(o.tag===18){if(s=o.return,s===null)throw Error(R(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),qu(s,n,t),s=null}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}}function nl(t,e,n,i){t=null;for(var o=e,l=!1;o!==null;){if(!l){if(o.flags&524288)l=!0;else if(o.flags&262144)break}if(o.tag===10){var s=o.alternate;if(s===null)throw Error(R(387));if(s=s.memoizedProps,s!==null){var r=o.type;At(o.pendingProps.value,s.value)||(t!==null?t.push(r):t=[r])}}else if(o===ga.current){if(s=o.alternate,s===null)throw Error(R(387));s.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(t!==null?t.push(us):t=[us])}o=o.return}t!==null&&Fu(e,t,n,i),e.flags|=262144}function Aa(t){for(t=t.firstContext;t!==null;){if(!At(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Bi(t){Qi=t,An=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ke(t){return Bm(Qi,t)}function Os(t,e){return Qi===null&&Bi(t),Bm(t,e)}function Bm(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},An===null){if(t===null)throw Error(R(308));An=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else An=An.next=e;return n}var JT=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},YT=He.unstable_scheduleCallback,KT=He.unstable_NormalPriority,Le={$$typeof:En,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ff(){return{controller:new JT,data:new Map,refCount:0}}function Ss(t){t.refCount--,t.refCount===0&&YT(KT,function(){t.controller.abort()})}var zl=null,Ju=0,Jo=0,Oo=null;function $T(t,e){if(zl===null){var n=zl=[];Ju=0,Jo=Of(),Oo={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Ju++,e.then(kd,kd),e}function kd(){if(--Ju===0&&zl!==null){Oo!==null&&(Oo.status="fulfilled");var t=zl;zl=null,Jo=0,Oo=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function XT(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var o=0;o<n.length;o++)(0,n[o])(e)},function(o){for(i.status="rejected",i.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),i}var Od=F.S;F.S=function(t,e){n0=St(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&$T(t,e),Od!==null&&Od(t,e)};var Oi=an(null);function df(){var t=Oi.current;return t!==null?t:ge.pooledCache}function ia(t,e){e===null?me(Oi,Oi.current):me(Oi,e.pool)}function qm(){var t=df();return t===null?null:{parent:Le._currentValue,pool:t}}var il=Error(R(460)),pf=Error(R(474)),fr=Error(R(542)),_a={then:function(){}};function Pd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fm(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Cn,Cn),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Gd(t),t;default:if(typeof e.status=="string")e.then(Cn,Cn);else{if(t=ge,t!==null&&100<t.shellSuspendCounter)throw Error(R(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var o=e;o.status="fulfilled",o.value=i}},function(i){if(e.status==="pending"){var o=e;o.status="rejected",o.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Gd(t),t}throw Pi=e,il}}function Ii(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Pi=n,il):n}}var Pi=null;function Hd(){if(Pi===null)throw Error(R(459));var t=Pi;return Pi=null,t}function Gd(t){if(t===il||t===fr)throw Error(R(483))}var Po=null,os=0;function Ps(t){var e=os;return os+=1,Po===null&&(Po=[]),Fm(Po,t,e)}function _l(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Hs(t,e){throw e.$$typeof===kS?Error(R(525)):(t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Jm(t){function e(y,m){if(t){var T=y.deletions;T===null?(y.deletions=[m],y.flags|=16):T.push(m)}}function n(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function i(y){for(var m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function o(y,m){return y=_n(y,m),y.index=0,y.sibling=null,y}function l(y,m,T){return y.index=T,t?(T=y.alternate,T!==null?(T=T.index,T<m?(y.flags|=67108866,m):T):(y.flags|=67108866,m)):(y.flags|=1048576,m)}function s(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function r(y,m,T,C){return m===null||m.tag!==6?(m=Yr(T,y.mode,C),m.return=y,m):(m=o(m,T),m.return=y,m)}function c(y,m,T,C){var x=T.type;return x===So?d(y,m,T.props.children,C,T.key):m!==null&&(m.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Jn&&Ii(x)===m.type)?(m=o(m,T.props),_l(m,T),m.return=y,m):(m=na(T.type,T.key,T.props,null,y.mode,C),_l(m,T),m.return=y,m)}function f(y,m,T,C){return m===null||m.tag!==4||m.stateNode.containerInfo!==T.containerInfo||m.stateNode.implementation!==T.implementation?(m=Kr(T,y.mode,C),m.return=y,m):(m=o(m,T.children||[]),m.return=y,m)}function d(y,m,T,C,x){return m===null||m.tag!==7?(m=ki(T,y.mode,C,x),m.return=y,m):(m=o(m,T),m.return=y,m)}function h(y,m,T){if(typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint")return m=Yr(""+m,y.mode,T),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ms:return T=na(m.type,m.key,m.props,null,y.mode,T),_l(T,m),T.return=y,T;case Il:return m=Kr(m,y.mode,T),m.return=y,m;case Jn:return m=Ii(m),h(y,m,T)}if(Dl(m)||El(m))return m=ki(m,y.mode,T,null),m.return=y,m;if(typeof m.then=="function")return h(y,Ps(m),T);if(m.$$typeof===En)return h(y,Os(y,m),T);Hs(y,m)}return null}function p(y,m,T,C){var x=m!==null?m.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return x!==null?null:r(y,m,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ms:return T.key===x?c(y,m,T,C):null;case Il:return T.key===x?f(y,m,T,C):null;case Jn:return T=Ii(T),p(y,m,T,C)}if(Dl(T)||El(T))return x!==null?null:d(y,m,T,C,null);if(typeof T.then=="function")return p(y,m,Ps(T),C);if(T.$$typeof===En)return p(y,m,Os(y,T),C);Hs(y,T)}return null}function g(y,m,T,C,x){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return y=y.get(T)||null,r(m,y,""+C,x);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ms:return y=y.get(C.key===null?T:C.key)||null,c(m,y,C,x);case Il:return y=y.get(C.key===null?T:C.key)||null,f(m,y,C,x);case Jn:return C=Ii(C),g(y,m,T,C,x)}if(Dl(C)||El(C))return y=y.get(T)||null,d(m,y,C,x,null);if(typeof C.then=="function")return g(y,m,T,Ps(C),x);if(C.$$typeof===En)return g(y,m,T,Os(m,C),x);Hs(m,C)}return null}function v(y,m,T,C){for(var x=null,M=null,_=m,N=m=0,b=null;_!==null&&N<T.length;N++){_.index>N?(b=_,_=null):b=_.sibling;var L=p(y,_,T[N],C);if(L===null){_===null&&(_=b);break}t&&_&&L.alternate===null&&e(y,_),m=l(L,m,N),M===null?x=L:M.sibling=L,M=L,_=b}if(N===T.length)return n(y,_),ie&&Sn(y,N),x;if(_===null){for(;N<T.length;N++)_=h(y,T[N],C),_!==null&&(m=l(_,m,N),M===null?x=_:M.sibling=_,M=_);return ie&&Sn(y,N),x}for(_=i(_);N<T.length;N++)b=g(_,y,N,T[N],C),b!==null&&(t&&b.alternate!==null&&_.delete(b.key===null?N:b.key),m=l(b,m,N),M===null?x=b:M.sibling=b,M=b);return t&&_.forEach(function(z){return e(y,z)}),ie&&Sn(y,N),x}function E(y,m,T,C){if(T==null)throw Error(R(151));for(var x=null,M=null,_=m,N=m=0,b=null,L=T.next();_!==null&&!L.done;N++,L=T.next()){_.index>N?(b=_,_=null):b=_.sibling;var z=p(y,_,L.value,C);if(z===null){_===null&&(_=b);break}t&&_&&z.alternate===null&&e(y,_),m=l(z,m,N),M===null?x=z:M.sibling=z,M=z,_=b}if(L.done)return n(y,_),ie&&Sn(y,N),x;if(_===null){for(;!L.done;N++,L=T.next())L=h(y,L.value,C),L!==null&&(m=l(L,m,N),M===null?x=L:M.sibling=L,M=L);return ie&&Sn(y,N),x}for(_=i(_);!L.done;N++,L=T.next())L=g(_,y,N,L.value,C),L!==null&&(t&&L.alternate!==null&&_.delete(L.key===null?N:L.key),m=l(L,m,N),M===null?x=L:M.sibling=L,M=L);return t&&_.forEach(function(se){return e(y,se)}),ie&&Sn(y,N),x}function A(y,m,T,C){if(typeof T=="object"&&T!==null&&T.type===So&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Ms:e:{for(var x=T.key;m!==null;){if(m.key===x){if(x=T.type,x===So){if(m.tag===7){n(y,m.sibling),C=o(m,T.props.children),C.return=y,y=C;break e}}else if(m.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Jn&&Ii(x)===m.type){n(y,m.sibling),C=o(m,T.props),_l(C,T),C.return=y,y=C;break e}n(y,m);break}else e(y,m);m=m.sibling}T.type===So?(C=ki(T.props.children,y.mode,C,T.key),C.return=y,y=C):(C=na(T.type,T.key,T.props,null,y.mode,C),_l(C,T),C.return=y,y=C)}return s(y);case Il:e:{for(x=T.key;m!==null;){if(m.key===x)if(m.tag===4&&m.stateNode.containerInfo===T.containerInfo&&m.stateNode.implementation===T.implementation){n(y,m.sibling),C=o(m,T.children||[]),C.return=y,y=C;break e}else{n(y,m);break}else e(y,m);m=m.sibling}C=Kr(T,y.mode,C),C.return=y,y=C}return s(y);case Jn:return T=Ii(T),A(y,m,T,C)}if(Dl(T))return v(y,m,T,C);if(El(T)){if(x=El(T),typeof x!="function")throw Error(R(150));return T=x.call(T),E(y,m,T,C)}if(typeof T.then=="function")return A(y,m,Ps(T),C);if(T.$$typeof===En)return A(y,m,Os(y,T),C);Hs(y,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,m!==null&&m.tag===6?(n(y,m.sibling),C=o(m,T),C.return=y,y=C):(n(y,m),C=Yr(T,y.mode,C),C.return=y,y=C),s(y)):n(y,m)}return function(y,m,T,C){try{os=0;var x=A(y,m,T,C);return Po=null,x}catch(_){if(_===il||_===fr)throw _;var M=yt(29,_,null,y.mode);return M.lanes=C,M.return=y,M}finally{}}}var qi=Jm(!0),Ym=Jm(!1),Yn=!1;function hf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yu(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function oi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function li(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,re&2){var o=i.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),i.pending=e,e=Ea(t),Pm(t,null,n),e}return cr(t,i,e,n),Ea(t)}function Bl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,cm(t,n)}}function Xr(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};l===null?o=l=s:l=l.next=s,n=n.next}while(n!==null);l===null?o=l=e:l=l.next=e}else o=l=e;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Ku=!1;function ql(){if(Ku){var t=Oo;if(t!==null)throw t}}function Fl(t,e,n,i){Ku=!1;var o=t.updateQueue;Yn=!1;var l=o.firstBaseUpdate,s=o.lastBaseUpdate,r=o.shared.pending;if(r!==null){o.shared.pending=null;var c=r,f=c.next;c.next=null,s===null?l=f:s.next=f,s=c;var d=t.alternate;d!==null&&(d=d.updateQueue,r=d.lastBaseUpdate,r!==s&&(r===null?d.firstBaseUpdate=f:r.next=f,d.lastBaseUpdate=c))}if(l!==null){var h=o.baseState;s=0,d=f=c=null,r=l;do{var p=r.lane&-536870913,g=p!==r.lane;if(g?(te&p)===p:(i&p)===p){p!==0&&p===Jo&&(Ku=!0),d!==null&&(d=d.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var v=t,E=r;p=e;var A=n;switch(E.tag){case 1:if(v=E.payload,typeof v=="function"){h=v.call(A,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=E.payload,p=typeof v=="function"?v.call(A,h,p):v,p==null)break e;h=Te({},h,p);break e;case 2:Yn=!0}}p=r.callback,p!==null&&(t.flags|=64,g&&(t.flags|=8192),g=o.callbacks,g===null?o.callbacks=[p]:g.push(p))}else g={lane:p,tag:r.tag,payload:r.payload,callback:r.callback,next:null},d===null?(f=d=g,c=h):d=d.next=g,s|=p;if(r=r.next,r===null){if(r=o.shared.pending,r===null)break;g=r,r=g.next,g.next=null,o.lastBaseUpdate=g,o.shared.pending=null}}while(!0);d===null&&(c=h),o.baseState=c,o.firstBaseUpdate=f,o.lastBaseUpdate=d,l===null&&(o.shared.lanes=0),hi|=s,t.lanes=s,t.memoizedState=h}}function Km(t,e){if(typeof t!="function")throw Error(R(191,t));t.call(e)}function $m(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Km(n[t],e)}var Yo=an(null),xa=an(0);function Vd(t,e){t=In,me(xa,t),me(Yo,e),In=t|e.baseLanes}function $u(){me(xa,In),me(Yo,Yo.current)}function gf(){In=xa.current,ze(Yo),ze(xa)}var _t=an(null),kt=null;function $n(t){var e=t.alternate;me(Ne,Ne.current&1),me(_t,t),kt===null&&(e===null||Yo.current!==null||e.memoizedState!==null)&&(kt=t)}function Xu(t){me(Ne,Ne.current),me(_t,t),kt===null&&(kt=t)}function Xm(t){t.tag===22?(me(Ne,Ne.current),me(_t,t),kt===null&&(kt=t)):Xn()}function Xn(){me(Ne,Ne.current),me(_t,_t.current)}function mt(t){ze(_t),kt===t&&(kt=null),ze(Ne)}var Ne=an(0);function wa(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||hc(n)||gc(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Rn=0,Q=null,he=null,Ie=null,ba=!1,Ho=!1,Fi=!1,Ra=0,ls=0,Go=null,QT=0;function _e(){throw Error(R(321))}function mf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!At(t[n],e[n]))return!1;return!0}function yf(t,e,n,i,o,l){return Rn=l,Q=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,F.H=t===null||t.memoizedState===null?wy:Rf,Fi=!1,l=n(i,o),Fi=!1,Ho&&(l=Zm(e,n,i,o)),Qm(t),l}function Qm(t){F.H=ss;var e=he!==null&&he.next!==null;if(Rn=0,Ie=he=Q=null,ba=!1,ls=0,Go=null,e)throw Error(R(300));t===null||Ue||(t=t.dependencies,t!==null&&Aa(t)&&(Ue=!0))}function Zm(t,e,n,i){Q=t;var o=0;do{if(Ho&&(Go=null),ls=0,Ho=!1,25<=o)throw Error(R(301));if(o+=1,Ie=he=null,t.updateQueue!=null){var l=t.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}F.H=by,l=e(n,i)}while(Ho);return l}function ZT(){var t=F.H,e=t.useState()[0];return e=typeof e.then=="function"?Ts(e):e,t=t.useState()[0],(he!==null?he.memoizedState:null)!==t&&(Q.flags|=1024),e}function vf(){var t=Ra!==0;return Ra=0,t}function Sf(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Tf(t){if(ba){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}ba=!1}Rn=0,Ie=he=Q=null,Ho=!1,ls=Ra=0,Go=null}function tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?Q.memoizedState=Ie=t:Ie=Ie.next=t,Ie}function Me(){if(he===null){var t=Q.alternate;t=t!==null?t.memoizedState:null}else t=he.next;var e=Ie===null?Q.memoizedState:Ie.next;if(e!==null)Ie=e,he=t;else{if(t===null)throw Q.alternate===null?Error(R(467)):Error(R(310));he=t,t={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},Ie===null?Q.memoizedState=Ie=t:Ie=Ie.next=t}return Ie}function dr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ts(t){var e=ls;return ls+=1,Go===null&&(Go=[]),t=Fm(Go,t,e),e=Q,(Ie===null?e.memoizedState:Ie.next)===null&&(e=e.alternate,F.H=e===null||e.memoizedState===null?wy:Rf),t}function pr(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ts(t);if(t.$$typeof===En)return Ke(t)}throw Error(R(438,String(t)))}function Ef(t){var e=null,n=Q.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=Q.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(o){return o.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=dr(),Q.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=OS;return e.index++,n}function Nn(t,e){return typeof e=="function"?e(t):e}function oa(t){var e=Me();return Cf(e,he,t)}function Cf(t,e,n){var i=t.queue;if(i===null)throw Error(R(311));i.lastRenderedReducer=n;var o=t.baseQueue,l=i.pending;if(l!==null){if(o!==null){var s=o.next;o.next=l.next,l.next=s}e.baseQueue=o=l,i.pending=null}if(l=t.baseState,o===null)t.memoizedState=l;else{e=o.next;var r=s=null,c=null,f=e,d=!1;do{var h=f.lane&-536870913;if(h!==f.lane?(te&h)===h:(Rn&h)===h){var p=f.revertLane;if(p===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),h===Jo&&(d=!0);else if((Rn&p)===p){f=f.next,p===Jo&&(d=!0);continue}else h={lane:0,revertLane:f.revertLane,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(r=c=h,s=l):c=c.next=h,Q.lanes|=p,hi|=p;h=f.action,Fi&&n(l,h),l=f.hasEagerState?f.eagerState:n(l,h)}else p={lane:h,revertLane:f.revertLane,gesture:f.gesture,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(r=c=p,s=l):c=c.next=p,Q.lanes|=h,hi|=h;f=f.next}while(f!==null&&f!==e);if(c===null?s=l:c.next=r,!At(l,t.memoizedState)&&(Ue=!0,d&&(n=Oo,n!==null)))throw n;t.memoizedState=l,t.baseState=s,t.baseQueue=c,i.lastRenderedState=l}return o===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Qr(t){var e=Me(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var i=n.dispatch,o=n.pending,l=e.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do l=t(l,s.action),s=s.next;while(s!==o);At(l,e.memoizedState)||(Ue=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),n.lastRenderedState=l}return[l,i]}function Wm(t,e,n){var i=Q,o=Me(),l=ie;if(l){if(n===void 0)throw Error(R(407));n=n()}else n=e();var s=!At((he||o).memoizedState,n);if(s&&(o.memoizedState=n,Ue=!0),o=o.queue,Af(ty.bind(null,i,o,t),[t]),o.getSnapshot!==e||s||Ie!==null&&Ie.memoizedState.tag&1){if(i.flags|=2048,Ko(9,{destroy:void 0},ey.bind(null,i,o,n,e),null),ge===null)throw Error(R(349));l||Rn&127||jm(i,e,n)}return n}function jm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Q.updateQueue,e===null?(e=dr(),Q.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ey(t,e,n,i){e.value=n,e.getSnapshot=i,ny(e)&&iy(t)}function ty(t,e,n){return n(function(){ny(e)&&iy(t)})}function ny(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!At(t,n)}catch{return!0}}function iy(t){var e=Xi(t,2);e!==null&&ft(e,t,2)}function Qu(t){var e=tt();if(typeof t=="function"){var n=t;if(t=n(),Fi){Zn(!0);try{n()}finally{Zn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:t},e}function oy(t,e,n,i){return t.baseState=n,Cf(t,he,typeof i=="function"?i:Nn)}function WT(t,e,n,i,o){if(gr(t))throw Error(R(485));if(t=e.action,t!==null){var l={payload:o,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){l.listeners.push(s)}};F.T!==null?n(!0):l.isTransition=!1,i(l),n=e.pending,n===null?(l.next=e.pending=l,ly(e,l)):(l.next=n.next,e.pending=n.next=l)}}function ly(t,e){var n=e.action,i=e.payload,o=t.state;if(e.isTransition){var l=F.T,s={};F.T=s;try{var r=n(o,i),c=F.S;c!==null&&c(s,r),zd(t,e,r)}catch(f){Zu(t,e,f)}finally{l!==null&&s.types!==null&&(l.types=s.types),F.T=l}}else try{l=n(o,i),zd(t,e,l)}catch(f){Zu(t,e,f)}}function zd(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Bd(t,e,i)},function(i){return Zu(t,e,i)}):Bd(t,e,n)}function Bd(t,e,n){e.status="fulfilled",e.value=n,sy(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,ly(t,n)))}function Zu(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,sy(e),e=e.next;while(e!==i)}t.action=null}function sy(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function ay(t,e){return e}function qd(t,e){if(ie){var n=ge.formState;if(n!==null){e:{var i=Q;if(ie){if(ve){t:{for(var o=ve,l=Ut;o.nodeType!==8;){if(!l){o=null;break t}if(o=Ot(o.nextSibling),o===null){o=null;break t}}l=o.data,o=l==="F!"||l==="F"?o:null}if(o){ve=Ot(o.nextSibling),i=o.data==="F!";break e}}di(i)}i=!1}i&&(e=n[0])}}return n=tt(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ay,lastRenderedState:e},n.queue=i,n=Ay.bind(null,Q,i),i.dispatch=n,i=Qu(!1),l=bf.bind(null,Q,!1,i.queue),i=tt(),o={state:e,dispatch:null,action:t,pending:null},i.queue=o,n=WT.bind(null,Q,o,l,n),o.dispatch=n,i.memoizedState=t,[e,n,!1]}function Fd(t){var e=Me();return ry(e,he,t)}function ry(t,e,n){if(e=Cf(t,e,ay)[0],t=oa(Nn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Ts(e)}catch(s){throw s===il?fr:s}else i=e;e=Me();var o=e.queue,l=o.dispatch;return n!==e.memoizedState&&(Q.flags|=2048,Ko(9,{destroy:void 0},jT.bind(null,o,n),null)),[i,l,t]}function jT(t,e){t.action=e}function Jd(t){var e=Me(),n=he;if(n!==null)return ry(e,n,t);Me(),e=e.memoizedState,n=Me();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function Ko(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=Q.updateQueue,e===null&&(e=dr(),Q.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function uy(){return Me().memoizedState}function la(t,e,n,i){var o=tt();Q.flags|=t,o.memoizedState=Ko(1|e,{destroy:void 0},n,i===void 0?null:i)}function hr(t,e,n,i){var o=Me();i=i===void 0?null:i;var l=o.memoizedState.inst;he!==null&&i!==null&&mf(i,he.memoizedState.deps)?o.memoizedState=Ko(e,l,n,i):(Q.flags|=t,o.memoizedState=Ko(1|e,l,n,i))}function Yd(t,e){la(8390656,8,t,e)}function Af(t,e){hr(2048,8,t,e)}function eE(t){Q.flags|=4;var e=Q.updateQueue;if(e===null)e=dr(),Q.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function cy(t){var e=Me().memoizedState;return eE({ref:e,nextImpl:t}),function(){if(re&2)throw Error(R(440));return e.impl.apply(void 0,arguments)}}function fy(t,e){return hr(4,2,t,e)}function dy(t,e){return hr(4,4,t,e)}function py(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hy(t,e,n){n=n!=null?n.concat([t]):null,hr(4,4,py.bind(null,e,t),n)}function _f(){}function gy(t,e){var n=Me();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&mf(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function my(t,e){var n=Me();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&mf(e,i[1]))return i[0];if(i=t(),Fi){Zn(!0);try{t()}finally{Zn(!1)}}return n.memoizedState=[i,e],i}function xf(t,e,n){return n===void 0||Rn&1073741824&&!(te&261930)?t.memoizedState=e:(t.memoizedState=n,t=o0(),Q.lanes|=t,hi|=t,n)}function yy(t,e,n,i){return At(n,e)?n:Yo.current!==null?(t=xf(t,n,i),At(t,e)||(Ue=!0),t):!(Rn&42)||Rn&1073741824&&!(te&261930)?(Ue=!0,t.memoizedState=n):(t=o0(),Q.lanes|=t,hi|=t,e)}function vy(t,e,n,i,o){var l=ue.p;ue.p=l!==0&&8>l?l:8;var s=F.T,r={};F.T=r,bf(t,!1,e,n);try{var c=o(),f=F.S;if(f!==null&&f(r,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=XT(c,i);Jl(t,e,d,Ct(t))}else Jl(t,e,i,Ct(t))}catch(h){Jl(t,e,{then:function(){},status:"rejected",reason:h},Ct())}finally{ue.p=l,s!==null&&r.types!==null&&(s.types=r.types),F.T=s}}function tE(){}function Wu(t,e,n,i){if(t.tag!==5)throw Error(R(476));var o=Sy(t).queue;vy(t,o,e,Ui,n===null?tE:function(){return Ty(t),n(i)})}function Sy(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Ui,baseState:Ui,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:Ui},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Ty(t){var e=Sy(t);e.next===null&&(e=t.alternate.memoizedState),Jl(t,e.next.queue,{},Ct())}function wf(){return Ke(us)}function Ey(){return Me().memoizedState}function Cy(){return Me().memoizedState}function nE(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Ct();t=oi(n);var i=li(e,t,n);i!==null&&(ft(i,e,n),Bl(i,e,n)),e={cache:ff()},t.payload=e;return}e=e.return}}function iE(t,e,n){var i=Ct();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},gr(t)?_y(e,n):(n=af(t,e,n,i),n!==null&&(ft(n,t,i),xy(n,e,i)))}function Ay(t,e,n){var i=Ct();Jl(t,e,n,i)}function Jl(t,e,n,i){var o={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(gr(t))_y(e,o);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=e.lastRenderedReducer,l!==null))try{var s=e.lastRenderedState,r=l(s,n);if(o.hasEagerState=!0,o.eagerState=r,At(r,s))return cr(t,e,o,0),ge===null&&ur(),!1}catch{}finally{}if(n=af(t,e,o,i),n!==null)return ft(n,t,i),xy(n,e,i),!0}return!1}function bf(t,e,n,i){if(i={lane:2,revertLane:Of(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},gr(t)){if(e)throw Error(R(479))}else e=af(t,n,i,2),e!==null&&ft(e,t,2)}function gr(t){var e=t.alternate;return t===Q||e!==null&&e===Q}function _y(t,e){Ho=ba=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function xy(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,cm(t,n)}}var ss={readContext:Ke,use:pr,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e};ss.useEffectEvent=_e;var wy={readContext:Ke,use:pr,useCallback:function(t,e){return tt().memoizedState=[t,e===void 0?null:e],t},useContext:Ke,useEffect:Yd,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,la(4194308,4,py.bind(null,e,t),n)},useLayoutEffect:function(t,e){return la(4194308,4,t,e)},useInsertionEffect:function(t,e){la(4,2,t,e)},useMemo:function(t,e){var n=tt();e=e===void 0?null:e;var i=t();if(Fi){Zn(!0);try{t()}finally{Zn(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=tt();if(n!==void 0){var o=n(e);if(Fi){Zn(!0);try{n(e)}finally{Zn(!1)}}}else o=e;return i.memoizedState=i.baseState=o,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},i.queue=t,t=t.dispatch=iE.bind(null,Q,t),[i.memoizedState,t]},useRef:function(t){var e=tt();return t={current:t},e.memoizedState=t},useState:function(t){t=Qu(t);var e=t.queue,n=Ay.bind(null,Q,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:_f,useDeferredValue:function(t,e){var n=tt();return xf(n,t,e)},useTransition:function(){var t=Qu(!1);return t=vy.bind(null,Q,t.queue,!0,!1),tt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=Q,o=tt();if(ie){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),ge===null)throw Error(R(349));te&127||jm(i,e,n)}o.memoizedState=n;var l={value:n,getSnapshot:e};return o.queue=l,Yd(ty.bind(null,i,l,t),[t]),i.flags|=2048,Ko(9,{destroy:void 0},ey.bind(null,i,l,n,e),null),n},useId:function(){var t=tt(),e=ge.identifierPrefix;if(ie){var n=nn,i=tn;n=(i&~(1<<32-Et(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Ra++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=QT++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:wf,useFormState:qd,useActionState:qd,useOptimistic:function(t){var e=tt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=bf.bind(null,Q,!0,n),n.dispatch=e,[t,e]},useMemoCache:Ef,useCacheRefresh:function(){return tt().memoizedState=nE.bind(null,Q)},useEffectEvent:function(t){var e=tt(),n={impl:t};return e.memoizedState=n,function(){if(re&2)throw Error(R(440));return n.impl.apply(void 0,arguments)}}},Rf={readContext:Ke,use:pr,useCallback:gy,useContext:Ke,useEffect:Af,useImperativeHandle:hy,useInsertionEffect:fy,useLayoutEffect:dy,useMemo:my,useReducer:oa,useRef:uy,useState:function(){return oa(Nn)},useDebugValue:_f,useDeferredValue:function(t,e){var n=Me();return yy(n,he.memoizedState,t,e)},useTransition:function(){var t=oa(Nn)[0],e=Me().memoizedState;return[typeof t=="boolean"?t:Ts(t),e]},useSyncExternalStore:Wm,useId:Ey,useHostTransitionStatus:wf,useFormState:Fd,useActionState:Fd,useOptimistic:function(t,e){var n=Me();return oy(n,he,t,e)},useMemoCache:Ef,useCacheRefresh:Cy};Rf.useEffectEvent=cy;var by={readContext:Ke,use:pr,useCallback:gy,useContext:Ke,useEffect:Af,useImperativeHandle:hy,useInsertionEffect:fy,useLayoutEffect:dy,useMemo:my,useReducer:Qr,useRef:uy,useState:function(){return Qr(Nn)},useDebugValue:_f,useDeferredValue:function(t,e){var n=Me();return he===null?xf(n,t,e):yy(n,he.memoizedState,t,e)},useTransition:function(){var t=Qr(Nn)[0],e=Me().memoizedState;return[typeof t=="boolean"?t:Ts(t),e]},useSyncExternalStore:Wm,useId:Ey,useHostTransitionStatus:wf,useFormState:Jd,useActionState:Jd,useOptimistic:function(t,e){var n=Me();return he!==null?oy(n,he,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:Cy};by.useEffectEvent=cy;function Zr(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Te({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ju={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Ct(),o=oi(i);o.payload=e,n!=null&&(o.callback=n),e=li(t,o,i),e!==null&&(ft(e,t,i),Bl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Ct(),o=oi(i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=li(t,o,i),e!==null&&(ft(e,t,i),Bl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ct(),i=oi(n);i.tag=2,e!=null&&(i.callback=e),e=li(t,i,n),e!==null&&(ft(e,t,n),Bl(e,t,n))}};function Kd(t,e,n,i,o,l,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,l,s):e.prototype&&e.prototype.isPureReactComponent?!ts(n,i)||!ts(o,l):!0}function $d(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&ju.enqueueReplaceState(e,e.state,null)}function Ji(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Te({},n));for(var o in t)n[o]===void 0&&(n[o]=t[o])}return n}function Ry(t){Ta(t)}function Ny(t){console.error(t)}function My(t){Ta(t)}function Na(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Xd(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function ec(t,e,n){return n=oi(n),n.tag=3,n.payload={element:null},n.callback=function(){Na(t,e)},n}function Iy(t){return t=oi(t),t.tag=3,t}function Dy(t,e,n,i){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var l=i.value;t.payload=function(){return o(l)},t.callback=function(){Xd(e,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Xd(e,n,i),typeof o!="function"&&(si===null?si=new Set([this]):si.add(this));var r=i.stack;this.componentDidCatch(i.value,{componentStack:r!==null?r:""})})}function oE(t,e,n,i,o){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&nl(e,n,o,!0),n=_t.current,n!==null){switch(n.tag){case 31:case 13:return kt===null?Ua():n.alternate===null&&xe===0&&(xe=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===_a?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),ru(t,i,o)),!1;case 22:return n.flags|=65536,i===_a?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),ru(t,i,o)),!1}throw Error(R(435,n.tag))}return ru(t,i,o),Ua(),!1}if(ie)return e=_t.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=o,i!==zu&&(t=Error(R(422),{cause:i}),is(Lt(t,n)))):(i!==zu&&(e=Error(R(423),{cause:i}),is(Lt(e,n))),t=t.current.alternate,t.flags|=65536,o&=-o,t.lanes|=o,i=Lt(i,n),o=ec(t.stateNode,i,o),Xr(t,o),xe!==4&&(xe=2)),!1;var l=Error(R(520),{cause:i});if(l=Lt(l,n),$l===null?$l=[l]:$l.push(l),xe!==4&&(xe=2),e===null)return!0;i=Lt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=o&-o,n.lanes|=t,t=ec(n.stateNode,i,t),Xr(n,t),!1;case 1:if(e=n.type,l=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(si===null||!si.has(l))))return n.flags|=65536,o&=-o,n.lanes|=o,o=Iy(o),Dy(o,t,n,i),Xr(n,o),!1}n=n.return}while(n!==null);return!1}var Nf=Error(R(461)),Ue=!1;function Fe(t,e,n,i){e.child=t===null?Ym(e,null,n,i):qi(e,t.child,n,i)}function Qd(t,e,n,i,o){n=n.render;var l=e.ref;if("ref"in i){var s={};for(var r in i)r!=="ref"&&(s[r]=i[r])}else s=i;return Bi(e),i=yf(t,e,n,s,l,o),r=vf(),t!==null&&!Ue?(Sf(t,e,o),Mn(t,e,o)):(ie&&r&&uf(e),e.flags|=1,Fe(t,e,i,o),e.child)}function Zd(t,e,n,i,o){if(t===null){var l=n.type;return typeof l=="function"&&!rf(l)&&l.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=l,Ly(t,e,l,i,o)):(t=na(n.type,null,i,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(l=t.child,!Mf(t,o)){var s=l.memoizedProps;if(n=n.compare,n=n!==null?n:ts,n(s,i)&&t.ref===e.ref)return Mn(t,e,o)}return e.flags|=1,t=_n(l,i),t.ref=e.ref,t.return=e,e.child=t}function Ly(t,e,n,i,o){if(t!==null){var l=t.memoizedProps;if(ts(l,i)&&t.ref===e.ref)if(Ue=!1,e.pendingProps=i=l,Mf(t,o))t.flags&131072&&(Ue=!0);else return e.lanes=t.lanes,Mn(t,e,o)}return tc(t,e,n,i,o)}function Uy(t,e,n,i){var o=i.children,l=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(l=l!==null?l.baseLanes|n:n,t!==null){for(i=e.child=t.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~l}else i=0,e.child=null;return Wd(t,e,l,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&ia(e,l!==null?l.cachePool:null),l!==null?Vd(e,l):$u(),Xm(e);else return i=e.lanes=536870912,Wd(t,e,l!==null?l.baseLanes|n:n,n,i)}else l!==null?(ia(e,l.cachePool),Vd(e,l),Xn(),e.memoizedState=null):(t!==null&&ia(e,null),$u(),Xn());return Fe(t,e,o,n),e.child}function Ul(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Wd(t,e,n,i,o){var l=df();return l=l===null?null:{parent:Le._currentValue,pool:l},e.memoizedState={baseLanes:n,cachePool:l},t!==null&&ia(e,null),$u(),Xm(e),t!==null&&nl(t,e,i,!0),e.childLanes=o,null}function sa(t,e){return e=Ma({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function jd(t,e,n){return qi(e,t.child,null,n),t=sa(e,e.pendingProps),t.flags|=2,mt(e),e.memoizedState=null,t}function lE(t,e,n){var i=e.pendingProps,o=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(ie){if(i.mode==="hidden")return t=sa(e,i),e.lanes=536870912,Ul(null,t);if(Xu(e),(t=ve)?(t=w0(t,Ut),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:fi!==null?{id:tn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},n=Gm(t),n.return=e,e.child=n,Ye=e,ve=null)):t=null,t===null)throw di(e);return e.lanes=536870912,null}return sa(e,i)}var l=t.memoizedState;if(l!==null){var s=l.dehydrated;if(Xu(e),o)if(e.flags&256)e.flags&=-257,e=jd(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(R(558));else if(Ue||nl(t,e,n,!1),o=(n&t.childLanes)!==0,Ue||o){if(i=ge,i!==null&&(s=fm(i,n),s!==0&&s!==l.retryLane))throw l.retryLane=s,Xi(t,s),ft(i,t,s),Nf;Ua(),e=jd(t,e,n)}else t=l.treeContext,ve=Ot(s.nextSibling),Ye=e,ie=!0,ii=null,Ut=!1,t!==null&&zm(e,t),e=sa(e,i),e.flags|=4096;return e}return t=_n(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function aa(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(R(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function tc(t,e,n,i,o){return Bi(e),n=yf(t,e,n,i,void 0,o),i=vf(),t!==null&&!Ue?(Sf(t,e,o),Mn(t,e,o)):(ie&&i&&uf(e),e.flags|=1,Fe(t,e,n,o),e.child)}function ep(t,e,n,i,o,l){return Bi(e),e.updateQueue=null,n=Zm(e,i,n,o),Qm(t),i=vf(),t!==null&&!Ue?(Sf(t,e,l),Mn(t,e,l)):(ie&&i&&uf(e),e.flags|=1,Fe(t,e,n,l),e.child)}function tp(t,e,n,i,o){if(Bi(e),e.stateNode===null){var l=bo,s=n.contextType;typeof s=="object"&&s!==null&&(l=Ke(s)),l=new n(i,l),e.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=ju,e.stateNode=l,l._reactInternals=e,l=e.stateNode,l.props=i,l.state=e.memoizedState,l.refs={},hf(e),s=n.contextType,l.context=typeof s=="object"&&s!==null?Ke(s):bo,l.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Zr(e,n,s,i),l.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(s=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),s!==l.state&&ju.enqueueReplaceState(l,l.state,null),Fl(e,i,l,o),ql(),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){l=e.stateNode;var r=e.memoizedProps,c=Ji(n,r);l.props=c;var f=l.context,d=n.contextType;s=bo,typeof d=="object"&&d!==null&&(s=Ke(d));var h=n.getDerivedStateFromProps;d=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function",r=e.pendingProps!==r,d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(r||f!==s)&&$d(e,l,i,s),Yn=!1;var p=e.memoizedState;l.state=p,Fl(e,i,l,o),ql(),f=e.memoizedState,r||p!==f||Yn?(typeof h=="function"&&(Zr(e,n,h,i),f=e.memoizedState),(c=Yn||Kd(e,n,c,i,p,f,s))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=f),l.props=i,l.state=f,l.context=s,i=c):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{l=e.stateNode,Yu(t,e),s=e.memoizedProps,d=Ji(n,s),l.props=d,h=e.pendingProps,p=l.context,f=n.contextType,c=bo,typeof f=="object"&&f!==null&&(c=Ke(f)),r=n.getDerivedStateFromProps,(f=typeof r=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==h||p!==c)&&$d(e,l,i,c),Yn=!1,p=e.memoizedState,l.state=p,Fl(e,i,l,o),ql();var g=e.memoizedState;s!==h||p!==g||Yn||t!==null&&t.dependencies!==null&&Aa(t.dependencies)?(typeof r=="function"&&(Zr(e,n,r,i),g=e.memoizedState),(d=Yn||Kd(e,n,d,i,p,g,c)||t!==null&&t.dependencies!==null&&Aa(t.dependencies))?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,g,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,g,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),l.props=i,l.state=g,l.context=c,i=d):(typeof l.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return l=i,aa(t,e),i=(e.flags&128)!==0,l||i?(l=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:l.render(),e.flags|=1,t!==null&&i?(e.child=qi(e,t.child,null,o),e.child=qi(e,null,n,o)):Fe(t,e,n,o),e.memoizedState=l.state,t=e.child):t=Mn(t,e,o),t}function np(t,e,n,i){return zi(),e.flags|=256,Fe(t,e,n,i),e.child}var Wr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jr(t){return{baseLanes:t,cachePool:qm()}}function eu(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=vt),t}function ky(t,e,n){var i=e.pendingProps,o=!1,l=(e.flags&128)!==0,s;if((s=l)||(s=t!==null&&t.memoizedState===null?!1:(Ne.current&2)!==0),s&&(o=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(ie){if(o?$n(e):Xn(),(t=ve)?(t=w0(t,Ut),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:fi!==null?{id:tn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},n=Gm(t),n.return=e,e.child=n,Ye=e,ve=null)):t=null,t===null)throw di(e);return gc(t)?e.lanes=32:e.lanes=536870912,null}var r=i.children;return i=i.fallback,o?(Xn(),o=e.mode,r=Ma({mode:"hidden",children:r},o),i=ki(i,o,n,null),r.return=e,i.return=e,r.sibling=i,e.child=r,i=e.child,i.memoizedState=jr(n),i.childLanes=eu(t,s,n),e.memoizedState=Wr,Ul(null,i)):($n(e),nc(e,r))}var c=t.memoizedState;if(c!==null&&(r=c.dehydrated,r!==null)){if(l)e.flags&256?($n(e),e.flags&=-257,e=tu(t,e,n)):e.memoizedState!==null?(Xn(),e.child=t.child,e.flags|=128,e=null):(Xn(),r=i.fallback,o=e.mode,i=Ma({mode:"visible",children:i.children},o),r=ki(r,o,n,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,qi(e,t.child,null,n),i=e.child,i.memoizedState=jr(n),i.childLanes=eu(t,s,n),e.memoizedState=Wr,e=Ul(null,i));else if($n(e),gc(r)){if(s=r.nextSibling&&r.nextSibling.dataset,s)var f=s.dgst;s=f,i=Error(R(419)),i.stack="",i.digest=s,is({value:i,source:null,stack:null}),e=tu(t,e,n)}else if(Ue||nl(t,e,n,!1),s=(n&t.childLanes)!==0,Ue||s){if(s=ge,s!==null&&(i=fm(s,n),i!==0&&i!==c.retryLane))throw c.retryLane=i,Xi(t,i),ft(s,t,i),Nf;hc(r)||Ua(),e=tu(t,e,n)}else hc(r)?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,ve=Ot(r.nextSibling),Ye=e,ie=!0,ii=null,Ut=!1,t!==null&&zm(e,t),e=nc(e,i.children),e.flags|=4096);return e}return o?(Xn(),r=i.fallback,o=e.mode,c=t.child,f=c.sibling,i=_n(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,f!==null?r=_n(f,r):(r=ki(r,o,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,Ul(null,i),i=e.child,r=t.child.memoizedState,r===null?r=jr(n):(o=r.cachePool,o!==null?(c=Le._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=qm(),r={baseLanes:r.baseLanes|n,cachePool:o}),i.memoizedState=r,i.childLanes=eu(t,s,n),e.memoizedState=Wr,Ul(t.child,i)):($n(e),n=t.child,t=n.sibling,n=_n(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function nc(t,e){return e=Ma({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Ma(t,e){return t=yt(22,t,null,e),t.lanes=0,t}function tu(t,e,n){return qi(e,t.child,null,n),t=nc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ip(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),qu(t.return,e,n)}function nu(t,e,n,i,o,l){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o,treeForkCount:l}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=o,s.treeForkCount=l)}function Oy(t,e,n){var i=e.pendingProps,o=i.revealOrder,l=i.tail;i=i.children;var s=Ne.current,r=(s&2)!==0;if(r?(s=s&1|2,e.flags|=128):s&=1,me(Ne,s),Fe(t,e,i,n),i=ie?ns:0,!r&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ip(t,n,e);else if(t.tag===19)ip(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&wa(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),nu(e,!1,o,n,l,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&wa(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}nu(e,!0,n,null,l,i);break;case"together":nu(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function Mn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hi|=e.lanes,!(n&e.childLanes))if(t!==null){if(nl(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=_n(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_n(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Mf(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Aa(t)))}function sE(t,e,n){switch(e.tag){case 3:ma(e,e.stateNode.containerInfo),Kn(e,Le,t.memoizedState.cache),zi();break;case 27:case 5:Mu(e);break;case 4:ma(e,e.stateNode.containerInfo);break;case 10:Kn(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Xu(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?($n(e),e.flags|=128,null):n&e.child.childLanes?ky(t,e,n):($n(e),t=Mn(t,e,n),t!==null?t.sibling:null);$n(e);break;case 19:var o=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(nl(t,e,n,!1),i=(n&e.childLanes)!==0),o){if(i)return Oy(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),me(Ne,Ne.current),i)break;return null;case 22:return e.lanes=0,Uy(t,e,n,e.pendingProps);case 24:Kn(e,Le,t.memoizedState.cache)}return Mn(t,e,n)}function Py(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ue=!0;else{if(!Mf(t,n)&&!(e.flags&128))return Ue=!1,sE(t,e,n);Ue=!!(t.flags&131072)}else Ue=!1,ie&&e.flags&1048576&&Vm(e,ns,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=Ii(e.elementType),e.type=t,typeof t=="function")rf(t)?(i=Ji(t,i),e.tag=1,e=tp(null,e,t,i,n)):(e.tag=0,e=tc(null,e,t,i,n));else{if(t!=null){var o=t.$$typeof;if(o===Kc){e.tag=11,e=Qd(null,e,t,i,n);break e}else if(o===$c){e.tag=14,e=Zd(null,e,t,i,n);break e}}throw e=Ru(t)||t,Error(R(306,e,""))}}return e;case 0:return tc(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,o=Ji(i,e.pendingProps),tp(t,e,i,o,n);case 3:e:{if(ma(e,e.stateNode.containerInfo),t===null)throw Error(R(387));i=e.pendingProps;var l=e.memoizedState;o=l.element,Yu(t,e),Fl(e,i,null,n);var s=e.memoizedState;if(i=s.cache,Kn(e,Le,i),i!==l.cache&&Fu(e,[Le],n,!0),ql(),i=s.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=l,e.memoizedState=l,e.flags&256){e=np(t,e,i,n);break e}else if(i!==o){o=Lt(Error(R(424)),e),is(o),e=np(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ve=Ot(t.firstChild),Ye=e,ie=!0,ii=null,Ut=!0,n=Ym(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(zi(),i===o){e=Mn(t,e,n);break e}Fe(t,e,i,n)}e=e.child}return e;case 26:return aa(t,e),t===null?(n=Ap(e.type,null,e.pendingProps,null))?e.memoizedState=n:ie||(n=e.type,t=e.pendingProps,i=Ha(ni.current).createElement(n),i[Je]=e,i[dt]=t,$e(i,n,t),Ve(i),e.stateNode=i):e.memoizedState=Ap(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Mu(e),t===null&&ie&&(i=e.stateNode=b0(e.type,e.pendingProps,ni.current),Ye=e,Ut=!0,o=ve,mi(e.type)?(mc=o,ve=Ot(i.firstChild)):ve=o),Fe(t,e,e.pendingProps.children,n),aa(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ie&&((o=i=ve)&&(i=OE(i,e.type,e.pendingProps,Ut),i!==null?(e.stateNode=i,Ye=e,ve=Ot(i.firstChild),Ut=!1,o=!0):o=!1),o||di(e)),Mu(e),o=e.type,l=e.pendingProps,s=t!==null?t.memoizedProps:null,i=l.children,dc(o,l)?i=null:s!==null&&dc(o,s)&&(e.flags|=32),e.memoizedState!==null&&(o=yf(t,e,ZT,null,null,n),us._currentValue=o),aa(t,e),Fe(t,e,i,n),e.child;case 6:return t===null&&ie&&((t=n=ve)&&(n=PE(n,e.pendingProps,Ut),n!==null?(e.stateNode=n,Ye=e,ve=null,t=!0):t=!1),t||di(e)),null;case 13:return ky(t,e,n);case 4:return ma(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=qi(e,null,i,n):Fe(t,e,i,n),e.child;case 11:return Qd(t,e,e.type,e.pendingProps,n);case 7:return Fe(t,e,e.pendingProps,n),e.child;case 8:return Fe(t,e,e.pendingProps.children,n),e.child;case 12:return Fe(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,Kn(e,e.type,i.value),Fe(t,e,i.children,n),e.child;case 9:return o=e.type._context,i=e.pendingProps.children,Bi(e),o=Ke(o),i=i(o),e.flags|=1,Fe(t,e,i,n),e.child;case 14:return Zd(t,e,e.type,e.pendingProps,n);case 15:return Ly(t,e,e.type,e.pendingProps,n);case 19:return Oy(t,e,n);case 31:return lE(t,e,n);case 22:return Uy(t,e,n,e.pendingProps);case 24:return Bi(e),i=Ke(Le),t===null?(o=df(),o===null&&(o=ge,l=ff(),o.pooledCache=l,l.refCount++,l!==null&&(o.pooledCacheLanes|=n),o=l),e.memoizedState={parent:i,cache:o},hf(e),Kn(e,Le,o)):(t.lanes&n&&(Yu(t,e),Fl(e,null,null,n),ql()),o=t.memoizedState,l=e.memoizedState,o.parent!==i?(o={parent:i,cache:i},e.memoizedState=o,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=o),Kn(e,Le,i)):(i=l.cache,Kn(e,Le,i),i!==o.cache&&Fu(e,[Le],n,!0))),Fe(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(R(156,e.tag))}function gn(t){t.flags|=4}function iu(t,e,n,i,o){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(o&335544128)===o)if(t.stateNode.complete)t.flags|=8192;else if(a0())t.flags|=8192;else throw Pi=_a,pf}else t.flags&=-16777217}function op(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!M0(e))if(a0())t.flags|=8192;else throw Pi=_a,pf}function Gs(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?rm():536870912,t.lanes|=e,$o|=e)}function xl(t,e){if(!ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function ye(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function aE(t,e,n){var i=e.pendingProps;switch(cf(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(e),null;case 1:return ye(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),xn(Le),Bo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ao(e)?gn(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$r())),ye(e),null;case 26:var o=e.type,l=e.memoizedState;return t===null?(gn(e),l!==null?(ye(e),op(e,l)):(ye(e),iu(e,o,null,i,n))):l?l!==t.memoizedState?(gn(e),ye(e),op(e,l)):(ye(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&gn(e),ye(e),iu(e,o,t,i,n)),null;case 27:if(ya(e),n=ni.current,o=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&gn(e);else{if(!i){if(e.stateNode===null)throw Error(R(166));return ye(e),null}t=sn.current,ao(e)?Ld(e):(t=b0(o,i,n),e.stateNode=t,gn(e))}return ye(e),null;case 5:if(ya(e),o=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&gn(e);else{if(!i){if(e.stateNode===null)throw Error(R(166));return ye(e),null}if(l=sn.current,ao(e))Ld(e);else{var s=Ha(ni.current);switch(l){case 1:l=s.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:l=s.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":l=s.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":l=s.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":l=s.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?l.multiple=!0:i.size&&(l.size=i.size);break;default:l=typeof i.is=="string"?s.createElement(o,{is:i.is}):s.createElement(o)}}l[Je]=e,l[dt]=i;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)l.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=l;e:switch($e(l,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&gn(e)}}return ye(e),iu(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&gn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(R(166));if(t=ni.current,ao(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,o=Ye,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}t[Je]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||A0(t.nodeValue,n)),t||di(e,!0)}else t=Ha(t).createTextNode(i),t[Je]=e,e.stateNode=t}return ye(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=ao(e),n!==null){if(t===null){if(!i)throw Error(R(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(557));t[Je]=e}else zi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ye(e),t=!1}else n=$r(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(mt(e),e):(mt(e),null);if(e.flags&128)throw Error(R(558))}return ye(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(o=ao(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(R(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(R(317));o[Je]=e}else zi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ye(e),o=!1}else o=$r(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),o=!0;if(!o)return e.flags&256?(mt(e),e):(mt(e),null)}return mt(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==o&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Gs(e,e.updateQueue),ye(e),null);case 4:return Bo(),t===null&&Pf(e.stateNode.containerInfo),ye(e),null;case 10:return xn(e.type),ye(e),null;case 19:if(ze(Ne),i=e.memoizedState,i===null)return ye(e),null;if(o=(e.flags&128)!==0,l=i.rendering,l===null)if(o)xl(i,!1);else{if(xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=wa(t),l!==null){for(e.flags|=128,xl(i,!1),t=l.updateQueue,e.updateQueue=t,Gs(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Hm(n,t),n=n.sibling;return me(Ne,Ne.current&1|2),ie&&Sn(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&St()>Da&&(e.flags|=128,o=!0,xl(i,!1),e.lanes=4194304)}else{if(!o)if(t=wa(l),t!==null){if(e.flags|=128,o=!0,t=t.updateQueue,e.updateQueue=t,Gs(e,t),xl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ie)return ye(e),null}else 2*St()-i.renderingStartTime>Da&&n!==536870912&&(e.flags|=128,o=!0,xl(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(t=i.last,t!==null?t.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=St(),t.sibling=null,n=Ne.current,me(Ne,o?n&1|2:n&1),ie&&Sn(e,i.treeForkCount),t):(ye(e),null);case 22:case 23:return mt(e),gf(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(ye(e),e.subtreeFlags&6&&(e.flags|=8192)):ye(e),n=e.updateQueue,n!==null&&Gs(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&ze(Oi),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),xn(Le),ye(e),null;case 25:return null;case 30:return null}throw Error(R(156,e.tag))}function rE(t,e){switch(cf(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xn(Le),Bo(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return ya(e),null;case 31:if(e.memoizedState!==null){if(mt(e),e.alternate===null)throw Error(R(340));zi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(mt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));zi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(Ne),null;case 4:return Bo(),null;case 10:return xn(e.type),null;case 22:case 23:return mt(e),gf(),t!==null&&ze(Oi),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return xn(Le),null;case 25:return null;default:return null}}function Hy(t,e){switch(cf(e),e.tag){case 3:xn(Le),Bo();break;case 26:case 27:case 5:ya(e);break;case 4:Bo();break;case 31:e.memoizedState!==null&&mt(e);break;case 13:mt(e);break;case 19:ze(Ne);break;case 10:xn(e.type);break;case 22:case 23:mt(e),gf(),t!==null&&ze(Oi);break;case 24:xn(Le)}}function Es(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&t)===t){i=void 0;var l=n.create,s=n.inst;i=l(),s.destroy=i}n=n.next}while(n!==o)}}catch(r){de(e,e.return,r)}}function pi(t,e,n){try{var i=e.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var l=o.next;i=l;do{if((i.tag&t)===t){var s=i.inst,r=s.destroy;if(r!==void 0){s.destroy=void 0,o=e;var c=n,f=r;try{f()}catch(d){de(o,c,d)}}}i=i.next}while(i!==l)}}catch(d){de(e,e.return,d)}}function Gy(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{$m(e,n)}catch(i){de(t,t.return,i)}}}function Vy(t,e,n){n.props=Ji(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){de(t,e,i)}}function Yl(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(o){de(t,e,o)}}function on(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(o){de(t,e,o)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){de(t,e,o)}else n.current=null}function zy(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(o){de(t,t.return,o)}}function ou(t,e,n){try{var i=t.stateNode;ME(i,t.type,n,e),i[dt]=e}catch(o){de(t,t.return,o)}}function By(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&mi(t.type)||t.tag===4}function lu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||By(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&mi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ic(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cn));else if(i!==4&&(i===27&&mi(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(ic(t,e,n),t=t.sibling;t!==null;)ic(t,e,n),t=t.sibling}function Ia(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&mi(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Ia(t,e,n),t=t.sibling;t!==null;)Ia(t,e,n),t=t.sibling}function qy(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,o=e.attributes;o.length;)e.removeAttributeNode(o[0]);$e(e,i,n),e[Je]=t,e[dt]=n}catch(l){de(t,t.return,l)}}var Tn=!1,De=!1,su=!1,lp=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function uE(t,e){if(t=t.containerInfo,cc=Ba,t=Mm(t),lf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var s=0,r=-1,c=-1,f=0,d=0,h=t,p=null;t:for(;;){for(var g;h!==n||o!==0&&h.nodeType!==3||(r=s+o),h!==l||i!==0&&h.nodeType!==3||(c=s+i),h.nodeType===3&&(s+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===t)break t;if(p===n&&++f===o&&(r=s),p===l&&++d===i&&(c=s),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=r===-1||c===-1?null:{start:r,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(fc={focusedElem:t,selectionRange:n},Ba=!1,Ge=e;Ge!==null;)if(e=Ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ge=t;else for(;Ge!==null;){switch(e=Ge,l=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)o=t[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&l!==null){t=void 0,n=e,o=l.memoizedProps,l=l.memoizedState,i=n.stateNode;try{var v=Ji(n.type,o);t=i.getSnapshotBeforeUpdate(v,l),i.__reactInternalSnapshotBeforeUpdate=t}catch(E){de(n,n.return,E)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)pc(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(R(163))}if(t=e.sibling,t!==null){t.return=e.return,Ge=t;break}Ge=e.return}}function Fy(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:yn(t,n),i&4&&Es(5,n);break;case 1:if(yn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){de(n,n.return,s)}else{var o=Ji(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(o,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){de(n,n.return,s)}}i&64&&Gy(n),i&512&&Yl(n,n.return);break;case 3:if(yn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{$m(t,e)}catch(s){de(n,n.return,s)}}break;case 27:e===null&&i&4&&qy(n);case 26:case 5:yn(t,n),e===null&&i&4&&zy(n),i&512&&Yl(n,n.return);break;case 12:yn(t,n);break;case 31:yn(t,n),i&4&&Ky(t,n);break;case 13:yn(t,n),i&4&&$y(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=vE.bind(null,n),HE(t,n))));break;case 22:if(i=n.memoizedState!==null||Tn,!i){e=e!==null&&e.memoizedState!==null||De,o=Tn;var l=De;Tn=i,(De=e)&&!l?vn(t,n,(n.subtreeFlags&8772)!==0):yn(t,n),Tn=o,De=l}break;case 30:break;default:yn(t,n)}}function Jy(t){var e=t.alternate;e!==null&&(t.alternate=null,Jy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Wc(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ee=null,ut=!1;function mn(t,e,n){for(n=n.child;n!==null;)Yy(t,e,n),n=n.sibling}function Yy(t,e,n){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(hs,n)}catch{}switch(n.tag){case 26:De||on(n,e),mn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:De||on(n,e);var i=Ee,o=ut;mi(n.type)&&(Ee=n.stateNode,ut=!1),mn(t,e,n),Ql(n.stateNode),Ee=i,ut=o;break;case 5:De||on(n,e);case 6:if(i=Ee,o=ut,Ee=null,mn(t,e,n),Ee=i,ut=o,Ee!==null)if(ut)try{(Ee.nodeType===9?Ee.body:Ee.nodeName==="HTML"?Ee.ownerDocument.body:Ee).removeChild(n.stateNode)}catch(l){de(n,e,l)}else try{Ee.removeChild(n.stateNode)}catch(l){de(n,e,l)}break;case 18:Ee!==null&&(ut?(t=Ee,vp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Wo(t)):vp(Ee,n.stateNode));break;case 4:i=Ee,o=ut,Ee=n.stateNode.containerInfo,ut=!0,mn(t,e,n),Ee=i,ut=o;break;case 0:case 11:case 14:case 15:pi(2,n,e),De||pi(4,n,e),mn(t,e,n);break;case 1:De||(on(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Vy(n,e,i)),mn(t,e,n);break;case 21:mn(t,e,n);break;case 22:De=(i=De)||n.memoizedState!==null,mn(t,e,n),De=i;break;default:mn(t,e,n)}}function Ky(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Wo(t)}catch(n){de(e,e.return,n)}}}function $y(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wo(t)}catch(n){de(e,e.return,n)}}function cE(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new lp),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new lp),e;default:throw Error(R(435,t.tag))}}function Vs(t,e){var n=cE(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var o=SE.bind(null,t,i);i.then(o,o)}})}function at(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i],l=t,s=e,r=s;e:for(;r!==null;){switch(r.tag){case 27:if(mi(r.type)){Ee=r.stateNode,ut=!1;break e}break;case 5:Ee=r.stateNode,ut=!1;break e;case 3:case 4:Ee=r.stateNode.containerInfo,ut=!0;break e}r=r.return}if(Ee===null)throw Error(R(160));Yy(l,s,o),Ee=null,ut=!1,l=o.alternate,l!==null&&(l.return=null),o.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Xy(e,t),e=e.sibling}var qt=null;function Xy(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:at(e,t),rt(t),i&4&&(pi(3,t,t.return),Es(3,t),pi(5,t,t.return));break;case 1:at(e,t),rt(t),i&512&&(De||n===null||on(n,n.return)),i&64&&Tn&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var o=qt;if(at(e,t),rt(t),i&512&&(De||n===null||on(n,n.return)),i&4){var l=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":l=o.getElementsByTagName("title")[0],(!l||l[ys]||l[Je]||l.namespaceURI==="http://www.w3.org/2000/svg"||l.hasAttribute("itemprop"))&&(l=o.createElement(i),o.head.insertBefore(l,o.querySelector("head > title"))),$e(l,i,n),l[Je]=t,Ve(l),i=l;break e;case"link":var s=xp("link","href",o).get(i+(n.href||""));if(s){for(var r=0;r<s.length;r++)if(l=s[r],l.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&l.getAttribute("rel")===(n.rel==null?null:n.rel)&&l.getAttribute("title")===(n.title==null?null:n.title)&&l.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(r,1);break t}}l=o.createElement(i),$e(l,i,n),o.head.appendChild(l);break;case"meta":if(s=xp("meta","content",o).get(i+(n.content||""))){for(r=0;r<s.length;r++)if(l=s[r],l.getAttribute("content")===(n.content==null?null:""+n.content)&&l.getAttribute("name")===(n.name==null?null:n.name)&&l.getAttribute("property")===(n.property==null?null:n.property)&&l.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&l.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(r,1);break t}}l=o.createElement(i),$e(l,i,n),o.head.appendChild(l);break;default:throw Error(R(468,i))}l[Je]=t,Ve(l),i=l}t.stateNode=i}else wp(o,t.type,t.stateNode);else t.stateNode=_p(o,i,t.memoizedProps);else l!==i?(l===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):l.count--,i===null?wp(o,t.type,t.stateNode):_p(o,i,t.memoizedProps)):i===null&&t.stateNode!==null&&ou(t,t.memoizedProps,n.memoizedProps)}break;case 27:at(e,t),rt(t),i&512&&(De||n===null||on(n,n.return)),n!==null&&i&4&&ou(t,t.memoizedProps,n.memoizedProps);break;case 5:if(at(e,t),rt(t),i&512&&(De||n===null||on(n,n.return)),t.flags&32){o=t.stateNode;try{Fo(o,"")}catch(v){de(t,t.return,v)}}i&4&&t.stateNode!=null&&(o=t.memoizedProps,ou(t,o,n!==null?n.memoizedProps:o)),i&1024&&(su=!0);break;case 6:if(at(e,t),rt(t),i&4){if(t.stateNode===null)throw Error(R(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(v){de(t,t.return,v)}}break;case 3:if(ca=null,o=qt,qt=Ga(e.containerInfo),at(e,t),qt=o,rt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Wo(e.containerInfo)}catch(v){de(t,t.return,v)}su&&(su=!1,Qy(t));break;case 4:i=qt,qt=Ga(t.stateNode.containerInfo),at(e,t),rt(t),qt=i;break;case 12:at(e,t),rt(t);break;case 31:at(e,t),rt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Vs(t,i)));break;case 13:at(e,t),rt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(mr=St()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Vs(t,i)));break;case 22:o=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,f=Tn,d=De;if(Tn=f||o,De=d||c,at(e,t),De=d,Tn=f,rt(t),i&8192)e:for(e=t.stateNode,e._visibility=o?e._visibility&-2:e._visibility|1,o&&(n===null||c||Tn||De||Di(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(l=c.stateNode,o)s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{r=c.stateNode;var h=c.memoizedProps.style,p=h!=null&&h.hasOwnProperty("display")?h.display:null;r.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(v){de(c,c.return,v)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(v){de(c,c.return,v)}}}else if(e.tag===18){if(n===null){c=e;try{var g=c.stateNode;o?Sp(g,!0):Sp(c.stateNode,!1)}catch(v){de(c,c.return,v)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Vs(t,n))));break;case 19:at(e,t),rt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Vs(t,i)));break;case 30:break;case 21:break;default:at(e,t),rt(t)}}function rt(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(By(i)){n=i;break}i=i.return}if(n==null)throw Error(R(160));switch(n.tag){case 27:var o=n.stateNode,l=lu(t);Ia(t,l,o);break;case 5:var s=n.stateNode;n.flags&32&&(Fo(s,""),n.flags&=-33);var r=lu(t);Ia(t,r,s);break;case 3:case 4:var c=n.stateNode.containerInfo,f=lu(t);ic(t,f,c);break;default:throw Error(R(161))}}catch(d){de(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Qy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Qy(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function yn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Fy(t,e.alternate,e),e=e.sibling}function Di(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:pi(4,e,e.return),Di(e);break;case 1:on(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Vy(e,e.return,n),Di(e);break;case 27:Ql(e.stateNode);case 26:case 5:on(e,e.return),Di(e);break;case 22:e.memoizedState===null&&Di(e);break;case 30:Di(e);break;default:Di(e)}t=t.sibling}}function vn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,o=t,l=e,s=l.flags;switch(l.tag){case 0:case 11:case 15:vn(o,l,n),Es(4,l);break;case 1:if(vn(o,l,n),i=l,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(f){de(i,i.return,f)}if(i=l,o=i.updateQueue,o!==null){var r=i.stateNode;try{var c=o.shared.hiddenCallbacks;if(c!==null)for(o.shared.hiddenCallbacks=null,o=0;o<c.length;o++)Km(c[o],r)}catch(f){de(i,i.return,f)}}n&&s&64&&Gy(l),Yl(l,l.return);break;case 27:qy(l);case 26:case 5:vn(o,l,n),n&&i===null&&s&4&&zy(l),Yl(l,l.return);break;case 12:vn(o,l,n);break;case 31:vn(o,l,n),n&&s&4&&Ky(o,l);break;case 13:vn(o,l,n),n&&s&4&&$y(o,l);break;case 22:l.memoizedState===null&&vn(o,l,n),Yl(l,l.return);break;case 30:break;default:vn(o,l,n)}e=e.sibling}}function If(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Ss(n))}function Df(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ss(t))}function Bt(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zy(t,e,n,i),e=e.sibling}function Zy(t,e,n,i){var o=e.flags;switch(e.tag){case 0:case 11:case 15:Bt(t,e,n,i),o&2048&&Es(9,e);break;case 1:Bt(t,e,n,i);break;case 3:Bt(t,e,n,i),o&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ss(t)));break;case 12:if(o&2048){Bt(t,e,n,i),t=e.stateNode;try{var l=e.memoizedProps,s=l.id,r=l.onPostCommit;typeof r=="function"&&r(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){de(e,e.return,c)}}else Bt(t,e,n,i);break;case 31:Bt(t,e,n,i);break;case 13:Bt(t,e,n,i);break;case 23:break;case 22:l=e.stateNode,s=e.alternate,e.memoizedState!==null?l._visibility&2?Bt(t,e,n,i):Kl(t,e):l._visibility&2?Bt(t,e,n,i):(l._visibility|=2,mo(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),o&2048&&If(s,e);break;case 24:Bt(t,e,n,i),o&2048&&Df(e.alternate,e);break;default:Bt(t,e,n,i)}}function mo(t,e,n,i,o){for(o=o&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var l=t,s=e,r=n,c=i,f=s.flags;switch(s.tag){case 0:case 11:case 15:mo(l,s,r,c,o),Es(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?mo(l,s,r,c,o):Kl(l,s):(d._visibility|=2,mo(l,s,r,c,o)),o&&f&2048&&If(s.alternate,s);break;case 24:mo(l,s,r,c,o),o&&f&2048&&Df(s.alternate,s);break;default:mo(l,s,r,c,o)}e=e.sibling}}function Kl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,o=i.flags;switch(i.tag){case 22:Kl(n,i),o&2048&&If(i.alternate,i);break;case 24:Kl(n,i),o&2048&&Df(i.alternate,i);break;default:Kl(n,i)}e=e.sibling}}var kl=8192;function ro(t,e,n){if(t.subtreeFlags&kl)for(t=t.child;t!==null;)Wy(t,e,n),t=t.sibling}function Wy(t,e,n){switch(t.tag){case 26:ro(t,e,n),t.flags&kl&&t.memoizedState!==null&&QE(n,qt,t.memoizedState,t.memoizedProps);break;case 5:ro(t,e,n);break;case 3:case 4:var i=qt;qt=Ga(t.stateNode.containerInfo),ro(t,e,n),qt=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=kl,kl=16777216,ro(t,e,n),kl=i):ro(t,e,n));break;default:ro(t,e,n)}}function jy(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function wl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ge=i,t0(i,t)}jy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)e0(t),t=t.sibling}function e0(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&pi(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,ra(t)):wl(t);break;default:wl(t)}}function ra(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ge=i,t0(i,t)}jy(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:pi(8,e,e.return),ra(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,ra(e));break;default:ra(e)}t=t.sibling}}function t0(t,e){for(;Ge!==null;){var n=Ge;switch(n.tag){case 0:case 11:case 15:pi(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ss(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Ge=i;else e:for(n=t;Ge!==null;){i=Ge;var o=i.sibling,l=i.return;if(Jy(i),i===n){Ge=null;break e}if(o!==null){o.return=l,Ge=o;break e}Ge=l}}}var fE={getCacheForType:function(t){var e=Ke(Le),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Ke(Le).controller.signal}},dE=typeof WeakMap=="function"?WeakMap:Map,re=0,ge=null,ee=null,te=0,fe=0,gt=null,jn=!1,ol=!1,Lf=!1,In=0,xe=0,hi=0,Hi=0,Uf=0,vt=0,$o=0,$l=null,ct=null,oc=!1,mr=0,n0=0,Da=1/0,La=null,si=null,Pe=0,ai=null,Xo=null,wn=0,lc=0,sc=null,i0=null,Xl=0,ac=null;function Ct(){return re&2&&te!==0?te&-te:F.T!==null?Of():dm()}function o0(){if(vt===0)if(!(te&536870912)||ie){var t=Ds;Ds<<=1,!(Ds&3932160)&&(Ds=262144),vt=t}else vt=536870912;return t=_t.current,t!==null&&(t.flags|=32),vt}function ft(t,e,n){(t===ge&&(fe===2||fe===9)||t.cancelPendingCommit!==null)&&(Qo(t,0),ei(t,te,vt,!1)),ms(t,n),(!(re&2)||t!==ge)&&(t===ge&&(!(re&2)&&(Hi|=n),xe===4&&ei(t,te,vt,!1)),rn(t))}function l0(t,e,n){if(re&6)throw Error(R(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||gs(t,e),o=i?gE(t,e):au(t,e,!0),l=i;do{if(o===0){ol&&!i&&ei(t,e,0,!1);break}else{if(n=t.current.alternate,l&&!pE(n)){o=au(t,e,!1),l=!1;continue}if(o===2){if(l=e,t.errorRecoveryDisabledLanes&l)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var r=t;o=$l;var c=r.current.memoizedState.isDehydrated;if(c&&(Qo(r,s).flags|=256),s=au(r,s,!1),s!==2){if(Lf&&!c){r.errorRecoveryDisabledLanes|=l,Hi|=l,o=4;break e}l=ct,ct=o,l!==null&&(ct===null?ct=l:ct.push.apply(ct,l))}o=s}if(l=!1,o!==2)continue}}if(o===1){Qo(t,0),ei(t,e,0,!0);break}e:{switch(i=t,l=o,l){case 0:case 1:throw Error(R(345));case 4:if((e&4194048)!==e)break;case 6:ei(i,e,vt,!jn);break e;case 2:ct=null;break;case 3:case 5:break;default:throw Error(R(329))}if((e&62914560)===e&&(o=mr+300-St(),10<o)){if(ei(i,e,vt,!jn),lr(i,0,!0)!==0)break e;wn=e,i.timeoutHandle=x0(sp.bind(null,i,n,ct,La,oc,e,vt,Hi,$o,jn,l,"Throttled",-0,0),o);break e}sp(i,n,ct,La,oc,e,vt,Hi,$o,jn,l,null,-0,0)}}break}while(!0);rn(t)}function sp(t,e,n,i,o,l,s,r,c,f,d,h,p,g){if(t.timeoutHandle=-1,h=e.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cn},Wy(e,l,h);var v=(l&62914560)===l?mr-St():(l&4194048)===l?n0-St():0;if(v=ZE(h,v),v!==null){wn=l,t.cancelPendingCommit=v(rp.bind(null,t,e,l,n,i,o,s,r,c,d,h,null,p,g)),ei(t,l,s,!f);return}}rp(t,e,l,n,i,o,s,r,c)}function pE(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var o=n[i],l=o.getSnapshot;o=o.value;try{if(!At(l(),o))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ei(t,e,n,i){e&=~Uf,e&=~Hi,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var o=e;0<o;){var l=31-Et(o),s=1<<l;i[l]=-1,o&=~s}n!==0&&um(t,n,e)}function yr(){return re&6?!0:(Cs(0),!1)}function kf(){if(ee!==null){if(fe===0)var t=ee.return;else t=ee,An=Qi=null,Tf(t),Po=null,os=0,t=ee;for(;t!==null;)Hy(t.alternate,t),t=t.return;ee=null}}function Qo(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,LE(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),wn=0,kf(),ge=t,ee=n=_n(t.current,null),te=e,fe=0,gt=null,jn=!1,ol=gs(t,e),Lf=!1,$o=vt=Uf=Hi=hi=xe=0,ct=$l=null,oc=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var o=31-Et(i),l=1<<o;e|=t[o],i&=~l}return In=e,ur(),n}function s0(t,e){Q=null,F.H=ss,e===il||e===fr?(e=Hd(),fe=3):e===pf?(e=Hd(),fe=4):fe=e===Nf?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,gt=e,ee===null&&(xe=1,Na(t,Lt(e,t.current)))}function a0(){var t=_t.current;return t===null?!0:(te&4194048)===te?kt===null:(te&62914560)===te||te&536870912?t===kt:!1}function r0(){var t=F.H;return F.H=ss,t===null?ss:t}function u0(){var t=F.A;return F.A=fE,t}function Ua(){xe=4,jn||(te&4194048)!==te&&_t.current!==null||(ol=!0),!(hi&134217727)&&!(Hi&134217727)||ge===null||ei(ge,te,vt,!1)}function au(t,e,n){var i=re;re|=2;var o=r0(),l=u0();(ge!==t||te!==e)&&(La=null,Qo(t,e)),e=!1;var s=xe;e:do try{if(fe!==0&&ee!==null){var r=ee,c=gt;switch(fe){case 8:kf(),s=6;break e;case 3:case 2:case 9:case 6:_t.current===null&&(e=!0);var f=fe;if(fe=0,gt=null,Mo(t,r,c,f),n&&ol){s=0;break e}break;default:f=fe,fe=0,gt=null,Mo(t,r,c,f)}}hE(),s=xe;break}catch(d){s0(t,d)}while(!0);return e&&t.shellSuspendCounter++,An=Qi=null,re=i,F.H=o,F.A=l,ee===null&&(ge=null,te=0,ur()),s}function hE(){for(;ee!==null;)c0(ee)}function gE(t,e){var n=re;re|=2;var i=r0(),o=u0();ge!==t||te!==e?(La=null,Da=St()+500,Qo(t,e)):ol=gs(t,e);e:do try{if(fe!==0&&ee!==null){e=ee;var l=gt;t:switch(fe){case 1:fe=0,gt=null,Mo(t,e,l,1);break;case 2:case 9:if(Pd(l)){fe=0,gt=null,ap(e);break}e=function(){fe!==2&&fe!==9||ge!==t||(fe=7),rn(t)},l.then(e,e);break e;case 3:fe=7;break e;case 4:fe=5;break e;case 7:Pd(l)?(fe=0,gt=null,ap(e)):(fe=0,gt=null,Mo(t,e,l,7));break;case 5:var s=null;switch(ee.tag){case 26:s=ee.memoizedState;case 5:case 27:var r=ee;if(s?M0(s):r.stateNode.complete){fe=0,gt=null;var c=r.sibling;if(c!==null)ee=c;else{var f=r.return;f!==null?(ee=f,vr(f)):ee=null}break t}}fe=0,gt=null,Mo(t,e,l,5);break;case 6:fe=0,gt=null,Mo(t,e,l,6);break;case 8:kf(),xe=6;break e;default:throw Error(R(462))}}mE();break}catch(d){s0(t,d)}while(!0);return An=Qi=null,F.H=i,F.A=o,re=n,ee!==null?0:(ge=null,te=0,ur(),xe)}function mE(){for(;ee!==null&&!GS();)c0(ee)}function c0(t){var e=Py(t.alternate,t,In);t.memoizedProps=t.pendingProps,e===null?vr(t):ee=e}function ap(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=ep(n,e,e.pendingProps,e.type,void 0,te);break;case 11:e=ep(n,e,e.pendingProps,e.type.render,e.ref,te);break;case 5:Tf(e);default:Hy(n,e),e=ee=Hm(e,In),e=Py(n,e,In)}t.memoizedProps=t.pendingProps,e===null?vr(t):ee=e}function Mo(t,e,n,i){An=Qi=null,Tf(e),Po=null,os=0;var o=e.return;try{if(oE(t,o,e,n,te)){xe=1,Na(t,Lt(n,t.current)),ee=null;return}}catch(l){if(o!==null)throw ee=o,l;xe=1,Na(t,Lt(n,t.current)),ee=null;return}e.flags&32768?(ie||i===1?t=!0:ol||te&536870912?t=!1:(jn=t=!0,(i===2||i===9||i===3||i===6)&&(i=_t.current,i!==null&&i.tag===13&&(i.flags|=16384))),f0(e,t)):vr(e)}function vr(t){var e=t;do{if(e.flags&32768){f0(e,jn);return}t=e.return;var n=aE(e.alternate,e,In);if(n!==null){ee=n;return}if(e=e.sibling,e!==null){ee=e;return}ee=e=t}while(e!==null);xe===0&&(xe=5)}function f0(t,e){do{var n=rE(t.alternate,t);if(n!==null){n.flags&=32767,ee=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ee=t;return}ee=t=n}while(t!==null);xe=6,ee=null}function rp(t,e,n,i,o,l,s,r,c){t.cancelPendingCommit=null;do Sr();while(Pe!==0);if(re&6)throw Error(R(327));if(e!==null){if(e===t.current)throw Error(R(177));if(l=e.lanes|e.childLanes,l|=sf,XS(t,n,l,s,r,c),t===ge&&(ee=ge=null,te=0),Xo=e,ai=t,wn=n,lc=l,sc=o,i0=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,TE(va,function(){return m0(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=F.T,F.T=null,o=ue.p,ue.p=2,s=re,re|=4;try{uE(t,e,n)}finally{re=s,ue.p=o,F.T=i}}Pe=1,d0(),p0(),h0()}}function d0(){if(Pe===1){Pe=0;var t=ai,e=Xo,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=F.T,F.T=null;var i=ue.p;ue.p=2;var o=re;re|=4;try{Xy(e,t);var l=fc,s=Mm(t.containerInfo),r=l.focusedElem,c=l.selectionRange;if(s!==r&&r&&r.ownerDocument&&Nm(r.ownerDocument.documentElement,r)){if(c!==null&&lf(r)){var f=c.start,d=c.end;if(d===void 0&&(d=f),"selectionStart"in r)r.selectionStart=f,r.selectionEnd=Math.min(d,r.value.length);else{var h=r.ownerDocument||document,p=h&&h.defaultView||window;if(p.getSelection){var g=p.getSelection(),v=r.textContent.length,E=Math.min(c.start,v),A=c.end===void 0?E:Math.min(c.end,v);!g.extend&&E>A&&(s=A,A=E,E=s);var y=Md(r,E),m=Md(r,A);if(y&&m&&(g.rangeCount!==1||g.anchorNode!==y.node||g.anchorOffset!==y.offset||g.focusNode!==m.node||g.focusOffset!==m.offset)){var T=h.createRange();T.setStart(y.node,y.offset),g.removeAllRanges(),E>A?(g.addRange(T),g.extend(m.node,m.offset)):(T.setEnd(m.node,m.offset),g.addRange(T))}}}}for(h=[],g=r;g=g.parentNode;)g.nodeType===1&&h.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<h.length;r++){var C=h[r];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}Ba=!!cc,fc=cc=null}finally{re=o,ue.p=i,F.T=n}}t.current=e,Pe=2}}function p0(){if(Pe===2){Pe=0;var t=ai,e=Xo,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=F.T,F.T=null;var i=ue.p;ue.p=2;var o=re;re|=4;try{Fy(t,e.alternate,e)}finally{re=o,ue.p=i,F.T=n}}Pe=3}}function h0(){if(Pe===4||Pe===3){Pe=0,VS();var t=ai,e=Xo,n=wn,i=i0;e.subtreeFlags&10256||e.flags&10256?Pe=5:(Pe=0,Xo=ai=null,g0(t,t.pendingLanes));var o=t.pendingLanes;if(o===0&&(si=null),Zc(n),e=e.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(hs,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=F.T,o=ue.p,ue.p=2,F.T=null;try{for(var l=t.onRecoverableError,s=0;s<i.length;s++){var r=i[s];l(r.value,{componentStack:r.stack})}}finally{F.T=e,ue.p=o}}wn&3&&Sr(),rn(t),o=t.pendingLanes,n&261930&&o&42?t===ac?Xl++:(Xl=0,ac=t):Xl=0,Cs(0)}}function g0(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Ss(e)))}function Sr(){return d0(),p0(),h0(),m0()}function m0(){if(Pe!==5)return!1;var t=ai,e=lc;lc=0;var n=Zc(wn),i=F.T,o=ue.p;try{ue.p=32>n?32:n,F.T=null,n=sc,sc=null;var l=ai,s=wn;if(Pe=0,Xo=ai=null,wn=0,re&6)throw Error(R(331));var r=re;if(re|=4,e0(l.current),Zy(l,l.current,s,n),re=r,Cs(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(hs,l)}catch{}return!0}finally{ue.p=o,F.T=i,g0(t,e)}}function up(t,e,n){e=Lt(n,e),e=ec(t.stateNode,e,2),t=li(t,e,2),t!==null&&(ms(t,2),rn(t))}function de(t,e,n){if(t.tag===3)up(t,t,n);else for(;e!==null;){if(e.tag===3){up(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(si===null||!si.has(i))){t=Lt(n,t),n=Iy(2),i=li(e,n,2),i!==null&&(Dy(n,i,e,t),ms(i,2),rn(i));break}}e=e.return}}function ru(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new dE;var o=new Set;i.set(e,o)}else o=i.get(e),o===void 0&&(o=new Set,i.set(e,o));o.has(n)||(Lf=!0,o.add(n),t=yE.bind(null,t,e,n),e.then(t,t))}function yE(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ge===t&&(te&n)===n&&(xe===4||xe===3&&(te&62914560)===te&&300>St()-mr?!(re&2)&&Qo(t,0):Uf|=n,$o===te&&($o=0)),rn(t)}function y0(t,e){e===0&&(e=rm()),t=Xi(t,e),t!==null&&(ms(t,e),rn(t))}function vE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),y0(t,n)}function SE(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(R(314))}i!==null&&i.delete(e),y0(t,n)}function TE(t,e){return Xc(t,e)}var ka=null,yo=null,rc=!1,Oa=!1,uu=!1,ti=0;function rn(t){t!==yo&&t.next===null&&(yo===null?ka=yo=t:yo=yo.next=t),Oa=!0,rc||(rc=!0,CE())}function Cs(t,e){if(!uu&&Oa){uu=!0;do for(var n=!1,i=ka;i!==null;){if(t!==0){var o=i.pendingLanes;if(o===0)var l=0;else{var s=i.suspendedLanes,r=i.pingedLanes;l=(1<<31-Et(42|t)+1)-1,l&=o&~(s&~r),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(n=!0,cp(i,l))}else l=te,l=lr(i,i===ge?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(l&3)||gs(i,l)||(n=!0,cp(i,l));i=i.next}while(n);uu=!1}}function EE(){v0()}function v0(){Oa=rc=!1;var t=0;ti!==0&&DE()&&(t=ti);for(var e=St(),n=null,i=ka;i!==null;){var o=i.next,l=S0(i,e);l===0?(i.next=null,n===null?ka=o:n.next=o,o===null&&(yo=n)):(n=i,(t!==0||l&3)&&(Oa=!0)),i=o}Pe!==0&&Pe!==5||Cs(t),ti!==0&&(ti=0)}function S0(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,l=t.pendingLanes&-62914561;0<l;){var s=31-Et(l),r=1<<s,c=o[s];c===-1?(!(r&n)||r&i)&&(o[s]=$S(r,e)):c<=e&&(t.expiredLanes|=r),l&=~r}if(e=ge,n=te,n=lr(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(fe===2||fe===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Pr(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||gs(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Pr(i),Zc(n)){case 2:case 8:n=sm;break;case 32:n=va;break;case 268435456:n=am;break;default:n=va}return i=T0.bind(null,t),n=Xc(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Pr(i),t.callbackPriority=2,t.callbackNode=null,2}function T0(t,e){if(Pe!==0&&Pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Sr()&&t.callbackNode!==n)return null;var i=te;return i=lr(t,t===ge?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(l0(t,i,e),S0(t,St()),t.callbackNode!=null&&t.callbackNode===n?T0.bind(null,t):null)}function cp(t,e){if(Sr())return null;l0(t,e,!0)}function CE(){UE(function(){re&6?Xc(lm,EE):v0()})}function Of(){if(ti===0){var t=Jo;t===0&&(t=Is,Is<<=1,!(Is&261888)&&(Is=256)),ti=t}return ti}function fp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:js(""+t)}function dp(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function AE(t,e,n,i,o){if(e==="submit"&&n&&n.stateNode===o){var l=fp((o[dt]||null).action),s=i.submitter;s&&(e=(e=s[dt]||null)?fp(e.formAction):s.getAttribute("formAction"),e!==null&&(l=e,s=null));var r=new sr("action","action",null,i,o);t.push({event:r,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ti!==0){var c=s?dp(o,s):new FormData(o);Wu(n,{pending:!0,data:c,method:o.method,action:l},null,c)}}else typeof l=="function"&&(r.preventDefault(),c=s?dp(o,s):new FormData(o),Wu(n,{pending:!0,data:c,method:o.method,action:l},l,c))},currentTarget:o}]})}}for(var cu=0;cu<Vu.length;cu++){var fu=Vu[cu],_E=fu.toLowerCase(),xE=fu[0].toUpperCase()+fu.slice(1);Kt(_E,"on"+xE)}Kt(Dm,"onAnimationEnd");Kt(Lm,"onAnimationIteration");Kt(Um,"onAnimationStart");Kt("dblclick","onDoubleClick");Kt("focusin","onFocus");Kt("focusout","onBlur");Kt(zT,"onTransitionRun");Kt(BT,"onTransitionStart");Kt(qT,"onTransitionCancel");Kt(km,"onTransitionEnd");qo("onMouseEnter",["mouseout","mouseover"]);qo("onMouseLeave",["mouseout","mouseover"]);qo("onPointerEnter",["pointerout","pointerover"]);qo("onPointerLeave",["pointerout","pointerover"]);Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var as="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(as));function E0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],o=i.event;i=i.listeners;e:{var l=void 0;if(e)for(var s=i.length-1;0<=s;s--){var r=i[s],c=r.instance,f=r.currentTarget;if(r=r.listener,c!==l&&o.isPropagationStopped())break e;l=r,o.currentTarget=f;try{l(o)}catch(d){Ta(d)}o.currentTarget=null,l=c}else for(s=0;s<i.length;s++){if(r=i[s],c=r.instance,f=r.currentTarget,r=r.listener,c!==l&&o.isPropagationStopped())break e;l=r,o.currentTarget=f;try{l(o)}catch(d){Ta(d)}o.currentTarget=null,l=c}}}}function j(t,e){var n=e[Du];n===void 0&&(n=e[Du]=new Set);var i=t+"__bubble";n.has(i)||(C0(e,t,2,!1),n.add(i))}function du(t,e,n){var i=0;e&&(i|=4),C0(n,t,i,e)}var zs="_reactListening"+Math.random().toString(36).slice(2);function Pf(t){if(!t[zs]){t[zs]=!0,pm.forEach(function(n){n!=="selectionchange"&&(wE.has(n)||du(n,!1,t),du(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zs]||(e[zs]=!0,du("selectionchange",!1,e))}}function C0(t,e,n,i){switch(k0(e)){case 2:var o=eC;break;case 8:o=tC;break;default:o=zf}n=o.bind(null,e,n,t),o=void 0,!Pu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),i?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function pu(t,e,n,i,o){var l=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var r=i.stateNode.containerInfo;if(r===o)break;if(s===4)for(s=i.return;s!==null;){var c=s.tag;if((c===3||c===4)&&s.stateNode.containerInfo===o)return;s=s.return}for(;r!==null;){if(s=Eo(r),s===null)return;if(c=s.tag,c===5||c===6||c===26||c===27){i=l=s;continue e}r=r.parentNode}}i=i.return}Em(function(){var f=l,d=ef(n),h=[];e:{var p=Om.get(t);if(p!==void 0){var g=sr,v=t;switch(t){case"keypress":if(ta(n)===0)break e;case"keydown":case"keyup":g=ST;break;case"focusin":v="focus",g=Br;break;case"focusout":v="blur",g=Br;break;case"beforeblur":case"afterblur":g=Br;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Td;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=aT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=CT;break;case Dm:case Lm:case Um:g=cT;break;case km:g=_T;break;case"scroll":case"scrollend":g=lT;break;case"wheel":g=wT;break;case"copy":case"cut":case"paste":g=dT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Cd;break;case"toggle":case"beforetoggle":g=RT}var E=(e&4)!==0,A=!E&&(t==="scroll"||t==="scrollend"),y=E?p!==null?p+"Capture":null:p;E=[];for(var m=f,T;m!==null;){var C=m;if(T=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||T===null||y===null||(C=jl(m,y),C!=null&&E.push(rs(m,C,T))),A)break;m=m.return}0<E.length&&(p=new g(p,v,null,n,d),h.push({event:p,listeners:E}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Ou&&(v=n.relatedTarget||n.fromElement)&&(Eo(v)||v[el]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=f,v=v?Eo(v):null,v!==null&&(A=ps(v),E=v.tag,v!==A||E!==5&&E!==27&&E!==6)&&(v=null)):(g=null,v=f),g!==v)){if(E=Td,C="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(E=Cd,C="onPointerLeave",y="onPointerEnter",m="pointer"),A=g==null?p:Ll(g),T=v==null?p:Ll(v),p=new E(C,m+"leave",g,n,d),p.target=A,p.relatedTarget=T,C=null,Eo(d)===f&&(E=new E(y,m+"enter",v,n,d),E.target=T,E.relatedTarget=A,C=E),A=C,g&&v)t:{for(E=bE,y=g,m=v,T=0,C=y;C;C=E(C))T++;C=0;for(var x=m;x;x=E(x))C++;for(;0<T-C;)y=E(y),T--;for(;0<C-T;)m=E(m),C--;for(;T--;){if(y===m||m!==null&&y===m.alternate){E=y;break t}y=E(y),m=E(m)}E=null}else E=null;g!==null&&pp(h,p,g,E,!1),v!==null&&A!==null&&pp(h,A,v,E,!0)}}e:{if(p=f?Ll(f):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var M=wd;else if(xd(p))if(bm)M=HT;else{M=OT;var _=kT}else g=p.nodeName,!g||g.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?f&&jc(f.elementType)&&(M=wd):M=PT;if(M&&(M=M(t,f))){wm(h,M,n,d);break e}_&&_(t,p,f),t==="focusout"&&f&&p.type==="number"&&f.memoizedProps.value!=null&&ku(p,"number",p.value)}switch(_=f?Ll(f):window,t){case"focusin":(xd(_)||_.contentEditable==="true")&&(_o=_,Hu=f,Vl=null);break;case"focusout":Vl=Hu=_o=null;break;case"mousedown":Gu=!0;break;case"contextmenu":case"mouseup":case"dragend":Gu=!1,Id(h,n,d);break;case"selectionchange":if(VT)break;case"keydown":case"keyup":Id(h,n,d)}var N;if(of)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ao?_m(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Am&&n.locale!=="ko"&&(Ao||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ao&&(N=Cm()):(Wn=d,tf="value"in Wn?Wn.value:Wn.textContent,Ao=!0)),_=Pa(f,b),0<_.length&&(b=new Ed(b,t,null,n,d),h.push({event:b,listeners:_}),N?b.data=N:(N=xm(n),N!==null&&(b.data=N)))),(N=MT?IT(t,n):DT(t,n))&&(b=Pa(f,"onBeforeInput"),0<b.length&&(_=new Ed("onBeforeInput","beforeinput",null,n,d),h.push({event:_,listeners:b}),_.data=N)),AE(h,t,f,n,d)}E0(h,e)})}function rs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pa(t,e){for(var n=e+"Capture",i=[];t!==null;){var o=t,l=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||l===null||(o=jl(t,n),o!=null&&i.unshift(rs(t,o,l)),o=jl(t,e),o!=null&&i.push(rs(t,o,l))),t.tag===3)return i;t=t.return}return[]}function bE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function pp(t,e,n,i,o){for(var l=e._reactName,s=[];n!==null&&n!==i;){var r=n,c=r.alternate,f=r.stateNode;if(r=r.tag,c!==null&&c===i)break;r!==5&&r!==26&&r!==27||f===null||(c=f,o?(f=jl(n,l),f!=null&&s.unshift(rs(n,f,c))):o||(f=jl(n,l),f!=null&&s.push(rs(n,f,c)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var RE=/\r\n?/g,NE=/\u0000|\uFFFD/g;function hp(t){return(typeof t=="string"?t:""+t).replace(RE,`
`).replace(NE,"")}function A0(t,e){return e=hp(e),hp(t)===e}function pe(t,e,n,i,o,l){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Fo(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Fo(t,""+i);break;case"className":Us(t,"class",i);break;case"tabIndex":Us(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Us(t,n,i);break;case"style":Tm(t,i,l);break;case"data":if(e!=="object"){Us(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=js(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof l=="function"&&(n==="formAction"?(e!=="input"&&pe(t,e,"name",o.name,o,null),pe(t,e,"formEncType",o.formEncType,o,null),pe(t,e,"formMethod",o.formMethod,o,null),pe(t,e,"formTarget",o.formTarget,o,null)):(pe(t,e,"encType",o.encType,o,null),pe(t,e,"method",o.method,o,null),pe(t,e,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=js(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=Cn);break;case"onScroll":i!=null&&j("scroll",t);break;case"onScrollEnd":i!=null&&j("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(R(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(R(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=js(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":j("beforetoggle",t),j("toggle",t),Ws(t,"popover",i);break;case"xlinkActuate":hn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":hn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":hn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":hn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":hn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":hn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":hn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":hn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":hn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Ws(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=iT.get(n)||n,Ws(t,n,i))}}function uc(t,e,n,i,o,l){switch(n){case"style":Tm(t,i,l);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(R(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(R(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Fo(t,i):(typeof i=="number"||typeof i=="bigint")&&Fo(t,""+i);break;case"onScroll":i!=null&&j("scroll",t);break;case"onScrollEnd":i!=null&&j("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hm.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),e=n.slice(2,o?n.length-7:void 0),l=t[dt]||null,l=l!=null?l[n]:null,typeof l=="function"&&t.removeEventListener(e,l,o),typeof i=="function")){typeof l!="function"&&l!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,o);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):Ws(t,n,i)}}}function $e(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":j("error",t),j("load",t);var i=!1,o=!1,l;for(l in n)if(n.hasOwnProperty(l)){var s=n[l];if(s!=null)switch(l){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(R(137,e));default:pe(t,e,l,s,n,null)}}o&&pe(t,e,"srcSet",n.srcSet,n,null),i&&pe(t,e,"src",n.src,n,null);return;case"input":j("invalid",t);var r=l=s=o=null,c=null,f=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":o=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":f=d;break;case"value":l=d;break;case"defaultValue":r=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(R(137,e));break;default:pe(t,e,i,d,n,null)}}ym(t,l,r,c,f,s,o,!1);return;case"select":j("invalid",t),i=s=l=null;for(o in n)if(n.hasOwnProperty(o)&&(r=n[o],r!=null))switch(o){case"value":l=r;break;case"defaultValue":s=r;break;case"multiple":i=r;default:pe(t,e,o,r,n,null)}e=l,n=s,t.multiple=!!i,e!=null?Uo(t,!!i,e,!1):n!=null&&Uo(t,!!i,n,!0);return;case"textarea":j("invalid",t),l=o=i=null;for(s in n)if(n.hasOwnProperty(s)&&(r=n[s],r!=null))switch(s){case"value":i=r;break;case"defaultValue":o=r;break;case"children":l=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(R(91));break;default:pe(t,e,s,r,n,null)}Sm(t,i,o,l);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:pe(t,e,c,i,n,null)}return;case"dialog":j("beforetoggle",t),j("toggle",t),j("cancel",t),j("close",t);break;case"iframe":case"object":j("load",t);break;case"video":case"audio":for(i=0;i<as.length;i++)j(as[i],t);break;case"image":j("error",t),j("load",t);break;case"details":j("toggle",t);break;case"embed":case"source":case"link":j("error",t),j("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in n)if(n.hasOwnProperty(f)&&(i=n[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(R(137,e));default:pe(t,e,f,i,n,null)}return;default:if(jc(e)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&uc(t,e,d,i,n,void 0));return}}for(r in n)n.hasOwnProperty(r)&&(i=n[r],i!=null&&pe(t,e,r,i,n,null))}function ME(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,l=null,s=null,r=null,c=null,f=null,d=null;for(g in n){var h=n[g];if(n.hasOwnProperty(g)&&h!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":c=h;default:i.hasOwnProperty(g)||pe(t,e,g,null,i,h)}}for(var p in i){var g=i[p];if(h=n[p],i.hasOwnProperty(p)&&(g!=null||h!=null))switch(p){case"type":l=g;break;case"name":o=g;break;case"checked":f=g;break;case"defaultChecked":d=g;break;case"value":s=g;break;case"defaultValue":r=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(R(137,e));break;default:g!==h&&pe(t,e,p,g,i,h)}}Uu(t,s,r,c,f,d,l,o);return;case"select":g=s=r=p=null;for(l in n)if(c=n[l],n.hasOwnProperty(l)&&c!=null)switch(l){case"value":break;case"multiple":g=c;default:i.hasOwnProperty(l)||pe(t,e,l,null,i,c)}for(o in i)if(l=i[o],c=n[o],i.hasOwnProperty(o)&&(l!=null||c!=null))switch(o){case"value":p=l;break;case"defaultValue":r=l;break;case"multiple":s=l;default:l!==c&&pe(t,e,o,l,i,c)}e=r,n=s,i=g,p!=null?Uo(t,!!n,p,!1):!!i!=!!n&&(e!=null?Uo(t,!!n,e,!0):Uo(t,!!n,n?[]:"",!1));return;case"textarea":g=p=null;for(r in n)if(o=n[r],n.hasOwnProperty(r)&&o!=null&&!i.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:pe(t,e,r,null,i,o)}for(s in i)if(o=i[s],l=n[s],i.hasOwnProperty(s)&&(o!=null||l!=null))switch(s){case"value":p=o;break;case"defaultValue":g=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(R(91));break;default:o!==l&&pe(t,e,s,o,i,l)}vm(t,p,g);return;case"option":for(var v in n)if(p=n[v],n.hasOwnProperty(v)&&p!=null&&!i.hasOwnProperty(v))switch(v){case"selected":t.selected=!1;break;default:pe(t,e,v,null,i,p)}for(c in i)if(p=i[c],g=n[c],i.hasOwnProperty(c)&&p!==g&&(p!=null||g!=null))switch(c){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:pe(t,e,c,p,i,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var E in n)p=n[E],n.hasOwnProperty(E)&&p!=null&&!i.hasOwnProperty(E)&&pe(t,e,E,null,i,p);for(f in i)if(p=i[f],g=n[f],i.hasOwnProperty(f)&&p!==g&&(p!=null||g!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(R(137,e));break;default:pe(t,e,f,p,i,g)}return;default:if(jc(e)){for(var A in n)p=n[A],n.hasOwnProperty(A)&&p!==void 0&&!i.hasOwnProperty(A)&&uc(t,e,A,void 0,i,p);for(d in i)p=i[d],g=n[d],!i.hasOwnProperty(d)||p===g||p===void 0&&g===void 0||uc(t,e,d,p,i,g);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&p!=null&&!i.hasOwnProperty(y)&&pe(t,e,y,null,i,p);for(h in i)p=i[h],g=n[h],!i.hasOwnProperty(h)||p===g||p==null&&g==null||pe(t,e,h,p,i,g)}function gp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function IE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var o=n[i],l=o.transferSize,s=o.initiatorType,r=o.duration;if(l&&r&&gp(s)){for(s=0,r=o.responseEnd,i+=1;i<n.length;i++){var c=n[i],f=c.startTime;if(f>r)break;var d=c.transferSize,h=c.initiatorType;d&&gp(h)&&(c=c.responseEnd,s+=d*(c<r?1:(r-f)/(c-f)))}if(--i,e+=8*(l+s)/(o.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var cc=null,fc=null;function Ha(t){return t.nodeType===9?t:t.ownerDocument}function mp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _0(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function dc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hu=null;function DE(){var t=window.event;return t&&t.type==="popstate"?t===hu?!1:(hu=t,!0):(hu=null,!1)}var x0=typeof setTimeout=="function"?setTimeout:void 0,LE=typeof clearTimeout=="function"?clearTimeout:void 0,yp=typeof Promise=="function"?Promise:void 0,UE=typeof queueMicrotask=="function"?queueMicrotask:typeof yp<"u"?function(t){return yp.resolve(null).then(t).catch(kE)}:x0;function kE(t){setTimeout(function(){throw t})}function mi(t){return t==="head"}function vp(t,e){var n=e,i=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(o),Wo(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Ql(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Ql(n);for(var l=n.firstChild;l;){var s=l.nextSibling,r=l.nodeName;l[ys]||r==="SCRIPT"||r==="STYLE"||r==="LINK"&&l.rel.toLowerCase()==="stylesheet"||n.removeChild(l),l=s}}else n==="body"&&Ql(t.ownerDocument.body);n=o}while(n);Wo(e)}function Sp(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function pc(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":pc(n),Wc(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function OE(t,e,n,i){for(;t.nodeType===1;){var o=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[ys])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(l=t.getAttribute("rel"),l==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(l!==o.rel||t.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||t.getAttribute("title")!==(o.title==null?null:o.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(l=t.getAttribute("src"),(l!==(o.src==null?null:o.src)||t.getAttribute("type")!==(o.type==null?null:o.type)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&l&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var l=o.name==null?null:""+o.name;if(o.type==="hidden"&&t.getAttribute("name")===l)return t}else return t;if(t=Ot(t.nextSibling),t===null)break}return null}function PE(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ot(t.nextSibling),t===null))return null;return t}function w0(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Ot(t.nextSibling),t===null))return null;return t}function hc(t){return t.data==="$?"||t.data==="$~"}function gc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function HE(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Ot(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var mc=null;function Tp(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Ot(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Ep(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function b0(t,e,n){switch(e=Ha(n),t){case"html":if(t=e.documentElement,!t)throw Error(R(452));return t;case"head":if(t=e.head,!t)throw Error(R(453));return t;case"body":if(t=e.body,!t)throw Error(R(454));return t;default:throw Error(R(451))}}function Ql(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Wc(t)}var Ht=new Map,Cp=new Set;function Ga(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ln=ue.d;ue.d={f:GE,r:VE,D:zE,C:BE,L:qE,m:FE,X:YE,S:JE,M:KE};function GE(){var t=Ln.f(),e=yr();return t||e}function VE(t){var e=tl(t);e!==null&&e.tag===5&&e.type==="form"?Ty(e):Ln.r(t)}var ll=typeof document>"u"?null:document;function R0(t,e,n){var i=ll;if(i&&typeof e=="string"&&e){var o=Dt(e);o='link[rel="'+t+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),Cp.has(o)||(Cp.add(o),t={rel:t,crossOrigin:n,href:e},i.querySelector(o)===null&&(e=i.createElement("link"),$e(e,"link",t),Ve(e),i.head.appendChild(e)))}}function zE(t){Ln.D(t),R0("dns-prefetch",t,null)}function BE(t,e){Ln.C(t,e),R0("preconnect",t,e)}function qE(t,e,n){Ln.L(t,e,n);var i=ll;if(i&&t&&e){var o='link[rel="preload"][as="'+Dt(e)+'"]';e==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Dt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Dt(n.imageSizes)+'"]')):o+='[href="'+Dt(t)+'"]';var l=o;switch(e){case"style":l=Zo(t);break;case"script":l=sl(t)}Ht.has(l)||(t=Te({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Ht.set(l,t),i.querySelector(o)!==null||e==="style"&&i.querySelector(As(l))||e==="script"&&i.querySelector(_s(l))||(e=i.createElement("link"),$e(e,"link",t),Ve(e),i.head.appendChild(e)))}}function FE(t,e){Ln.m(t,e);var n=ll;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",o='link[rel="modulepreload"][as="'+Dt(i)+'"][href="'+Dt(t)+'"]',l=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=sl(t)}if(!Ht.has(l)&&(t=Te({rel:"modulepreload",href:t},e),Ht.set(l,t),n.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(_s(l)))return}i=n.createElement("link"),$e(i,"link",t),Ve(i),n.head.appendChild(i)}}}function JE(t,e,n){Ln.S(t,e,n);var i=ll;if(i&&t){var o=Lo(i).hoistableStyles,l=Zo(t);e=e||"default";var s=o.get(l);if(!s){var r={loading:0,preload:null};if(s=i.querySelector(As(l)))r.loading=5;else{t=Te({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Ht.get(l))&&Hf(t,n);var c=s=i.createElement("link");Ve(c),$e(c,"link",t),c._p=new Promise(function(f,d){c.onload=f,c.onerror=d}),c.addEventListener("load",function(){r.loading|=1}),c.addEventListener("error",function(){r.loading|=2}),r.loading|=4,ua(s,e,i)}s={type:"stylesheet",instance:s,count:1,state:r},o.set(l,s)}}}function YE(t,e){Ln.X(t,e);var n=ll;if(n&&t){var i=Lo(n).hoistableScripts,o=sl(t),l=i.get(o);l||(l=n.querySelector(_s(o)),l||(t=Te({src:t,async:!0},e),(e=Ht.get(o))&&Gf(t,e),l=n.createElement("script"),Ve(l),$e(l,"link",t),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},i.set(o,l))}}function KE(t,e){Ln.M(t,e);var n=ll;if(n&&t){var i=Lo(n).hoistableScripts,o=sl(t),l=i.get(o);l||(l=n.querySelector(_s(o)),l||(t=Te({src:t,async:!0,type:"module"},e),(e=Ht.get(o))&&Gf(t,e),l=n.createElement("script"),Ve(l),$e(l,"link",t),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},i.set(o,l))}}function Ap(t,e,n,i){var o=(o=ni.current)?Ga(o):null;if(!o)throw Error(R(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Zo(n.href),n=Lo(o).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Zo(n.href);var l=Lo(o).hoistableStyles,s=l.get(t);if(s||(o=o.ownerDocument||o,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},l.set(t,s),(l=o.querySelector(As(t)))&&!l._p&&(s.instance=l,s.state.loading=5),Ht.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ht.set(t,n),l||$E(o,t,n,s.state))),e&&i===null)throw Error(R(528,""));return s}if(e&&i!==null)throw Error(R(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=sl(n),n=Lo(o).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(R(444,t))}}function Zo(t){return'href="'+Dt(t)+'"'}function As(t){return'link[rel="stylesheet"]['+t+"]"}function N0(t){return Te({},t,{"data-precedence":t.precedence,precedence:null})}function $E(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),$e(e,"link",n),Ve(e),t.head.appendChild(e))}function sl(t){return'[src="'+Dt(t)+'"]'}function _s(t){return"script[async]"+t}function _p(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+Dt(n.href)+'"]');if(i)return e.instance=i,Ve(i),i;var o=Te({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Ve(i),$e(i,"style",o),ua(i,n.precedence,t),e.instance=i;case"stylesheet":o=Zo(n.href);var l=t.querySelector(As(o));if(l)return e.state.loading|=4,e.instance=l,Ve(l),l;i=N0(n),(o=Ht.get(o))&&Hf(i,o),l=(t.ownerDocument||t).createElement("link"),Ve(l);var s=l;return s._p=new Promise(function(r,c){s.onload=r,s.onerror=c}),$e(l,"link",i),e.state.loading|=4,ua(l,n.precedence,t),e.instance=l;case"script":return l=sl(n.src),(o=t.querySelector(_s(l)))?(e.instance=o,Ve(o),o):(i=n,(o=Ht.get(l))&&(i=Te({},n),Gf(i,o)),t=t.ownerDocument||t,o=t.createElement("script"),Ve(o),$e(o,"link",i),t.head.appendChild(o),e.instance=o);case"void":return null;default:throw Error(R(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,ua(i,n.precedence,t));return e.instance}function ua(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,l=o,s=0;s<i.length;s++){var r=i[s];if(r.dataset.precedence===e)l=r;else if(l!==o)break}l?l.parentNode.insertBefore(t,l.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Hf(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Gf(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var ca=null;function xp(t,e,n){if(ca===null){var i=new Map,o=ca=new Map;o.set(n,i)}else o=ca,i=o.get(n),i||(i=new Map,o.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),o=0;o<n.length;o++){var l=n[o];if(!(l[ys]||l[Je]||t==="link"&&l.getAttribute("rel")==="stylesheet")&&l.namespaceURI!=="http://www.w3.org/2000/svg"){var s=l.getAttribute(e)||"";s=t+s;var r=i.get(s);r?r.push(l):i.set(s,[l])}}return i}function wp(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function XE(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function M0(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function QE(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var o=Zo(i.href),l=e.querySelector(As(o));if(l){e=l._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Va.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=l,Ve(l);return}l=e.ownerDocument||e,i=N0(i),(o=Ht.get(o))&&Hf(i,o),l=l.createElement("link"),Ve(l);var s=l;s._p=new Promise(function(r,c){s.onload=r,s.onerror=c}),$e(l,"link",i),n.instance=l}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Va.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var gu=0;function ZE(t,e){return t.stylesheets&&t.count===0&&fa(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&fa(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4+e);0<t.imgBytes&&gu===0&&(gu=62500*IE());var o=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&fa(t,t.stylesheets),t.unsuspend)){var l=t.unsuspend;t.unsuspend=null,l()}},(t.imgBytes>gu?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function Va(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fa(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var za=null;function fa(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,za=new Map,e.forEach(WE,t),za=null,Va.call(t))}function WE(t,e){if(!(e.state.loading&4)){var n=za.get(t);if(n)var i=n.get(null);else{n=new Map,za.set(t,n);for(var o=t.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<o.length;l++){var s=o[l];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}o=e.instance,s=o.getAttribute("data-precedence"),l=n.get(s)||i,l===i&&n.set(null,o),n.set(s,o),this.count++,i=Va.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),l?l.parentNode.insertBefore(o,l.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(o,t.firstChild)),e.state.loading|=4}}var us={$$typeof:En,Provider:null,Consumer:null,_currentValue:Ui,_currentValue2:Ui,_threadCount:0};function jE(t,e,n,i,o,l,s,r,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hr(0),this.hiddenUpdates=Hr(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=l,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function I0(t,e,n,i,o,l,s,r,c,f,d,h){return t=new jE(t,e,n,s,c,f,d,h,r),e=1,l===!0&&(e|=24),l=yt(3,null,null,e),t.current=l,l.stateNode=t,e=ff(),e.refCount++,t.pooledCache=e,e.refCount++,l.memoizedState={element:i,isDehydrated:n,cache:e},hf(l),t}function D0(t){return t?(t=bo,t):bo}function L0(t,e,n,i,o,l){o=D0(o),i.context===null?i.context=o:i.pendingContext=o,i=oi(e),i.payload={element:n},l=l===void 0?null:l,l!==null&&(i.callback=l),n=li(t,i,e),n!==null&&(ft(n,t,e),Bl(n,t,e))}function bp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vf(t,e){bp(t,e),(t=t.alternate)&&bp(t,e)}function U0(t){if(t.tag===13||t.tag===31){var e=Xi(t,67108864);e!==null&&ft(e,t,67108864),Vf(t,67108864)}}function Rp(t){if(t.tag===13||t.tag===31){var e=Ct();e=Qc(e);var n=Xi(t,e);n!==null&&ft(n,t,e),Vf(t,e)}}var Ba=!0;function eC(t,e,n,i){var o=F.T;F.T=null;var l=ue.p;try{ue.p=2,zf(t,e,n,i)}finally{ue.p=l,F.T=o}}function tC(t,e,n,i){var o=F.T;F.T=null;var l=ue.p;try{ue.p=8,zf(t,e,n,i)}finally{ue.p=l,F.T=o}}function zf(t,e,n,i){if(Ba){var o=yc(i);if(o===null)pu(t,e,i,qa,n),Np(t,i);else if(iC(o,t,e,n,i))i.stopPropagation();else if(Np(t,i),e&4&&-1<nC.indexOf(t)){for(;o!==null;){var l=tl(o);if(l!==null)switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var s=Mi(l.pendingLanes);if(s!==0){var r=l;for(r.pendingLanes|=2,r.entangledLanes|=2;s;){var c=1<<31-Et(s);r.entanglements[1]|=c,s&=~c}rn(l),!(re&6)&&(Da=St()+500,Cs(0))}}break;case 31:case 13:r=Xi(l,2),r!==null&&ft(r,l,2),yr(),Vf(l,2)}if(l=yc(i),l===null&&pu(t,e,i,qa,n),l===o)break;o=l}o!==null&&i.stopPropagation()}else pu(t,e,i,null,n)}}function yc(t){return t=ef(t),Bf(t)}var qa=null;function Bf(t){if(qa=null,t=Eo(t),t!==null){var e=ps(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=em(e),t!==null)return t;t=null}else if(n===31){if(t=tm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return qa=t,null}function k0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zS()){case lm:return 2;case sm:return 8;case va:case BS:return 32;case am:return 268435456;default:return 32}default:return 32}}var vc=!1,ri=null,ui=null,ci=null,cs=new Map,fs=new Map,Qn=[],nC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Np(t,e){switch(t){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":cs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fs.delete(e.pointerId)}}function bl(t,e,n,i,o,l){return t===null||t.nativeEvent!==l?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:l,targetContainers:[o]},e!==null&&(e=tl(e),e!==null&&U0(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function iC(t,e,n,i,o){switch(e){case"focusin":return ri=bl(ri,t,e,n,i,o),!0;case"dragenter":return ui=bl(ui,t,e,n,i,o),!0;case"mouseover":return ci=bl(ci,t,e,n,i,o),!0;case"pointerover":var l=o.pointerId;return cs.set(l,bl(cs.get(l)||null,t,e,n,i,o)),!0;case"gotpointercapture":return l=o.pointerId,fs.set(l,bl(fs.get(l)||null,t,e,n,i,o)),!0}return!1}function O0(t){var e=Eo(t.target);if(e!==null){var n=ps(e);if(n!==null){if(e=n.tag,e===13){if(e=em(n),e!==null){t.blockedOn=e,pd(t.priority,function(){Rp(n)});return}}else if(e===31){if(e=tm(n),e!==null){t.blockedOn=e,pd(t.priority,function(){Rp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function da(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=yc(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Ou=i,n.target.dispatchEvent(i),Ou=null}else return e=tl(n),e!==null&&U0(e),t.blockedOn=n,!1;e.shift()}return!0}function Mp(t,e,n){da(t)&&n.delete(e)}function oC(){vc=!1,ri!==null&&da(ri)&&(ri=null),ui!==null&&da(ui)&&(ui=null),ci!==null&&da(ci)&&(ci=null),cs.forEach(Mp),fs.forEach(Mp)}function Bs(t,e){t.blockedOn===e&&(t.blockedOn=null,vc||(vc=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,oC)))}var qs=null;function Ip(t){qs!==t&&(qs=t,He.unstable_scheduleCallback(He.unstable_NormalPriority,function(){qs===t&&(qs=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],o=t[e+2];if(typeof i!="function"){if(Bf(i||n)===null)continue;break}var l=tl(n);l!==null&&(t.splice(e,3),e-=3,Wu(l,{pending:!0,data:o,method:n.method,action:i},i,o))}}))}function Wo(t){function e(c){return Bs(c,t)}ri!==null&&Bs(ri,t),ui!==null&&Bs(ui,t),ci!==null&&Bs(ci,t),cs.forEach(e),fs.forEach(e);for(var n=0;n<Qn.length;n++){var i=Qn[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Qn.length&&(n=Qn[0],n.blockedOn===null);)O0(n),n.blockedOn===null&&Qn.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var o=n[i],l=n[i+1],s=o[dt]||null;if(typeof l=="function")s||Ip(n);else if(s){var r=null;if(l&&l.hasAttribute("formAction")){if(o=l,s=l[dt]||null)r=s.formAction;else if(Bf(o)!==null)continue}else r=s.action;typeof r=="function"?n[i+1]=r:(n.splice(i,3),i-=3),Ip(n)}}}function P0(){function t(l){l.canIntercept&&l.info==="react-transition"&&l.intercept({handler:function(){return new Promise(function(s){return o=s})},focusReset:"manual",scroll:"manual"})}function e(){o!==null&&(o(),o=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var l=navigation.currentEntry;l&&l.url!=null&&navigation.navigate(l.url,{state:l.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),o!==null&&(o(),o=null)}}}function qf(t){this._internalRoot=t}Tr.prototype.render=qf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));var n=e.current,i=Ct();L0(n,i,t,e,null,null)};Tr.prototype.unmount=qf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;L0(t.current,2,null,t,null,null),yr(),e[el]=null}};function Tr(t){this._internalRoot=t}Tr.prototype.unstable_scheduleHydration=function(t){if(t){var e=dm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qn.length&&e!==0&&e<Qn[n].priority;n++);Qn.splice(n,0,t),n===0&&O0(t)}};var Dp=Wg.version;if(Dp!=="19.2.3")throw Error(R(527,Dp,"19.2.3"));ue.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=US(e),t=t!==null?nm(t):null,t=t===null?null:t.stateNode,t};var lC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fs.isDisabled&&Fs.supportsFiber)try{hs=Fs.inject(lC),Tt=Fs}catch{}}ir.createRoot=function(t,e){if(!jg(t))throw Error(R(299));var n=!1,i="",o=Ry,l=Ny,s=My;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(o=e.onUncaughtError),e.onCaughtError!==void 0&&(l=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=I0(t,1,!1,null,null,n,i,null,o,l,s,P0),t[el]=e.current,Pf(t),new qf(e)};ir.hydrateRoot=function(t,e,n){if(!jg(t))throw Error(R(299));var i=!1,o="",l=Ry,s=Ny,r=My,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(l=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(r=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),e=I0(t,1,!0,e,n??null,i,o,c,l,s,r,P0),e.context=D0(null),n=e.current,i=Ct(),i=Qc(i),o=oi(i),o.callback=null,li(n,o,i),n=i,e.current.lanes=n,ms(e,n),rn(e),t[el]=e.current,Pf(t),new Tr(e)};ir.version="19.2.3";function H0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(H0)}catch(t){console.error(t)}}H0(),Yg.exports=ir;var sC=Yg.exports;const aC=Og(sC),rC=(t,e,n,i)=>{var l,s,r,c;const o=[n,{code:e,...i||{}}];if((s=(l=t==null?void 0:t.services)==null?void 0:l.logger)!=null&&s.forward)return t.services.logger.forward(o,"warn","react-i18next::",!0);Gi(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),(c=(r=t==null?void 0:t.services)==null?void 0:r.logger)!=null&&c.warn?t.services.logger.warn(...o):console!=null&&console.warn&&console.warn(...o)},Lp={},Sc=(t,e,n,i)=>{Gi(n)&&Lp[n]||(Gi(n)&&(Lp[n]=new Date),rC(t,e,n,i))},G0=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Tc=(t,e,n)=>{t.loadNamespaces(e,G0(t,n))},Up=(t,e,n,i)=>{if(Gi(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Tc(t,n,i);n.forEach(o=>{t.options.ns.indexOf(o)<0&&t.options.ns.push(o)}),t.loadLanguages(e,G0(t,i))},uC=(t,e,n={})=>!e.languages||!e.languages.length?(Sc(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(i,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!o(i.isLanguageChangingTo,t))return!1}}),Gi=t=>typeof t=="string",cC=t=>typeof t=="object"&&t!==null,fC=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,dC={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},pC=t=>dC[t],hC=t=>t.replace(fC,pC);let Ec={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:hC};const gC=(t={})=>{Ec={...Ec,...t}},mC=()=>Ec;let V0;const yC=t=>{V0=t},vC=()=>V0,SC={type:"3rdParty",init(t){gC(t.options.react),yC(t)}},TC=w.createContext();class EC{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const CC=(t,e)=>{const n=w.useRef();return w.useEffect(()=>{n.current=t},[t,e]),n.current},z0=(t,e,n,i)=>t.getFixedT(e,n,i),AC=(t,e,n,i)=>w.useCallback(z0(t,e,n,i),[t,e,n,i]),Zi=(t,e={})=>{var C,x,M,_;const{i18n:n}=e,{i18n:i,defaultNS:o}=w.useContext(TC)||{},l=n||i||vC();if(l&&!l.reportNamespaces&&(l.reportNamespaces=new EC),!l){Sc(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const N=(L,z)=>Gi(z)?z:cC(z)&&Gi(z.defaultValue)?z.defaultValue:Array.isArray(L)?L[L.length-1]:L,b=[N,{},!1];return b.t=N,b.i18n={},b.ready=!1,b}(C=l.options.react)!=null&&C.wait&&Sc(l,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...mC(),...l.options.react,...e},{useSuspense:r,keyPrefix:c}=s;let f=o||((x=l.options)==null?void 0:x.defaultNS);f=Gi(f)?[f]:f||["translation"],(_=(M=l.reportNamespaces).addUsedNamespaces)==null||_.call(M,f);const d=(l.isInitialized||l.initializedStoreOnce)&&f.every(N=>uC(N,l,s)),h=AC(l,e.lng||null,s.nsMode==="fallback"?f:f[0],c),p=()=>h,g=()=>z0(l,e.lng||null,s.nsMode==="fallback"?f:f[0],c),[v,E]=w.useState(p);let A=f.join();e.lng&&(A=`${e.lng}${A}`);const y=CC(A),m=w.useRef(!0);w.useEffect(()=>{const{bindI18n:N,bindI18nStore:b}=s;m.current=!0,!d&&!r&&(e.lng?Up(l,e.lng,f,()=>{m.current&&E(g)}):Tc(l,f,()=>{m.current&&E(g)})),d&&y&&y!==A&&m.current&&E(g);const L=()=>{m.current&&E(g)};return N&&(l==null||l.on(N,L)),b&&(l==null||l.store.on(b,L)),()=>{m.current=!1,l&&N&&(N==null||N.split(" ").forEach(z=>l.off(z,L))),b&&l&&b.split(" ").forEach(z=>l.store.off(z,L))}},[l,A]),w.useEffect(()=>{m.current&&d&&E(p)},[l,c,d]);const T=[v,l,d];if(T.t=v,T.i18n=l,T.ready=d,d||!d&&!r)return T;throw new Promise(N=>{e.lng?Up(l,e.lng,f,()=>N()):Tc(l,f,()=>N())})},Fa=[{code:"auto",name:"languages.autoDetect"},{code:"en",name:"languages.english"},{code:"zh-TW",name:"languages.chineseTraditional"},{code:"zh-HK",name:"languages.chineseTraditionalHK"},{code:"zh-CN",name:"languages.chineseSimplified"},{code:"es",name:"languages.spanish"},{code:"ja",name:"languages.japanese"},{code:"fr",name:"languages.french"},{code:"de",name:"languages.german"},{code:"ko",name:"languages.korean"},{code:"ru",name:"languages.russian"},{code:"pt",name:"languages.portuguese"},{code:"it",name:"languages.italian"}],Ja=[{name:"Gemma-3n-E2B (3.04 GB)",value:"gemma-3n-E2B-it-int4-Web.litertlm",url:"https://huggingface.co/willopcbeta/Gemma-3n-Web/resolve/main/gemma-3n-E2B-it-int4-Web.litertlm"},{name:"Gemma-3n-E4B (4.28 GB)",value:"gemma-3n-E4B-it-int4-Web.litertlm",url:"https://huggingface.co/willopcbeta/Gemma-3n-Web/resolve/main/gemma-3n-E4B-it-int4-Web.litertlm"}],_C=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})}),xC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4a4 4 0 100 8 4 4 0 000-8zM8 21v-2a4 4 0 014-4h0a4 4 0 014 4v2"})}),wC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4a4 4 0 100 8 4 4 0 000-8zM6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"})}),bC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),RC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),NC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),MC=t=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),IC=t=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),DC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5h12M9 3v2m4 13-4-4-4 4M5 11h10a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2a2 2 0 012-2zM19 9l-2 2-2-2"})}),xs=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),LC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16V4m0 12L4 9m3 3l3-3m6 8V4m0 12l3-3m-3 3l-3-3"})}),UC=t=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 1l4 4-4 4"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 11V9a4 4 0 014-4h14"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 23l-4-4 4-4"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13v2a4 4 0 01-4 4H3"})]}),B0=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),q0=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),kC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),OC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825L10 14h- hkmet 3L13 10V3L5.125 10.125m13.75 3.75L15 10m-2.125 8.825L18 14h-3l-1.875 4.825zM1 1l22 22"})}),PC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),HC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.111 16.222c1.733-1.733 4.589-1.733 6.322 0M5.444 13.556c3.222-3.222 8.444-3.222 11.667 0M2.778 10.889c4.711-4.711 12.333-4.711 17.044 0"})}),GC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.111 16.222c1.733-1.733 4.589-1.733 6.322 0M5.444 13.556c.9-1.033 2.022-1.9 3.222-2.589m5.667.122c.711.389 1.356.844 1.933 1.389M2.778 10.889a14.838 14.838 0 012.667-3.022m11.6.022a14.833 14.833 0 012.667 3.022M1 1l22 22"})}),VC=t=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",...t,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 017.5 5.25h9a2.25 2.25 0 012.25 2.25v9a2.25 2.25 0 01-2.25 2.25h-9a2.25 2.25 0 01-2.25-2.25v-9z"})}),F0=({selectedLang:t,setSelectedLang:e,languages:n})=>{const{t:i}=Zi(),[o,l]=w.useState(!1),[s,r]=w.useState("bottom"),c=w.useRef(null),f=w.useRef(null),d=p=>{e(p),l(!1)};w.useEffect(()=>{if(o&&f.current){const p=f.current.getBoundingClientRect(),g=240;window.innerHeight-p.bottom<g&&p.top>g?r("top"):r("bottom")}},[o]),w.useEffect(()=>{const p=g=>{c.current&&!c.current.contains(g.target)&&l(!1)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]);const h=s==="top"?"bottom-full mb-2":"mt-2";return S.jsxs("div",{className:"relative",ref:c,children:[S.jsxs("button",{ref:f,onClick:()=>l(!o),className:"flex items-center space-x-2 text-lg font-semibold text-gray-700 hover:text-blue-600",children:[S.jsx("span",{children:i(t.name)}),S.jsx(NC,{className:`h-2.5 w-2.5 transition-transform ${o?"rotate-180":""}`})]}),o&&S.jsx("div",{className:`absolute z-10 ${h} w-56 bg-white rounded-md shadow-lg border border-gray-100 max-h-60 overflow-y-auto`,children:S.jsx("ul",{className:"py-1",children:n.map(p=>S.jsx("li",{children:S.jsx("button",{onClick:()=>d(p),className:`w-full text-left px-4 py-2 text-sm ${t.code===p.code?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-100"}`,children:i(p.name)})},p.code))})})]})},kp=2500,zC=({inputText:t,setInputText:e,sourceLang:n,setSourceLang:i,isLoading:o,onTranslate:l,onCancel:s,isRecording:r,onToggleRecording:c,onOpenCamera:f,onOpenSettings:d,isOnline:h,isOfflineModeEnabled:p,isOfflineModelReady:g,recordingCountdown:v})=>{const{t:E}=Zi(),A=T=>{T.target.value.length<=kp&&e(T.target.value)},y=!t.trim()||r||(p?!g:!h),m=()=>{o?s():l()};return S.jsxs("div",{className:"bg-white rounded-xl shadow-md h-full flex flex-col p-4",children:[S.jsxs("div",{className:"flex justify-between items-center mb-2",children:[S.jsx(F0,{selectedLang:n,setSelectedLang:i,languages:Fa}),S.jsxs("div",{className:"flex items-center space-x-4 text-gray-500",children:[S.jsx("div",{title:E(h?"translationInput.online":"translationInput.offline"),children:h?S.jsx(HC,{className:"text-green-500"}):S.jsx(GC,{className:"text-gray-400"})}),S.jsx("button",{onClick:f,className:"hover:text-blue-500","aria-label":E("translationInput.cameraAriaLabel"),children:S.jsx(MC,{})}),S.jsx("button",{onClick:d,className:"hover:text-blue-500","aria-label":E("translationInput.settingsAriaLabel"),children:S.jsx(IC,{})})]})]}),S.jsxs("div",{className:"relative border border-gray-200 rounded-lg flex-grow",children:[S.jsx("textarea",{value:t,onChange:A,placeholder:E(r?"translationInput.placeholderListening":"translationInput.placeholderEnterText"),className:"w-full h-full p-4 pr-12 text-lg border-none focus:ring-0 resize-none bg-transparent",disabled:r}),t&&!r&&S.jsx("button",{onClick:()=>e(""),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600","aria-label":E("translationInput.clearText"),children:S.jsx(xs,{})})]}),S.jsxs("div",{className:"flex justify-between items-center mt-2",children:[S.jsx("p",{className:"text-sm text-gray-400 w-20",children:r&&p&&v!==null?S.jsxs("span",{className:"text-red-500 font-semibold text-base tabular-nums",children:[E("translationInput.countdownPrefix"),String(v).padStart(2,"0")]}):`${t.length}/${kp}`}),S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("button",{onClick:c,className:`p-3 rounded-lg flex items-center justify-center transition-colors ${r?"bg-red-500 text-white animate-pulse":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,"aria-label":E(r?"translationInput.recordingStop":"translationInput.recordingStart"),children:S.jsx(B0,{})}),S.jsx("button",{onClick:m,disabled:!o&&y,title:E(o?"translationInput.cancelTranslation":p?"translationInput.translateOffline":"translationInput.translate"),className:`text-white rounded-lg p-3 flex items-center justify-center transition-colors ${o?"bg-red-500 hover:bg-red-600":"bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 disabled:cursor-not-allowed"}`,children:o?S.jsx(VC,{}):S.jsx(DC,{})})]})]})]})},BC=({translatedText:t,targetLang:e,setTargetLang:n,isLoading:i,onSpeak:o,onSwapLanguages:l,onOpenHistory:s,onClearText:r,isOfflineModeEnabled:c,isOfflineModelInitializing:f,isOfflineModelReady:d,offlineModelName:h,isSpeaking:p,speakingGender:g,onlineProvider:v,isOfflineTtsEnabled:E,isAstRecording:A,onToggleAstRecording:y})=>{const{t:m}=Zi(),[T,C]=w.useState(!1),x=()=>{t&&navigator.clipboard.writeText(t)},M=()=>{C(N=>!N)},_=()=>{if(!c){const L=v.charAt(0).toUpperCase()+v.slice(1);return m("translationOutput.modeOnline",{provider:L})}const N=Ja.find(L=>L.value===h),b=N?N.name.split(" ")[0]:"";return f?m("translationOutput.modeOfflineInitializing",{modelName:b}):d?m("translationOutput.modeOfflineReady",{modelName:b}):h?m("translationOutput.modeOfflineNotReady",{modelName:b}):m("translationOutput.modeOfflineNoModel")};return S.jsxs("div",{className:`bg-white rounded-xl shadow-md p-4 h-full flex flex-col transition-transform duration-500 ease-in-out ${T?"rotate-180":""}`,children:[S.jsxs("div",{className:"flex-shrink-0",children:[S.jsxs("div",{className:"flex justify-between items-center mb-1",children:[S.jsx(F0,{selectedLang:e,setSelectedLang:n,languages:Fa.filter(N=>N.code!=="auto")}),S.jsx("button",{onClick:l,className:"p-2 rounded-full hover:bg-gray-100 transition-colors text-gray-500",children:S.jsx(LC,{})}),S.jsxs("div",{className:"flex items-center space-x-4 text-gray-500",children:[S.jsx("button",{onClick:M,className:"hover:text-blue-500","aria-label":m("translationOutput.flipScreenAriaLabel"),children:S.jsx(UC,{})}),S.jsx("button",{onClick:x,disabled:!t,className:"hover:text-blue-500 disabled:text-gray-300 disabled:cursor-not-allowed","aria-label":m("translationOutput.copyAriaLabel"),children:S.jsx(bC,{})}),S.jsx("button",{onClick:s,className:"hover:text-blue-500","aria-label":m("translationOutput.historyAriaLabel"),children:S.jsx(RC,{})}),S.jsx("button",{onClick:r,disabled:!t,className:"hover:text-red-500 disabled:text-gray-300 disabled:cursor-not-allowed","aria-label":m("translationOutput.clearAriaLabel"),children:S.jsx(xs,{})})]})]}),S.jsx("div",{className:"text-right text-xs text-gray-400 mb-2 px-1",children:_()})]}),S.jsx("div",{className:"text-2xl text-gray-800 break-words flex-grow overflow-y-auto min-h-0 whitespace-pre-wrap",children:i&&!t?S.jsxs("div",{className:"space-y-2 animate-pulse",children:[S.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),S.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2"})]}):t||S.jsx("span",{className:"text-gray-400",children:m("translationOutput.placeholder")})}),S.jsxs("div",{className:"flex items-center justify-start mt-4 space-x-2 flex-shrink-0",children:[E?S.jsx("button",{onClick:()=>o("female"),disabled:!t,className:`text-white rounded-lg p-3 flex items-center justify-center disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors ${p?"bg-indigo-600 animate-pulse":"bg-indigo-500 hover:bg-indigo-600"}`,"aria-label":m(p?"translationOutput.speakStop":"translationOutput.speakCustomVoice"),children:S.jsx(_C,{})}):S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>o("female"),disabled:!t,className:`text-white rounded-lg p-3 flex items-center justify-center disabled:bg-pink-200 disabled:cursor-not-allowed transition-colors ${p&&g==="female"?"bg-pink-600 animate-pulse":"bg-pink-400 hover:bg-pink-500"}`,"aria-label":m(p&&g==="female"?"translationOutput.speakStop":"translationOutput.speakFemale"),children:S.jsx(xC,{})}),S.jsx("button",{onClick:()=>o("male"),disabled:!t,className:`text-white rounded-lg p-3 flex items-center justify-center disabled:bg-blue-300 disabled:cursor-not-allowed transition-colors ${p&&g==="male"?"bg-blue-700 animate-pulse":"bg-blue-500 hover:bg-blue-600"}`,"aria-label":m(p&&g==="male"?"translationOutput.speakStop":"translationOutput.speakMale"),children:S.jsx(wC,{})})]}),S.jsx("button",{onClick:y,disabled:i,className:`text-white rounded-lg p-3 flex items-center justify-center transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed ${A?"bg-red-500 animate-pulse":"bg-indigo-500 hover:bg-indigo-600"}`,"aria-label":m(A?"translationOutput.astStop":"translationOutput.astStart"),title:m("translationOutput.astTitle"),children:S.jsx(B0,{})})]})]})},qC=({onClose:t,onImageCaptured:e})=>{const{t:n}=Zi(),i=w.useRef(null),o=w.useRef(null),l=w.useRef(null),[s,r]=w.useState(null),[c,f]=w.useState(null),[d,h]=w.useState(!1),[p,g]=w.useState(!1),[v,E]=w.useState(!1),[A,y]=w.useState(1),[m,T]=w.useState(!1),[C,x]=w.useState(1),[M,_]=w.useState(1),[N,b]=w.useState(.1);w.useEffect(()=>{let J=null;return(async()=>{try{J=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),r(J),i.current&&(i.current.srcObject=J);const k=J.getVideoTracks()[0].getCapabilities();k.torch&&E(!0),k.zoom&&(T(!0),x(k.zoom.min),_(k.zoom.max),b(k.zoom.step||.1),y(k.zoom.min))}catch(V){console.error("Error accessing camera:",V),f(n("camera.errorAccess"))}})(),()=>{J&&J.getTracks().forEach(V=>V.stop())}},[n]);const L=async()=>{if(!(!i.current||!o.current||d)){h(!0),f(null);try{const J=i.current,I=o.current;I.width=J.videoWidth,I.height=J.videoHeight;const V=I.getContext("2d");if(!V)throw new Error("Could not get canvas context.");V.drawImage(J,0,0,I.width,I.height);const k=I.toDataURL("image/jpeg",.9);e(k)}catch(J){const I=J instanceof Error?J.message:"An unknown error occurred.";f(n("camera.errorCapture",{message:I})),h(!1)}}},z=async J=>{var V;const I=(V=J.target.files)==null?void 0:V[0];if(!(!I||d)){h(!0),f(null);try{const k=new FileReader;k.onload=W=>{var ke;const ne=(ke=W.target)==null?void 0:ke.result;if(ne)e(ne);else throw new Error("Could not read the selected file.")},k.onerror=()=>{throw new Error("Error reading the file.")},k.readAsDataURL(I)}catch(k){const W=k instanceof Error?k.message:"An unknown error occurred.";f(n("camera.errorLoad",{message:W})),h(!1)}}},se=()=>{var J;(J=l.current)==null||J.click()},O=async()=>{if(!s||!v)return;const J=s.getVideoTracks()[0];try{await J.applyConstraints({advanced:[{torch:!p}]}),g(!p)}catch(I){console.error("Failed to toggle torch:",I)}},ae=async J=>{if(!s||!m)return;const I=parseFloat(J.target.value);y(I);const V=s.getVideoTracks()[0];try{await V.applyConstraints({advanced:[{zoom:I}]})}catch(k){console.error("Failed to apply zoom:",k)}};return S.jsx("div",{className:"fixed inset-0 bg-black z-50 flex flex-col items-center justify-center",role:"dialog","aria-modal":"true","aria-labelledby":"camera-view-title",children:S.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[S.jsx("video",{ref:i,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),S.jsx("canvas",{ref:o,className:"hidden"}),S.jsx("input",{type:"file",accept:"image/*",ref:l,onChange:z,className:"hidden"}),S.jsxs("div",{className:"absolute inset-0 flex flex-col justify-between items-center p-4",children:[S.jsxs("div",{className:"w-full flex justify-end",children:[S.jsx("h2",{id:"camera-view-title",className:"sr-only",children:n("camera.title")}),S.jsx("button",{onClick:t,className:"text-white bg-black bg-opacity-50 rounded-full p-2","aria-label":n("camera.closeAriaLabel"),children:S.jsx(xs,{className:"w-8 h-8"})})]}),c&&S.jsx("div",{className:"bg-red-500 text-white p-3 rounded-md text-center transition-opacity",role:"alert",children:c}),S.jsxs("div",{className:"w-full flex flex-col items-center pb-6 space-y-4",children:[m&&S.jsx("div",{className:"w-full max-w-xs flex items-center justify-center bg-black/30 p-2 rounded-full",children:S.jsx("input",{type:"range",min:C,max:M,step:N,value:A,onChange:ae,className:"w-full h-2 bg-white/50 rounded-lg appearance-none cursor-pointer","aria-label":n("camera.zoomAriaLabel")})}),S.jsxs("div",{className:"w-full flex justify-around items-center",children:[S.jsx("button",{onClick:se,className:"text-white","aria-label":n("camera.galleryAriaLabel"),children:S.jsx(PC,{className:"w-10 h-10"})}),S.jsx("button",{onClick:L,disabled:d,className:"w-20 h-20 bg-white/30 rounded-full flex items-center justify-center transition-all hover:bg-white/50 disabled:opacity-50 ring-4 ring-white/50 focus:ring-white","aria-label":n("camera.captureAriaLabel"),children:d?S.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white",role:"status","aria-label":n("camera.processingAriaLabel")}):S.jsx("div",{className:"w-16 h-16 bg-white rounded-full shadow-lg"})}),v?S.jsx("button",{onClick:O,className:"text-white","aria-label":n(p?"camera.flashOnAriaLabel":"camera.flashOffAriaLabel"),children:p?S.jsx(kC,{className:"w-10 h-10"}):S.jsx(OC,{className:"w-10 h-10"})}):S.jsx("div",{className:"w-10 h-10"})]})]})]})]})})},FC=({isOpen:t,onClose:e,onSave:n,currentApiKey:i,currentModelName:o,currentOnlineProvider:l,currentOpenaiApiUrl:s,currentHuggingFaceApiKey:r,currentOfflineModelName:c,currentIsOfflineModeEnabled:f,currentIsTwoStepJpCnEnabled:d,downloadProgress:h,onStartDownload:p,onResumeDownload:g,onPauseDownload:v,onDeleteModel:E,isOfflineModelInitializing:A,voices:y,targetLang:m,currentIsOfflineTtsEnabled:T,currentOfflineTtsVoiceURI:C,currentOfflineTtsRate:x,currentOfflineTtsPitch:M,currentOfflineMaxTokens:_,currentOfflineTopK:N,currentOfflineTemperature:b,currentOfflineRandomSeed:L,currentOfflineSupportAudio:z,currentOfflineMaxNumImages:se})=>{const{t:O,i18n:ae}=Zi(),[J,I]=w.useState("online"),[V,k]=w.useState(i),[W,ne]=w.useState(o),[ke,st]=w.useState(l),[On,we]=w.useState(s),[un,ji]=w.useState(r),[vi,Si]=w.useState(c),[eo,Xt]=w.useState(f),[cl,Ti]=w.useState(d),[fl,Ei]=w.useState(T),[Pn,Hn]=w.useState(C),[dl,be]=w.useState(x),[pl,to]=w.useState(M),[no,Gn]=w.useState([]),[cn,io]=w.useState(_),[Vn,Ci]=w.useState(N),[hl,Ai]=w.useState(b),[gl,_i]=w.useState(L),[ml,xi]=w.useState(z),[yl,wi]=w.useState(se);if(w.useEffect(()=>{t&&(k(i),ne(o),st(l),we(s),ji(r),Si(c),Xt(f),Ti(d),Ei(T),Hn(C),be(x),to(M),io(_),Ci(N),Ai(b),_i(L),xi(z),wi(se))},[t,i,o,l,s,r,c,f,d,T,C,x,M,_,N,b,L,z,se]),w.useEffect(()=>{var U;if(t&&y.length>0&&m){const Z=y.filter(q=>q.lang.startsWith(m.code));Gn(Z),Pn&&!Z.some(q=>q.voiceURI===Pn)&&Hn(((U=Z[0])==null?void 0:U.voiceURI)||"")}},[t,y,m,Pn]),!t)return null;const ws=()=>{n(V,W,un,vi,eo,ke,On,fl,Pn,dl,pl,cl,cn,Vn,hl,gl,ml,yl),e()},vl=()=>{k(""),ne("gemini-2.5-flash"),st("gemini"),we(""),ji(""),Si(""),Xt(!1),Ti(!1),Ei(!1),Hn(""),be(1),to(1),io(4096),Ci(40),Ai(.3),_i(101),xi(!1),wi(1),Ja.forEach(U=>U.value&&E(U.value)),n("","gemini-2.5-flash","","",!1,"gemini","",!1,"",1,1,!1,4096,40,.3,101,!1,1)},bs=U=>{Si(U.target.value)},zn=({tabName:U,label:Z})=>S.jsx("button",{onClick:()=>I(U),className:`px-4 py-2 text-sm font-medium rounded-md focus:outline-none ${J===U?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,"aria-selected":J===U,role:"tab",children:Z}),oo=(U,Z=2)=>{if(!U||U===0)return"0 Bytes";const q=1024,We=Z<0?0:Z,Xe=["Bytes","KB","MB","GB","TB"],Qt=Math.floor(Math.log(U)/Math.log(q));return parseFloat((U/Math.pow(q,Qt)).toFixed(We))+" "+Xe[Qt]},Sl=U=>{const Z=h[U.value]||{status:"not_started",percent:0,downloaded:0,total:0},q=A&&vi===U.value,We=({onClick:Zt,text:wt,className:bt="bg-blue-500 hover:bg-blue-600",disabled:qn})=>S.jsx("button",{onClick:Zt,disabled:qn,className:`text-white text-xs font-semibold py-1 px-3 rounded-md transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed ${bt}`,children:wt}),Xe=q||Z.status==="consolidating",Qt=Z.status,xt=O(`common.status.${Qt}`);return S.jsxs("div",{className:"flex flex-col space-y-2 p-3 border border-gray-200 rounded-lg bg-gray-50",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsxs("div",{className:"flex items-center",children:[S.jsx("input",{type:"radio",id:`model-${U.value}`,name:"offline-model-selection",value:U.value,checked:vi===U.value,onChange:bs,disabled:Z.status!=="completed"||Xe,className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500 disabled:cursor-not-allowed"}),S.jsx("label",{htmlFor:`model-${U.value}`,className:"ml-2 text-sm font-medium text-gray-800",children:U.name})]}),S.jsxs("div",{className:"flex items-center space-x-2",children:[Z.status==="not_started"&&S.jsx(We,{onClick:()=>p(U.value,U.url),text:O("settings.download")}),Z.status==="downloading"&&S.jsx(We,{onClick:()=>v(U.value),text:O("settings.pause"),className:"bg-yellow-500 hover:bg-yellow-600"}),Z.status==="paused"&&S.jsx(We,{onClick:()=>g(U.value,U.url),text:O("settings.resume")}),Z.status==="error"&&S.jsx(We,{onClick:()=>g(U.value,U.url),text:O("settings.retry")}),Z.status!=="not_started"&&Z.status!=="downloading"&&Z.status!=="consolidating"&&S.jsx("button",{onClick:()=>E(U.value),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-full","aria-label":O("settings.deleteModelAriaLabel",{modelName:U.name}),children:S.jsx(q0,{className:"w-4 h-4"})})]})]}),(Z.status!=="not_started"||Xe)&&S.jsxs("div",{children:[S.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 relative overflow-hidden",children:S.jsx("div",{className:`h-2 rounded-full ${Xe?"bg-green-400 w-full animate-pulse":"bg-blue-500"}`,style:{width:`${Z.percent}%`}})}),S.jsxs("div",{className:"text-xs text-gray-500 mt-1 flex justify-between",children:[S.jsx("span",{children:xt}),Z.status==="downloading"&&!Xe&&S.jsxs("span",{children:[oo(Z.downloaded)," / ",oo(Z.total)," (",Math.round(Z.percent),"%)"]})]})]}),Z.status==="error"&&S.jsx("p",{className:"text-xs text-red-600 mt-1",children:O("settings.statusError",{error:Z.error})})]})},Bn=({id:U,label:Z,value:q,onChange:We,min:Xe,max:Qt,step:xt})=>S.jsxs("div",{children:[S.jsxs("label",{htmlFor:U,className:"flex justify-between items-center text-sm font-medium text-gray-700 mb-1",children:[S.jsx("span",{children:Z}),S.jsx("span",{className:"text-gray-500 font-normal",children:q})]}),S.jsx("input",{type:"range",id:U,min:Xe,max:Qt,step:xt,value:q,onChange:We,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),fn=({id:U,isEnabled:Z,setIsEnabled:q,title:We,description:Xe})=>S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("label",{htmlFor:U,className:"text-sm font-medium text-gray-700",children:[We,S.jsx("span",{className:"block text-xs text-gray-500",children:Xe})]}),S.jsx("button",{id:U,onClick:()=>q(!Z),className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${Z?"bg-blue-600":"bg-gray-200"}`,role:"switch","aria-checked":Z,children:S.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${Z?"translate-x-6":"translate-x-1"}`})})]});return S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"settings-title",children:S.jsxs("div",{className:"bg-white rounded-lg shadow-xl h-full w-full max-w-md overflow-auto",children:[S.jsxs("div",{className:"p-6 border-b border-gray-200",children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsx("h2",{id:"settings-title",className:"text-xl font-semibold text-gray-800",children:O("settings.title")}),S.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600","aria-label":O("settings.closeAriaLabel"),children:S.jsx(xs,{})})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"language-select",className:"block text-sm font-medium text-gray-700 mb-1",children:O("settings.languageLabel")}),S.jsxs("select",{id:"language-select",value:ae.language,onChange:U=>ae.changeLanguage(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[S.jsx("option",{value:"en",children:"English"}),S.jsx("option",{value:"zh-TW",children:""})]})]})]}),S.jsx("div",{className:"border-b border-gray-200",children:S.jsxs("nav",{className:"flex space-x-2 p-2",role:"tablist","aria-label":"Settings tabs",children:[S.jsx(zn,{tabName:"online",label:O("settings.tabOnline")}),S.jsx(zn,{tabName:"offline",label:O("settings.tabOffline")}),S.jsx(zn,{tabName:"tts",label:O("settings.tabTts")}),S.jsx(zn,{tabName:"offline-params",label:O("settings.tabOfflineParams")})]})}),S.jsxs("div",{className:"p-6 space-y-6 min-h-[350px]",children:[J==="online"&&S.jsxs("div",{role:"tabpanel",id:"online-settings","aria-labelledby":"online-tab",className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:O("settings.providerLabel")}),S.jsxs("div",{className:"flex space-x-4",children:[S.jsxs("div",{className:"flex items-center",children:[S.jsx("input",{id:"provider-gemini",name:"online-provider",type:"radio",value:"gemini",checked:ke==="gemini",onChange:U=>st(U.target.value),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),S.jsx("label",{htmlFor:"provider-gemini",className:"ml-2 block text-sm text-gray-900",children:O("settings.providerGemini")})]}),S.jsxs("div",{className:"flex items-center",children:[S.jsx("input",{id:"provider-openai",name:"online-provider",type:"radio",value:"openai",checked:ke==="openai",onChange:U=>st(U.target.value),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),S.jsx("label",{htmlFor:"provider-openai",className:"ml-2 block text-sm text-gray-900",children:O("settings.providerOpenAI")})]})]})]}),ke==="openai"&&S.jsxs("div",{children:[S.jsx("label",{htmlFor:"openai-api-url",className:"block text-sm font-medium text-gray-700 mb-1",children:O("settings.openaiUrlLabel")}),S.jsx("input",{type:"text",id:"openai-api-url",value:On,onChange:U=>we(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:O("settings.openaiUrlPlaceholder")})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"api-key",className:"block text-sm font-medium text-gray-700 mb-1",children:O("settings.apiKeyLabel")}),S.jsx("input",{type:"password",id:"api-key",value:V,onChange:U=>k(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:O("settings.apiKeyPlaceholder")})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"model-name",className:"block text-sm font-medium text-gray-700 mb-1",children:O("settings.modelNameLabel")}),S.jsx("input",{type:"text",id:"model-name",value:W,onChange:U=>ne(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white",placeholder:O(ke==="gemini"?"settings.modelNameGeminiPlaceholder":"settings.modelNameOpenAIPlaceholder")})]})]}),J==="offline"&&S.jsxs("div",{role:"tabpanel",id:"offline-settings","aria-labelledby":"offline-tab",className:"space-y-6",children:[S.jsxs("div",{className:"space-y-3",children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700",children:O("settings.manageModelsLabel")}),Ja.filter(U=>U.value).map(U=>S.jsx("div",{children:Sl(U)},U.value))]}),S.jsxs("div",{className:"space-y-4 pt-2",children:[S.jsx(fn,{id:"offline-toggle",isEnabled:eo,setIsEnabled:Xt,title:O("settings.enableOfflineLabel"),description:O("settings.enableOfflineDescription")}),S.jsx(fn,{id:"twostep-toggle",isEnabled:cl,setIsEnabled:Ti,title:O("settings.enableTwoStepLabel"),description:O("settings.enableTwoStepDescription")})]})]}),J==="tts"&&S.jsxs("div",{role:"tabpanel",id:"tts-settings","aria-labelledby":"tts-tab",className:"space-y-6",children:[S.jsx(fn,{id:"tts-toggle",isEnabled:fl,setIsEnabled:Ei,title:O("settings.enableCustomTtsLabel"),description:O("settings.enableCustomTtsDescription")}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"voice-select",className:"block text-sm font-medium text-gray-700 mb-1",children:O("settings.voiceLabel")}),S.jsx("select",{id:"voice-select",value:Pn,onChange:U=>Hn(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100",disabled:no.length===0,children:no.length>0?no.map(U=>S.jsxs("option",{value:U.voiceURI,children:[U.name," (",U.lang,")"]},U.voiceURI)):S.jsx("option",{value:"",children:O("settings.voicePlaceholder",{languageName:O(m.name)})})})]}),S.jsx(Bn,{id:"rate-slider",label:O("settings.rateLabel"),value:dl,onChange:U=>be(parseFloat(U.target.value)),min:.5,max:2,step:.1}),S.jsx(Bn,{id:"pitch-slider",label:O("settings.pitchLabel"),value:pl,onChange:U=>to(parseFloat(U.target.value)),min:0,max:2,step:.1})]}),J==="offline-params"&&S.jsxs("div",{role:"tabpanel",id:"offline-params-settings","aria-labelledby":"offline-params-tab",className:"space-y-6",children:[S.jsx("p",{className:"text-sm text-gray-500",children:O("settings.offlineParamsDescription")}),S.jsx(Bn,{id:"max-tokens-slider",label:O("settings.maxTokensLabel"),value:cn,onChange:U=>io(parseInt(U.target.value,10)),min:256,max:8192,step:256}),S.jsx(Bn,{id:"top-k-slider",label:O("settings.topKLabel"),value:Vn,onChange:U=>Ci(parseInt(U.target.value,10)),min:1,max:100,step:1}),S.jsx(Bn,{id:"temperature-slider",label:O("settings.temperatureLabel"),value:hl,onChange:U=>Ai(parseFloat(U.target.value)),min:0,max:1,step:.05}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"random-seed",className:"block text-sm font-medium text-gray-700 mb-1",children:O("settings.randomSeedLabel")}),S.jsx("input",{type:"number",id:"random-seed",value:gl,onChange:U=>_i(parseInt(U.target.value,10)),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),S.jsx(fn,{id:"support-audio-toggle",isEnabled:ml,setIsEnabled:xi,title:O("settings.supportAudioLabel"),description:O("settings.supportAudioDescription")}),S.jsx(fn,{id:"max-num-images-toggle",isEnabled:yl===1,setIsEnabled:U=>wi(U?1:0),title:O("settings.maxNumImagesLabel"),description:O("settings.maxNumImagesDescription")})]})]}),S.jsxs("div",{className:"p-6 bg-gray-50 rounded-b-lg flex justify-between items-center",children:[S.jsx("button",{onClick:vl,className:"text-red-600 font-medium py-2 px-4 rounded-lg hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors","aria-label":O("history.clearAriaLabel"),children:O("settings.clearSettingsButton")}),S.jsx("button",{onClick:ws,className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:O("settings.saveSettingsButton")})]})]})})},JC=({isOpen:t,onClose:e,history:n,onSelectHistory:i,onClearHistory:o})=>{const{t:l}=Zi();return t?S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"history-title",children:S.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md h-[70vh] flex flex-col",children:[S.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center",children:[S.jsx("h2",{id:"history-title",className:"text-xl font-semibold text-gray-800",children:l("history.title")}),S.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600","aria-label":l("history.closeAriaLabel"),children:S.jsx(xs,{})})]}),S.jsx("div",{className:"p-2 flex-grow overflow-y-auto",children:n.length===0?S.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:l("history.empty")}):S.jsx("ul",{children:n.map(s=>S.jsx("li",{className:"border-b border-gray-200 last:border-b-0",children:S.jsxs("button",{onClick:()=>i(s),className:"w-full text-left p-4 hover:bg-gray-50 transition-colors","aria-label":l("history.selectAriaLabel",{sourceLang:l(s.sourceLang.name),targetLang:l(s.targetLang.name)}),children:[S.jsxs("div",{className:"mb-2",children:[S.jsx("span",{className:"text-xs font-semibold text-gray-500 bg-gray-100 py-1 px-2 rounded-full",children:l(s.sourceLang.name)}),S.jsx("p",{className:"text-gray-800 mt-1 truncate",children:s.inputText})]}),S.jsxs("div",{children:[S.jsx("span",{className:"text-xs font-semibold text-blue-500 bg-blue-50 py-1 px-2 rounded-full",children:l(s.targetLang.name)}),S.jsx("p",{className:"text-blue-700 font-medium mt-1 truncate",children:s.translatedText})]})]})},s.id))})}),n.length>0&&S.jsx("div",{className:"p-4 bg-gray-50 rounded-b-lg flex justify-end items-center",children:S.jsxs("button",{onClick:o,className:"flex items-center space-x-2 text-red-600 font-medium py-2 px-4 rounded-lg hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors","aria-label":l("history.clearAriaLabel"),children:[S.jsx(q0,{className:"h-5 w-5"}),S.jsx("span",{children:l("history.clearButton")})]})})]})}):null};var YC={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let KC,$C;function XC(){return{geminiUrl:KC,vertexUrl:$C}}function QC(t,e,n,i){var o,l;if(!(t!=null&&t.baseUrl)){const s=XC();return e?(o=s.vertexUrl)!==null&&o!==void 0?o:n:(l=s.geminiUrl)!==null&&l!==void 0?l:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Un{}function G(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const l=e[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function u(t,e,n){for(let l=0;l<e.length-1;l++){const s=e[l];if(s.endsWith("[]")){const r=s.slice(0,-2);if(!(r in t))if(Array.isArray(n))t[r]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[r])){const c=t[r];if(Array.isArray(n))for(let f=0;f<c.length;f++){const d=c[f];u(d,e.slice(l+1),n[f])}else for(const f of c)u(f,e.slice(l+1),n)}return}else if(s.endsWith("[0]")){const r=s.slice(0,-3);r in t||(t[r]=[{}]);const c=t[r];u(c[0],e.slice(l+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function a(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const o=e[i];if(o.endsWith("[]")){const l=o.slice(0,-2);if(l in t){const s=t[l];return Array.isArray(s)?s.map(r=>a(r,e.slice(i+1),n)):n}else return n}else t=t[o]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function ZC(t,e){for(const[n,i]of Object.entries(e)){const o=n.split("."),l=i.split("."),s=new Set;let r=-1;for(let c=0;c<o.length;c++)if(o[c]==="*"){r=c;break}if(r!==-1&&l.length>r)for(let c=r;c<l.length;c++){const f=l[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&s.add(f)}Cc(t,o,l,0,s)}}function Cc(t,e,n,i,o){if(i>=e.length||typeof t!="object"||t===null)return;const l=e[i];if(l.endsWith("[]")){const s=l.slice(0,-2),r=t;if(s in r&&Array.isArray(r[s]))for(const c of r[s])Cc(c,e,n,i+1,o)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,r=Object.keys(s).filter(f=>!f.startsWith("_")&&!o.has(f)),c={};for(const f of r)c[f]=s[f];for(const[f,d]of Object.entries(c)){const h=[];for(const p of n.slice(i))p==="*"?h.push(f):h.push(p);u(s,h,d)}for(const f of r)delete s[f]}}else{const s=t;l in s&&Cc(s[l],e,n,i+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ff(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WC(t){const e={},n=a(t,["operationName"]);n!=null&&u(e,["operationName"],n);const i=a(t,["resourceName"]);return i!=null&&u(e,["_url","resourceName"],i),e}function jC(t){const e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);const i=a(t,["metadata"]);i!=null&&u(e,["metadata"],i);const o=a(t,["done"]);o!=null&&u(e,["done"],o);const l=a(t,["error"]);l!=null&&u(e,["error"],l);const s=a(t,["response","generateVideoResponse"]);return s!=null&&u(e,["response"],tA(s)),e}function eA(t){const e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);const i=a(t,["metadata"]);i!=null&&u(e,["metadata"],i);const o=a(t,["done"]);o!=null&&u(e,["done"],o);const l=a(t,["error"]);l!=null&&u(e,["error"],l);const s=a(t,["response"]);return s!=null&&u(e,["response"],nA(s)),e}function tA(t){const e={},n=a(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>iA(s))),u(e,["generatedVideos"],l)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&u(e,["raiMediaFilteredCount"],i);const o=a(t,["raiMediaFilteredReasons"]);return o!=null&&u(e,["raiMediaFilteredReasons"],o),e}function nA(t){const e={},n=a(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>oA(s))),u(e,["generatedVideos"],l)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&u(e,["raiMediaFilteredCount"],i);const o=a(t,["raiMediaFilteredReasons"]);return o!=null&&u(e,["raiMediaFilteredReasons"],o),e}function iA(t){const e={},n=a(t,["video"]);return n!=null&&u(e,["video"],cA(n)),e}function oA(t){const e={},n=a(t,["_self"]);return n!=null&&u(e,["video"],fA(n)),e}function lA(t){const e={},n=a(t,["operationName"]);return n!=null&&u(e,["_url","operationName"],n),e}function sA(t){const e={},n=a(t,["operationName"]);return n!=null&&u(e,["_url","operationName"],n),e}function aA(t){const e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);const i=a(t,["metadata"]);i!=null&&u(e,["metadata"],i);const o=a(t,["done"]);o!=null&&u(e,["done"],o);const l=a(t,["error"]);l!=null&&u(e,["error"],l);const s=a(t,["response"]);return s!=null&&u(e,["response"],rA(s)),e}function rA(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["parent"]);i!=null&&u(e,["parent"],i);const o=a(t,["documentName"]);return o!=null&&u(e,["documentName"],o),e}function J0(t){const e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);const i=a(t,["metadata"]);i!=null&&u(e,["metadata"],i);const o=a(t,["done"]);o!=null&&u(e,["done"],o);const l=a(t,["error"]);l!=null&&u(e,["error"],l);const s=a(t,["response"]);return s!=null&&u(e,["response"],uA(s)),e}function uA(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["parent"]);i!=null&&u(e,["parent"],i);const o=a(t,["documentName"]);return o!=null&&u(e,["documentName"],o),e}function cA(t){const e={},n=a(t,["uri"]);n!=null&&u(e,["uri"],n);const i=a(t,["encodedVideo"]);i!=null&&u(e,["videoBytes"],Ff(i));const o=a(t,["encoding"]);return o!=null&&u(e,["mimeType"],o),e}function fA(t){const e={},n=a(t,["gcsUri"]);n!=null&&u(e,["uri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&u(e,["videoBytes"],Ff(i));const o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Op;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Op||(Op={}));var Pp;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Pp||(Pp={}));var Hp;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Hp||(Hp={}));var Ft;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ft||(Ft={}));var Gp;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Gp||(Gp={}));var Vp;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Vp||(Vp={}));var zp;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(zp||(zp={}));var Bp;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Bp||(Bp={}));var qp;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(qp||(qp={}));var Fp;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(Fp||(Fp={}));var Jp;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Jp||(Jp={}));var Yp;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Yp||(Yp={}));var Kp;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Kp||(Kp={}));var $p;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})($p||($p={}));var Xp;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Xp||(Xp={}));var Qp;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Qp||(Qp={}));var Zp;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Zp||(Zp={}));var Wp;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Wp||(Wp={}));var jp;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(jp||(jp={}));var Ya;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Ya||(Ya={}));var eh;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(eh||(eh={}));var th;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(th||(th={}));var nh;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(nh||(nh={}));var Ac;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ac||(Ac={}));var ih;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(ih||(ih={}));var oh;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(oh||(oh={}));var lh;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(lh||(lh={}));var sh;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(sh||(sh={}));var ah;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ah||(ah={}));var rh;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(rh||(rh={}));var uh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(uh||(uh={}));var ch;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(ch||(ch={}));var fh;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(fh||(fh={}));var dh;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(dh||(dh={}));var ph;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ph||(ph={}));var hh;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(hh||(hh={}));var gh;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(gh||(gh={}));var mh;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(mh||(mh={}));var yh;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(yh||(yh={}));var vh;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(vh||(vh={}));var Sh;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Sh||(Sh={}));var Th;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Th||(Th={}));var Eh;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Eh||(Eh={}));var Ch;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Ch||(Ch={}));var Ah;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Ah||(Ah={}));var _h;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(_h||(_h={}));var xh;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(xh||(xh={}));var wh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(wh||(wh={}));var bh;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(bh||(bh={}));var Rh;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Rh||(Rh={}));var Nh;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Nh||(Nh={}));var Mh;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Mh||(Mh={}));var Ih;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ih||(Ih={}));var Dh;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Dh||(Dh={}));var Lh;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Lh||(Lh={}));var Io;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Io||(Io={}));class _c{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Rl{get text(){var e,n,i,o,l,s,r,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const h=[];for(const p of(c=(r=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||r===void 0?void 0:r.parts)!==null&&c!==void 0?c:[]){for(const[g,v]of Object.entries(p))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(v!==null||v!==void 0)&&h.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;d=!0,f+=p.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var e,n,i,o,l,s,r,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const d=[];for(const h of(c=(r=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||r===void 0?void 0:r.parts)!==null&&c!==void 0?c:[]){for(const[p,g]of Object.entries(h))p!=="inlineData"&&(g!==null||g!==void 0)&&d.push(p);h.inlineData&&typeof h.inlineData.data=="string"&&(f+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,i,o,l,s,r,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(r=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||r===void 0?void 0:r.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,i,o,l,s,r,c,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(r=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||r===void 0?void 0:r.parts)===null||c===void 0?void 0:c.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,i,o,l,s,r,c,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(r=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||r===void 0?void 0:r.parts)===null||c===void 0?void 0:c.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.output}}class Uh{}class kh{}class dA{}class pA{}class hA{}class gA{}class Oh{}class Ph{}class Hh{}class mA{}class Ka{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Ka;let o;const l=e;return n?o=eA(l):o=jC(l),Object.assign(i,o),i}}class Gh{}class Vh{}class zh{}class Bh{}class yA{}class vA{}class SA{}class Jf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Jf,l=aA(e);return Object.assign(i,l),i}}class TA{}class EA{}class CA{}class qh{}class AA{get text(){var e,n,i;let o="",l=!1;const s=[];for(const r of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(r))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof r.text=="string"){if(typeof r.thought=="boolean"&&r.thought)continue;l=!0,o+=r.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?o:void 0}get data(){var e,n,i;let o="";const l=[];for(const s of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[r,c]of Object.entries(s))r!=="inlineData"&&c!==null&&l.push(r);s.inlineData&&typeof s.inlineData.data=="string"&&(o+=atob(s.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class _A{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Yf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Yf,l=J0(e);return Object.assign(i,l),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function le(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Y0(t,e){const n=le(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function K0(t){return Array.isArray(t)?t.map(e=>$a(e)):[$a(t)]}function $a(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function $0(t){const e=$a(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function X0(t){const e=$a(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Fh(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Q0(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Fh(e)):[Fh(t)]}function xc(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Jh(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Yh(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Qe(t){if(t==null)throw new Error("ContentUnion is required");return xc(t)?t:{role:"user",parts:Q0(t)}}function Kf(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Qe(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Qe(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Qe(n)):[Qe(e)]}function Pt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Jh(t)||Yh(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Qe(t)]}const e=[],n=[],i=xc(t[0]);for(const o of t){const l=xc(o);if(l!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(o);else{if(Jh(o)||Yh(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:Q0(n)}),e}function xA(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Ft).includes(n[0].toUpperCase())?n[0].toUpperCase():Ft.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Ft).includes(i.toUpperCase())?i.toUpperCase():Ft.TYPE_UNSPECIFIED})}}function Vo(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&xA(t.type,e);for(const[s,r]of Object.entries(t))if(r!=null)if(s=="type"){if(r==="null")throw new Error("type: null can not be the only possible type for the field.");if(r instanceof Array)continue;e.type=Object.values(Ft).includes(r.toUpperCase())?r.toUpperCase():Ft.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Vo(r);else if(i.includes(s)){const c=[];for(const f of r){if(f.type=="null"){e.nullable=!0;continue}c.push(Vo(f))}e[s]=c}else if(o.includes(s)){const c={};for(const[f,d]of Object.entries(r))c[f]=Vo(d);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=r}return e}function $f(t){return Vo(t)}function Xf(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Qf(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function al(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Vo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Vo(e.response));return t}function rl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function wA(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function kn(t,e){if(typeof e!="string")throw new Error("name must be a string");return wA(t,e,"cachedContents")}function Z0(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function yi(t){return Ff(t)}function bA(t){return t!=null&&typeof t=="object"&&"name"in t}function RA(t){return t!=null&&typeof t=="object"&&"video"in t}function NA(t){return t!=null&&typeof t=="object"&&"uri"in t}function W0(t){var e;let n;if(bA(t)&&(n=t.name),!(NA(t)&&(n=t.uri,n===void 0))&&!(RA(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function j0(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function ev(t){for(const e of["models","tunedModels","publisherModels"])if(MA(t,e))return t[e];return[]}function MA(t,e){return t!==null&&typeof t=="object"&&e in t}function IA(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function DA(t,e={}){const n=[],i=new Set;for(const o of t){const l=o.name;if(i.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);i.add(l);const s=IA(o,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function tv(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function LA(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function nv(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let l=!1;for(const s of o){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function ul(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function iv(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UA(t){const e={},n=a(t,["responsesFile"]);n!=null&&u(e,["fileName"],n);const i=a(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>h_(s))),u(e,["inlinedResponses"],l)}const o=a(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(e,["inlinedEmbedContentResponses"],l)}return e}function kA(t){const e={},n=a(t,["predictionsFormat"]);n!=null&&u(e,["format"],n);const i=a(t,["gcsDestination","outputUriPrefix"]);i!=null&&u(e,["gcsUri"],i);const o=a(t,["bigqueryDestination","outputUri"]);return o!=null&&u(e,["bigqueryUri"],o),e}function OA(t){const e={},n=a(t,["format"]);n!=null&&u(e,["predictionsFormat"],n);const i=a(t,["gcsUri"]);i!=null&&u(e,["gcsDestination","outputUriPrefix"],i);const o=a(t,["bigqueryUri"]);if(o!=null&&u(e,["bigqueryDestination","outputUri"],o),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(a(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function pa(t){const e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);const i=a(t,["metadata","displayName"]);i!=null&&u(e,["displayName"],i);const o=a(t,["metadata","state"]);o!=null&&u(e,["state"],iv(o));const l=a(t,["metadata","createTime"]);l!=null&&u(e,["createTime"],l);const s=a(t,["metadata","endTime"]);s!=null&&u(e,["endTime"],s);const r=a(t,["metadata","updateTime"]);r!=null&&u(e,["updateTime"],r);const c=a(t,["metadata","model"]);c!=null&&u(e,["model"],c);const f=a(t,["metadata","output"]);return f!=null&&u(e,["dest"],UA(nv(f))),e}function wc(t){const e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);const i=a(t,["displayName"]);i!=null&&u(e,["displayName"],i);const o=a(t,["state"]);o!=null&&u(e,["state"],iv(o));const l=a(t,["error"]);l!=null&&u(e,["error"],l);const s=a(t,["createTime"]);s!=null&&u(e,["createTime"],s);const r=a(t,["startTime"]);r!=null&&u(e,["startTime"],r);const c=a(t,["endTime"]);c!=null&&u(e,["endTime"],c);const f=a(t,["updateTime"]);f!=null&&u(e,["updateTime"],f);const d=a(t,["model"]);d!=null&&u(e,["model"],d);const h=a(t,["inputConfig"]);h!=null&&u(e,["src"],PA(h));const p=a(t,["outputConfig"]);p!=null&&u(e,["dest"],kA(nv(p)));const g=a(t,["completionStats"]);return g!=null&&u(e,["completionStats"],g),e}function PA(t){const e={},n=a(t,["instancesFormat"]);n!=null&&u(e,["format"],n);const i=a(t,["gcsSource","uris"]);i!=null&&u(e,["gcsUri"],i);const o=a(t,["bigquerySource","inputUri"]);return o!=null&&u(e,["bigqueryUri"],o),e}function HA(t,e){const n={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=a(e,["fileName"]);i!=null&&u(n,["fileName"],i);const o=a(e,["inlinedRequests"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>p_(t,s))),u(n,["requests","requests"],l)}return n}function GA(t){const e={},n=a(t,["format"]);n!=null&&u(e,["instancesFormat"],n);const i=a(t,["gcsUri"]);i!=null&&u(e,["gcsSource","uris"],i);const o=a(t,["bigqueryUri"]);if(o!=null&&u(e,["bigquerySource","inputUri"],o),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function VA(t){const e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function zA(t,e){const n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],ul(t,i)),n}function BA(t,e){const n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],ul(t,i)),n}function qA(t){const e={},n=a(t,["content"]);n!=null&&u(e,["content"],n);const i=a(t,["citationMetadata"]);i!=null&&u(e,["citationMetadata"],FA(i));const o=a(t,["tokenCount"]);o!=null&&u(e,["tokenCount"],o);const l=a(t,["finishReason"]);l!=null&&u(e,["finishReason"],l);const s=a(t,["avgLogprobs"]);s!=null&&u(e,["avgLogprobs"],s);const r=a(t,["groundingMetadata"]);r!=null&&u(e,["groundingMetadata"],r);const c=a(t,["index"]);c!=null&&u(e,["index"],c);const f=a(t,["logprobsResult"]);f!=null&&u(e,["logprobsResult"],f);const d=a(t,["safetyRatings"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>g)),u(e,["safetyRatings"],p)}const h=a(t,["urlContextMetadata"]);return h!=null&&u(e,["urlContextMetadata"],h),e}function FA(t){const e={},n=a(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),u(e,["citations"],i)}return e}function ov(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>E_(l))),u(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&u(e,["role"],i),e}function JA(t,e){const n={},i=a(t,["displayName"]);if(e!==void 0&&i!=null&&u(e,["batch","displayName"],i),a(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function YA(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);const o=a(t,["dest"]);return e!==void 0&&o!=null&&u(e,["outputConfig"],OA(LA(o))),n}function Kh(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["src"]);o!=null&&u(n,["batch","inputConfig"],HA(t,tv(t,o)));const l=a(e,["config"]);return l!=null&&JA(l,n),n}function KA(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["model"],le(t,i));const o=a(e,["src"]);o!=null&&u(n,["inputConfig"],GA(tv(t,o)));const l=a(e,["config"]);return l!=null&&YA(l,n),n}function $A(t,e){const n={},i=a(t,["displayName"]);return e!==void 0&&i!=null&&u(e,["batch","displayName"],i),n}function XA(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["src"]);o!=null&&u(n,["batch","inputConfig"],n_(t,o));const l=a(e,["config"]);return l!=null&&$A(l,n),n}function QA(t,e){const n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],ul(t,i)),n}function ZA(t,e){const n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],ul(t,i)),n}function WA(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["name"]);i!=null&&u(e,["name"],i);const o=a(t,["done"]);o!=null&&u(e,["done"],o);const l=a(t,["error"]);return l!=null&&u(e,["error"],l),e}function jA(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["name"]);i!=null&&u(e,["name"],i);const o=a(t,["done"]);o!=null&&u(e,["done"],o);const l=a(t,["error"]);return l!=null&&u(e,["error"],l),e}function e_(t,e){const n={},i=a(e,["contents"]);if(i!=null){let l=Kf(t,i);Array.isArray(l)&&(l=l.map(s=>s)),u(n,["requests[]","request","content"],l)}const o=a(e,["config"]);return o!=null&&(u(n,["_self"],t_(o,n)),ZC(n,{"requests[].*":"requests[].request.*"})),n}function t_(t,e){const n={},i=a(t,["taskType"]);e!==void 0&&i!=null&&u(e,["requests[]","taskType"],i);const o=a(t,["title"]);e!==void 0&&o!=null&&u(e,["requests[]","title"],o);const l=a(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&u(e,["requests[]","outputDimensionality"],l),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function n_(t,e){const n={},i=a(e,["fileName"]);i!=null&&u(n,["file_name"],i);const o=a(e,["inlinedRequests"]);return o!=null&&u(n,["requests"],e_(t,o)),n}function i_(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function o_(t){const e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);const i=a(t,["args"]);i!=null&&u(e,["args"],i);const o=a(t,["name"]);if(o!=null&&u(e,["name"],o),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function l_(t){const e={},n=a(t,["mode"]);n!=null&&u(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);if(i!=null&&u(e,["allowedFunctionNames"],i),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function s_(t,e,n){const i={},o=a(e,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],ov(Qe(o)));const l=a(e,["temperature"]);l!=null&&u(i,["temperature"],l);const s=a(e,["topP"]);s!=null&&u(i,["topP"],s);const r=a(e,["topK"]);r!=null&&u(i,["topK"],r);const c=a(e,["candidateCount"]);c!=null&&u(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&u(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&u(i,["stopSequences"],d);const h=a(e,["responseLogprobs"]);h!=null&&u(i,["responseLogprobs"],h);const p=a(e,["logprobs"]);p!=null&&u(i,["logprobs"],p);const g=a(e,["presencePenalty"]);g!=null&&u(i,["presencePenalty"],g);const v=a(e,["frequencyPenalty"]);v!=null&&u(i,["frequencyPenalty"],v);const E=a(e,["seed"]);E!=null&&u(i,["seed"],E);const A=a(e,["responseMimeType"]);A!=null&&u(i,["responseMimeType"],A);const y=a(e,["responseSchema"]);y!=null&&u(i,["responseSchema"],$f(y));const m=a(e,["responseJsonSchema"]);if(m!=null&&u(i,["responseJsonSchema"],m),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=a(e,["safetySettings"]);if(n!==void 0&&T!=null){let O=T;Array.isArray(O)&&(O=O.map(ae=>C_(ae))),u(n,["safetySettings"],O)}const C=a(e,["tools"]);if(n!==void 0&&C!=null){let O=rl(C);Array.isArray(O)&&(O=O.map(ae=>__(al(ae)))),u(n,["tools"],O)}const x=a(e,["toolConfig"]);if(n!==void 0&&x!=null&&u(n,["toolConfig"],A_(x)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=a(e,["cachedContent"]);n!==void 0&&M!=null&&u(n,["cachedContent"],kn(t,M));const _=a(e,["responseModalities"]);_!=null&&u(i,["responseModalities"],_);const N=a(e,["mediaResolution"]);N!=null&&u(i,["mediaResolution"],N);const b=a(e,["speechConfig"]);if(b!=null&&u(i,["speechConfig"],Xf(b)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const L=a(e,["thinkingConfig"]);L!=null&&u(i,["thinkingConfig"],L);const z=a(e,["imageConfig"]);z!=null&&u(i,["imageConfig"],d_(z));const se=a(e,["enableEnhancedCivicAnswers"]);return se!=null&&u(i,["enableEnhancedCivicAnswers"],se),i}function a_(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>qA(f))),u(e,["candidates"],c)}const o=a(t,["modelVersion"]);o!=null&&u(e,["modelVersion"],o);const l=a(t,["promptFeedback"]);l!=null&&u(e,["promptFeedback"],l);const s=a(t,["responseId"]);s!=null&&u(e,["responseId"],s);const r=a(t,["usageMetadata"]);return r!=null&&u(e,["usageMetadata"],r),e}function r_(t,e){const n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],ul(t,i)),n}function u_(t,e){const n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],ul(t,i)),n}function c_(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function f_(t){const e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function d_(t){const e={},n=a(t,["aspectRatio"]);n!=null&&u(e,["aspectRatio"],n);const i=a(t,["imageSize"]);if(i!=null&&u(e,["imageSize"],i),a(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function p_(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["request","model"],le(t,i));const o=a(e,["contents"]);if(o!=null){let r=Pt(o);Array.isArray(r)&&(r=r.map(c=>ov(c))),u(n,["request","contents"],r)}const l=a(e,["metadata"]);l!=null&&u(n,["metadata"],l);const s=a(e,["config"]);return s!=null&&u(n,["request","generationConfig"],s_(t,s,a(n,["request"],{}))),n}function h_(t){const e={},n=a(t,["response"]);n!=null&&u(e,["response"],a_(n));const i=a(t,["error"]);return i!=null&&u(e,["error"],i),e}function g_(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);if(e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),a(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function m_(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);e!==void 0&&o!=null&&u(e,["_query","pageToken"],o);const l=a(t,["filter"]);return e!==void 0&&l!=null&&u(e,["_query","filter"],l),n}function y_(t){const e={},n=a(t,["config"]);return n!=null&&g_(n,e),e}function v_(t){const e={},n=a(t,["config"]);return n!=null&&m_(n,e),e}function S_(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=a(t,["operations"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>pa(s))),u(e,["batchJobs"],l)}return e}function T_(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=a(t,["batchPredictionJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>wc(s))),u(e,["batchJobs"],l)}return e}function E_(t){const e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);const i=a(t,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const o=a(t,["executableCode"]);o!=null&&u(e,["executableCode"],o);const l=a(t,["fileData"]);l!=null&&u(e,["fileData"],i_(l));const s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],o_(s));const r=a(t,["functionResponse"]);r!=null&&u(e,["functionResponse"],r);const c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],VA(c));const f=a(t,["text"]);f!=null&&u(e,["text"],f);const d=a(t,["thought"]);d!=null&&u(e,["thought"],d);const h=a(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const p=a(t,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function C_(t){const e={},n=a(t,["category"]);if(n!=null&&u(e,["category"],n),a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=a(t,["threshold"]);return i!=null&&u(e,["threshold"],i),e}function A_(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&u(e,["functionCallingConfig"],l_(n));const i=a(t,["retrievalConfig"]);return i!=null&&u(e,["retrievalConfig"],i),e}function __(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),u(e,["functionDeclarations"],d)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearchRetrieval"]);i!=null&&u(e,["googleSearchRetrieval"],i);const o=a(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);const l=a(t,["fileSearch"]);l!=null&&u(e,["fileSearch"],l);const s=a(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=a(t,["googleMaps"]);r!=null&&u(e,["googleMaps"],c_(r));const c=a(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],f_(c));const f=a(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Dn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Dn||(Dn={}));class Wi{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!i||Object.keys(i).length===0?s={config:{}}:typeof i=="object"?s=Object.assign({},i):s=i,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(l=(o=s.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class x_ extends Un{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Wi(Dn.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Kh(this.apiClient,e),i=n._url,o=G("{model}:batchGenerateContent",i),r=n.batch.inputConfig.requests,c=r.requests,f=[];for(const d of c){const h=Object.assign({},d);if(h.systemInstruction){const p=h.systemInstruction;delete h.systemInstruction;const g=h.request;g.systemInstruction=p,h.request=g}f.push(h)}return r.requests=f,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},o=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${o}`),i.dest===void 0){const l=this.getGcsUri(e),s=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?i.dest=`${l.slice(0,-6)}/dest`:i.dest=`${l}_dest_${o}`;else if(s)i.dest=`${s}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=KA(this.apiClient,e);return r=G("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>wc(d))}else{const f=Kh(this.apiClient,e);return r=G("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>pa(d))}}async createEmbeddingsInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=XA(this.apiClient,e);return l=G("{model}:asyncBatchEmbedContent",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>pa(c))}}async get(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=u_(this.apiClient,e);return r=G("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>wc(d))}else{const f=r_(this.apiClient,e);return r=G("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>pa(d))}}async cancel(e){var n,i,o,l;let s="",r={};if(this.apiClient.isVertexAI()){const c=BA(this.apiClient,e);s=G("batchPredictionJobs/{name}:cancel",c._url),r=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const c=zA(this.apiClient,e);s=G("batches/{name}:cancel",c._url),r=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=v_(e);return r=G("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=T_(d),p=new qh;return Object.assign(p,h),p})}else{const f=y_(e);return r=G("batches",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=S_(d),p=new qh;return Object.assign(p,h),p})}}async delete(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=ZA(this.apiClient,e);return r=G("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>jA(d))}else{const f=QA(this.apiClient,e);return r=G("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>WA(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w_(t){const e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function $h(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>X_(l))),u(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&u(e,["role"],i),e}function b_(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&u(e,["ttl"],i);const o=a(t,["expireTime"]);e!==void 0&&o!=null&&u(e,["expireTime"],o);const l=a(t,["displayName"]);e!==void 0&&l!=null&&u(e,["displayName"],l);const s=a(t,["contents"]);if(e!==void 0&&s!=null){let d=Pt(s);Array.isArray(d)&&(d=d.map(h=>$h(h))),u(e,["contents"],d)}const r=a(t,["systemInstruction"]);e!==void 0&&r!=null&&u(e,["systemInstruction"],$h(Qe(r)));const c=a(t,["tools"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>Z_(h))),u(e,["tools"],d)}const f=a(t,["toolConfig"]);if(e!==void 0&&f!=null&&u(e,["toolConfig"],Q_(f)),a(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function R_(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&u(e,["ttl"],i);const o=a(t,["expireTime"]);e!==void 0&&o!=null&&u(e,["expireTime"],o);const l=a(t,["displayName"]);e!==void 0&&l!=null&&u(e,["displayName"],l);const s=a(t,["contents"]);if(e!==void 0&&s!=null){let h=Pt(s);Array.isArray(h)&&(h=h.map(p=>p)),u(e,["contents"],h)}const r=a(t,["systemInstruction"]);e!==void 0&&r!=null&&u(e,["systemInstruction"],Qe(r));const c=a(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>W_(p))),u(e,["tools"],h)}const f=a(t,["toolConfig"]);e!==void 0&&f!=null&&u(e,["toolConfig"],f);const d=a(t,["kmsKeyName"]);return e!==void 0&&d!=null&&u(e,["encryption_spec","kmsKeyName"],d),n}function N_(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["model"],Y0(t,i));const o=a(e,["config"]);return o!=null&&b_(o,n),n}function M_(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["model"],Y0(t,i));const o=a(e,["config"]);return o!=null&&R_(o,n),n}function I_(t,e){const n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],kn(t,i)),n}function D_(t,e){const n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],kn(t,i)),n}function L_(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function U_(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function k_(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function O_(t){const e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);const i=a(t,["args"]);i!=null&&u(e,["args"],i);const o=a(t,["name"]);if(o!=null&&u(e,["name"],o),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function P_(t){const e={},n=a(t,["mode"]);n!=null&&u(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);if(i!=null&&u(e,["allowedFunctionNames"],i),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function H_(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&u(e,["description"],n);const i=a(t,["name"]);i!=null&&u(e,["name"],i);const o=a(t,["parameters"]);o!=null&&u(e,["parameters"],o);const l=a(t,["parametersJsonSchema"]);l!=null&&u(e,["parametersJsonSchema"],l);const s=a(t,["response"]);s!=null&&u(e,["response"],s);const r=a(t,["responseJsonSchema"]);return r!=null&&u(e,["responseJsonSchema"],r),e}function G_(t,e){const n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],kn(t,i)),n}function V_(t,e){const n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],kn(t,i)),n}function z_(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function B_(t){const e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function q_(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);return e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),n}function F_(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);return e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),n}function J_(t){const e={},n=a(t,["config"]);return n!=null&&q_(n,e),e}function Y_(t){const e={},n=a(t,["config"]);return n!=null&&F_(n,e),e}function K_(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=a(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(e,["cachedContents"],l)}return e}function $_(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=a(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(e,["cachedContents"],l)}return e}function X_(t){const e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);const i=a(t,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const o=a(t,["executableCode"]);o!=null&&u(e,["executableCode"],o);const l=a(t,["fileData"]);l!=null&&u(e,["fileData"],k_(l));const s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],O_(s));const r=a(t,["functionResponse"]);r!=null&&u(e,["functionResponse"],r);const c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],w_(c));const f=a(t,["text"]);f!=null&&u(e,["text"],f);const d=a(t,["thought"]);d!=null&&u(e,["thought"],d);const h=a(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const p=a(t,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function Q_(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&u(e,["functionCallingConfig"],P_(n));const i=a(t,["retrievalConfig"]);return i!=null&&u(e,["retrievalConfig"],i),e}function Z_(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),u(e,["functionDeclarations"],d)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearchRetrieval"]);i!=null&&u(e,["googleSearchRetrieval"],i);const o=a(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);const l=a(t,["fileSearch"]);l!=null&&u(e,["fileSearch"],l);const s=a(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=a(t,["googleMaps"]);r!=null&&u(e,["googleMaps"],z_(r));const c=a(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],B_(c));const f=a(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function W_(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>H_(p))),u(e,["functionDeclarations"],h)}const i=a(t,["retrieval"]);i!=null&&u(e,["retrieval"],i);const o=a(t,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);const l=a(t,["computerUse"]);if(l!=null&&u(e,["computerUse"],l),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=a(t,["codeExecution"]);s!=null&&u(e,["codeExecution"],s);const r=a(t,["enterpriseWebSearch"]);r!=null&&u(e,["enterpriseWebSearch"],r);const c=a(t,["googleMaps"]);c!=null&&u(e,["googleMaps"],c);const f=a(t,["googleSearch"]);f!=null&&u(e,["googleSearch"],f);const d=a(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function j_(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&u(e,["ttl"],i);const o=a(t,["expireTime"]);return e!==void 0&&o!=null&&u(e,["expireTime"],o),n}function ex(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&u(e,["ttl"],i);const o=a(t,["expireTime"]);return e!==void 0&&o!=null&&u(e,["expireTime"],o),n}function tx(t,e){const n={},i=a(e,["name"]);i!=null&&u(n,["_url","name"],kn(t,i));const o=a(e,["config"]);return o!=null&&j_(o,n),n}function nx(t,e){const n={},i=a(e,["name"]);i!=null&&u(n,["_url","name"],kn(t,i));const o=a(e,["config"]);return o!=null&&ex(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ix extends Un{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Wi(Dn.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=M_(this.apiClient,e);return r=G("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const f=N_(this.apiClient,e);return r=G("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async get(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=V_(this.apiClient,e);return r=G("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const f=G_(this.apiClient,e);return r=G("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async delete(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=D_(this.apiClient,e);return r=G("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=U_(d),p=new zh;return Object.assign(p,h),p})}else{const f=I_(this.apiClient,e);return r=G("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=L_(d),p=new zh;return Object.assign(p,h),p})}}async update(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=nx(this.apiClient,e);return r=G("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const f=tx(this.apiClient,e);return r=G("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async listInternal(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=Y_(e);return r=G("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=$_(d),p=new Bh;return Object.assign(p,h),p})}else{const f=J_(e);return r=G("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=K_(d),p=new Bh;return Object.assign(p,h),p})}}}function Xa(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function Xh(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Y(t){return this instanceof Y?(this.v=t,this):new Y(t)}function Jt(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),r("next"),r("throw"),r("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(g){return function(v){return Promise.resolve(v).then(g,h)}}function r(g,v){i[g]&&(o[g]=function(E){return new Promise(function(A,y){l.push([g,E,A,y])>1||c(g,E)})},v&&(o[g]=v(o[g])))}function c(g,v){try{f(i[g](v))}catch(E){p(l[0][3],E)}}function f(g){g.value instanceof Y?Promise.resolve(g.value.v).then(d,h):p(l[0][2],g)}function d(g){c("next",g)}function h(g){c("throw",g)}function p(g,v){g(v),l.shift(),l.length&&c(l[0][0],l[0][1])}}function Yt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Xh=="function"?Xh(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(l){n[l]=t[l]&&function(s){return new Promise(function(r,c){s=t[l](s),o(r,c,s.done,s.value)})}}function o(l,s,r,c){Promise.resolve(c).then(function(f){l({value:f,done:r})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ox(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:lv(n)}function lv(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function lx(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Qh(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let l=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),l&&!lv(t[i])&&(l=!1),i++;l?e.push(...o):e.pop()}return e}class sx{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new ax(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ax{constructor(e,n,i,o={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),lx(l)}async sendMessage(e){var n;await this.sendPromise;const i=Qe(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,s,r;const c=await o,f=(s=(l=c.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content,d=c.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let p=[];d!=null&&(p=(r=d.slice(h))!==null&&r!==void 0?r:[]);const g=f?[f]:[];this.recordHistory(i,g,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=Qe(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,i)}getHistory(e=!1){const n=e?Qh(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Jt(this,arguments,function*(){var o,l,s,r,c,f;const d=[];try{for(var h=!0,p=Yt(e),g;g=yield Y(p.next()),o=g.done,!o;h=!0){r=g.value,h=!1;const v=r;if(ox(v)){const E=(f=(c=v.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content;E!==void 0&&d.push(E)}yield yield Y(v)}}catch(v){l={error:v}}finally{try{!h&&!o&&(s=p.return)&&(yield Y(s.call(p)))}finally{if(l)throw l.error}}this.recordHistory(n,d)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(l=>l.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Qh(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Er extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Er.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rx(t){const e={},n=a(t,["file"]);return n!=null&&u(e,["file"],n),e}function ux(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function cx(t){const e={},n=a(t,["name"]);return n!=null&&u(e,["_url","file"],W0(n)),e}function fx(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function dx(t){const e={},n=a(t,["name"]);return n!=null&&u(e,["_url","file"],W0(n)),e}function px(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);return e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),n}function hx(t){const e={},n=a(t,["config"]);return n!=null&&px(n,e),e}function gx(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=a(t,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mx extends Un{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Wi(Dn.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=hx(e);return l=G("files",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=gx(c),d=new TA;return Object.assign(d,f),d})}}async createInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=rx(e);return l=G("upload/v1beta/files",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=ux(c),d=new EA;return Object.assign(d,f),d})}}async get(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=dx(e);return l=G("files/{file}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=cx(e);return l=G("files/{file}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=fx(c),d=new CA;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ha(t){const e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function yx(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Lx(l))),u(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&u(e,["role"],i),e}function vx(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function Sx(t){const e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);const i=a(t,["args"]);i!=null&&u(e,["args"],i);const o=a(t,["name"]);if(o!=null&&u(e,["name"],o),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Tx(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&u(e,["description"],n);const i=a(t,["name"]);i!=null&&u(e,["name"],i);const o=a(t,["parameters"]);o!=null&&u(e,["parameters"],o);const l=a(t,["parametersJsonSchema"]);l!=null&&u(e,["parametersJsonSchema"],l);const s=a(t,["response"]);s!=null&&u(e,["response"],s);const r=a(t,["responseJsonSchema"]);return r!=null&&u(e,["responseJsonSchema"],r),e}function Ex(t){const e={},n=a(t,["modelSelectionConfig"]);n!=null&&u(e,["modelConfig"],n);const i=a(t,["responseJsonSchema"]);i!=null&&u(e,["responseJsonSchema"],i);const o=a(t,["audioTimestamp"]);o!=null&&u(e,["audioTimestamp"],o);const l=a(t,["candidateCount"]);l!=null&&u(e,["candidateCount"],l);const s=a(t,["enableAffectiveDialog"]);s!=null&&u(e,["enableAffectiveDialog"],s);const r=a(t,["frequencyPenalty"]);r!=null&&u(e,["frequencyPenalty"],r);const c=a(t,["logprobs"]);c!=null&&u(e,["logprobs"],c);const f=a(t,["maxOutputTokens"]);f!=null&&u(e,["maxOutputTokens"],f);const d=a(t,["mediaResolution"]);d!=null&&u(e,["mediaResolution"],d);const h=a(t,["presencePenalty"]);h!=null&&u(e,["presencePenalty"],h);const p=a(t,["responseLogprobs"]);p!=null&&u(e,["responseLogprobs"],p);const g=a(t,["responseMimeType"]);g!=null&&u(e,["responseMimeType"],g);const v=a(t,["responseModalities"]);v!=null&&u(e,["responseModalities"],v);const E=a(t,["responseSchema"]);E!=null&&u(e,["responseSchema"],E);const A=a(t,["routingConfig"]);A!=null&&u(e,["routingConfig"],A);const y=a(t,["seed"]);y!=null&&u(e,["seed"],y);const m=a(t,["speechConfig"]);m!=null&&u(e,["speechConfig"],sv(m));const T=a(t,["stopSequences"]);T!=null&&u(e,["stopSequences"],T);const C=a(t,["temperature"]);C!=null&&u(e,["temperature"],C);const x=a(t,["thinkingConfig"]);x!=null&&u(e,["thinkingConfig"],x);const M=a(t,["topK"]);M!=null&&u(e,["topK"],M);const _=a(t,["topP"]);if(_!=null&&u(e,["topP"],_),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Cx(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function Ax(t){const e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function _x(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig"],i);const o=a(t,["responseModalities"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig","responseModalities"],o);const l=a(t,["temperature"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","temperature"],l);const s=a(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);const r=a(t,["topK"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","topK"],r);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","mediaResolution"],f);const d=a(t,["seed"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","seed"],d);const h=a(t,["speechConfig"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","speechConfig"],Qf(h));const p=a(t,["thinkingConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","thinkingConfig"],p);const g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=a(t,["systemInstruction"]);e!==void 0&&v!=null&&u(e,["setup","systemInstruction"],yx(Qe(v)));const E=a(t,["tools"]);if(e!==void 0&&E!=null){let M=rl(E);Array.isArray(M)&&(M=M.map(_=>kx(al(_)))),u(e,["setup","tools"],M)}const A=a(t,["sessionResumption"]);e!==void 0&&A!=null&&u(e,["setup","sessionResumption"],Ux(A));const y=a(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&u(e,["setup","inputAudioTranscription"],y);const m=a(t,["outputAudioTranscription"]);e!==void 0&&m!=null&&u(e,["setup","outputAudioTranscription"],m);const T=a(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&u(e,["setup","realtimeInputConfig"],T);const C=a(t,["contextWindowCompression"]);e!==void 0&&C!=null&&u(e,["setup","contextWindowCompression"],C);const x=a(t,["proactivity"]);if(e!==void 0&&x!=null&&u(e,["setup","proactivity"],x),a(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function xx(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig"],Ex(i));const o=a(t,["responseModalities"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig","responseModalities"],o);const l=a(t,["temperature"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","temperature"],l);const s=a(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);const r=a(t,["topK"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","topK"],r);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","mediaResolution"],f);const d=a(t,["seed"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","seed"],d);const h=a(t,["speechConfig"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","speechConfig"],sv(Qf(h)));const p=a(t,["thinkingConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","thinkingConfig"],p);const g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=a(t,["systemInstruction"]);e!==void 0&&v!=null&&u(e,["setup","systemInstruction"],Qe(v));const E=a(t,["tools"]);if(e!==void 0&&E!=null){let _=rl(E);Array.isArray(_)&&(_=_.map(N=>Ox(al(N)))),u(e,["setup","tools"],_)}const A=a(t,["sessionResumption"]);e!==void 0&&A!=null&&u(e,["setup","sessionResumption"],A);const y=a(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&u(e,["setup","inputAudioTranscription"],y);const m=a(t,["outputAudioTranscription"]);e!==void 0&&m!=null&&u(e,["setup","outputAudioTranscription"],m);const T=a(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&u(e,["setup","realtimeInputConfig"],T);const C=a(t,["contextWindowCompression"]);e!==void 0&&C!=null&&u(e,["setup","contextWindowCompression"],C);const x=a(t,["proactivity"]);e!==void 0&&x!=null&&u(e,["setup","proactivity"],x);const M=a(t,["explicitVadSignal"]);return e!==void 0&&M!=null&&u(e,["setup","explicitVadSignal"],M),n}function wx(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["setup","model"],le(t,i));const o=a(e,["config"]);return o!=null&&u(n,["config"],_x(o,n)),n}function bx(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["setup","model"],le(t,i));const o=a(e,["config"]);return o!=null&&u(n,["config"],xx(o,n)),n}function Rx(t){const e={},n=a(t,["musicGenerationConfig"]);return n!=null&&u(e,["musicGenerationConfig"],n),e}function Nx(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),u(e,["weightedPrompts"],i)}return e}function Mx(t){const e={},n=a(t,["media"]);if(n!=null){let f=K0(n);Array.isArray(f)&&(f=f.map(d=>ha(d))),u(e,["mediaChunks"],f)}const i=a(t,["audio"]);i!=null&&u(e,["audio"],ha(X0(i)));const o=a(t,["audioStreamEnd"]);o!=null&&u(e,["audioStreamEnd"],o);const l=a(t,["video"]);l!=null&&u(e,["video"],ha($0(l)));const s=a(t,["text"]);s!=null&&u(e,["text"],s);const r=a(t,["activityStart"]);r!=null&&u(e,["activityStart"],r);const c=a(t,["activityEnd"]);return c!=null&&u(e,["activityEnd"],c),e}function Ix(t){const e={},n=a(t,["media"]);if(n!=null){let f=K0(n);Array.isArray(f)&&(f=f.map(d=>d)),u(e,["mediaChunks"],f)}const i=a(t,["audio"]);i!=null&&u(e,["audio"],X0(i));const o=a(t,["audioStreamEnd"]);o!=null&&u(e,["audioStreamEnd"],o);const l=a(t,["video"]);l!=null&&u(e,["video"],$0(l));const s=a(t,["text"]);s!=null&&u(e,["text"],s);const r=a(t,["activityStart"]);r!=null&&u(e,["activityStart"],r);const c=a(t,["activityEnd"]);return c!=null&&u(e,["activityEnd"],c),e}function Dx(t){const e={},n=a(t,["setupComplete"]);n!=null&&u(e,["setupComplete"],n);const i=a(t,["serverContent"]);i!=null&&u(e,["serverContent"],i);const o=a(t,["toolCall"]);o!=null&&u(e,["toolCall"],o);const l=a(t,["toolCallCancellation"]);l!=null&&u(e,["toolCallCancellation"],l);const s=a(t,["usageMetadata"]);s!=null&&u(e,["usageMetadata"],Px(s));const r=a(t,["goAway"]);r!=null&&u(e,["goAway"],r);const c=a(t,["sessionResumptionUpdate"]);c!=null&&u(e,["sessionResumptionUpdate"],c);const f=a(t,["voiceActivityDetectionSignal"]);return f!=null&&u(e,["voiceActivityDetectionSignal"],f),e}function Lx(t){const e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);const i=a(t,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const o=a(t,["executableCode"]);o!=null&&u(e,["executableCode"],o);const l=a(t,["fileData"]);l!=null&&u(e,["fileData"],vx(l));const s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],Sx(s));const r=a(t,["functionResponse"]);r!=null&&u(e,["functionResponse"],r);const c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],ha(c));const f=a(t,["text"]);f!=null&&u(e,["text"],f);const d=a(t,["thought"]);d!=null&&u(e,["thought"],d);const h=a(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const p=a(t,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function Ux(t){const e={},n=a(t,["handle"]);if(n!=null&&u(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function sv(t){const e={},n=a(t,["voiceConfig"]);n!=null&&u(e,["voiceConfig"],n);const i=a(t,["languageCode"]);if(i!=null&&u(e,["languageCode"],i),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function kx(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),u(e,["functionDeclarations"],d)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearchRetrieval"]);i!=null&&u(e,["googleSearchRetrieval"],i);const o=a(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);const l=a(t,["fileSearch"]);l!=null&&u(e,["fileSearch"],l);const s=a(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=a(t,["googleMaps"]);r!=null&&u(e,["googleMaps"],Cx(r));const c=a(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],Ax(c));const f=a(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function Ox(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>Tx(p))),u(e,["functionDeclarations"],h)}const i=a(t,["retrieval"]);i!=null&&u(e,["retrieval"],i);const o=a(t,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);const l=a(t,["computerUse"]);if(l!=null&&u(e,["computerUse"],l),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=a(t,["codeExecution"]);s!=null&&u(e,["codeExecution"],s);const r=a(t,["enterpriseWebSearch"]);r!=null&&u(e,["enterpriseWebSearch"],r);const c=a(t,["googleMaps"]);c!=null&&u(e,["googleMaps"],c);const f=a(t,["googleSearch"]);f!=null&&u(e,["googleSearch"],f);const d=a(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function Px(t){const e={},n=a(t,["promptTokenCount"]);n!=null&&u(e,["promptTokenCount"],n);const i=a(t,["cachedContentTokenCount"]);i!=null&&u(e,["cachedContentTokenCount"],i);const o=a(t,["candidatesTokenCount"]);o!=null&&u(e,["responseTokenCount"],o);const l=a(t,["toolUsePromptTokenCount"]);l!=null&&u(e,["toolUsePromptTokenCount"],l);const s=a(t,["thoughtsTokenCount"]);s!=null&&u(e,["thoughtsTokenCount"],s);const r=a(t,["totalTokenCount"]);r!=null&&u(e,["totalTokenCount"],r);const c=a(t,["promptTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(v=>v)),u(e,["promptTokensDetails"],g)}const f=a(t,["cacheTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>v)),u(e,["cacheTokensDetails"],g)}const d=a(t,["candidatesTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),u(e,["responseTokensDetails"],g)}const h=a(t,["toolUsePromptTokensDetails"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>v)),u(e,["toolUsePromptTokensDetails"],g)}const p=a(t,["trafficType"]);return p!=null&&u(e,["trafficType"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hx(t){const e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function Gx(t){const e={},n=a(t,["content"]);n!=null&&u(e,["content"],n);const i=a(t,["citationMetadata"]);i!=null&&u(e,["citationMetadata"],Vx(i));const o=a(t,["tokenCount"]);o!=null&&u(e,["tokenCount"],o);const l=a(t,["finishReason"]);l!=null&&u(e,["finishReason"],l);const s=a(t,["avgLogprobs"]);s!=null&&u(e,["avgLogprobs"],s);const r=a(t,["groundingMetadata"]);r!=null&&u(e,["groundingMetadata"],r);const c=a(t,["index"]);c!=null&&u(e,["index"],c);const f=a(t,["logprobsResult"]);f!=null&&u(e,["logprobsResult"],f);const d=a(t,["safetyRatings"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>g)),u(e,["safetyRatings"],p)}const h=a(t,["urlContextMetadata"]);return h!=null&&u(e,["urlContextMetadata"],h),e}function Vx(t){const e={},n=a(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),u(e,["citations"],i)}return e}function zx(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["contents"]);if(o!=null){let l=Pt(o);Array.isArray(l)&&(l=l.map(s=>s)),u(n,["contents"],l)}return n}function Bx(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),u(e,["tokensInfo"],o)}return e}function qx(t){const e={},n=a(t,["values"]);n!=null&&u(e,["values"],n);const i=a(t,["statistics"]);return i!=null&&u(e,["statistics"],Fx(i)),e}function Fx(t){const e={},n=a(t,["truncated"]);n!=null&&u(e,["truncated"],n);const i=a(t,["token_count"]);return i!=null&&u(e,["tokenCount"],i),e}function Cr(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>jw(l))),u(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&u(e,["role"],i),e}function Jx(t){const e={},n=a(t,["controlType"]);n!=null&&u(e,["controlType"],n);const i=a(t,["enableControlImageComputation"]);return i!=null&&u(e,["computeControl"],i),e}function Yx(t){const e={};if(a(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Kx(t,e){const n={},i=a(t,["systemInstruction"]);e!==void 0&&i!=null&&u(e,["systemInstruction"],Qe(i));const o=a(t,["tools"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>fv(r))),u(e,["tools"],s)}const l=a(t,["generationConfig"]);return e!==void 0&&l!=null&&u(e,["generationConfig"],Hw(l)),n}function $x(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["contents"]);if(o!=null){let s=Pt(o);Array.isArray(s)&&(s=s.map(r=>Cr(r))),u(n,["contents"],s)}const l=a(e,["config"]);return l!=null&&Yx(l),n}function Xx(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["contents"]);if(o!=null){let s=Pt(o);Array.isArray(s)&&(s=s.map(r=>r)),u(n,["contents"],s)}const l=a(e,["config"]);return l!=null&&Kx(l,n),n}function Qx(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["totalTokens"]);i!=null&&u(e,["totalTokens"],i);const o=a(t,["cachedContentTokenCount"]);return o!=null&&u(e,["cachedContentTokenCount"],o),e}function Zx(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["totalTokens"]);return i!=null&&u(e,["totalTokens"],i),e}function Wx(t,e){const n={},i=a(e,["model"]);return i!=null&&u(n,["_url","name"],le(t,i)),n}function jx(t,e){const n={},i=a(e,["model"]);return i!=null&&u(n,["_url","name"],le(t,i)),n}function ew(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function tw(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function nw(t,e){const n={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);const o=a(t,["negativePrompt"]);e!==void 0&&o!=null&&u(e,["parameters","negativePrompt"],o);const l=a(t,["numberOfImages"]);e!==void 0&&l!=null&&u(e,["parameters","sampleCount"],l);const s=a(t,["aspectRatio"]);e!==void 0&&s!=null&&u(e,["parameters","aspectRatio"],s);const r=a(t,["guidanceScale"]);e!==void 0&&r!=null&&u(e,["parameters","guidanceScale"],r);const c=a(t,["seed"]);e!==void 0&&c!=null&&u(e,["parameters","seed"],c);const f=a(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&u(e,["parameters","safetySetting"],f);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&u(e,["parameters","personGeneration"],d);const h=a(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&u(e,["parameters","includeSafetyAttributes"],h);const p=a(t,["includeRaiReason"]);e!==void 0&&p!=null&&u(e,["parameters","includeRaiReason"],p);const g=a(t,["language"]);e!==void 0&&g!=null&&u(e,["parameters","language"],g);const v=a(t,["outputMimeType"]);e!==void 0&&v!=null&&u(e,["parameters","outputOptions","mimeType"],v);const E=a(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&u(e,["parameters","outputOptions","compressionQuality"],E);const A=a(t,["addWatermark"]);e!==void 0&&A!=null&&u(e,["parameters","addWatermark"],A);const y=a(t,["labels"]);e!==void 0&&y!=null&&u(e,["labels"],y);const m=a(t,["editMode"]);e!==void 0&&m!=null&&u(e,["parameters","editMode"],m);const T=a(t,["baseSteps"]);return e!==void 0&&T!=null&&u(e,["parameters","editConfig","baseSteps"],T),n}function iw(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const l=a(e,["referenceImages"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>lb(c))),u(n,["instances[0]","referenceImages"],r)}const s=a(e,["config"]);return s!=null&&nw(s,n),n}function ow(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Ar(l))),u(e,["generatedImages"],o)}return e}function lw(t,e){const n={},i=a(t,["taskType"]);e!==void 0&&i!=null&&u(e,["requests[]","taskType"],i);const o=a(t,["title"]);e!==void 0&&o!=null&&u(e,["requests[]","title"],o);const l=a(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&u(e,["requests[]","outputDimensionality"],l),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function sw(t,e){const n={},i=a(t,["taskType"]);e!==void 0&&i!=null&&u(e,["instances[]","task_type"],i);const o=a(t,["title"]);e!==void 0&&o!=null&&u(e,["instances[]","title"],o);const l=a(t,["outputDimensionality"]);e!==void 0&&l!=null&&u(e,["parameters","outputDimensionality"],l);const s=a(t,["mimeType"]);e!==void 0&&s!=null&&u(e,["instances[]","mimeType"],s);const r=a(t,["autoTruncate"]);return e!==void 0&&r!=null&&u(e,["parameters","autoTruncate"],r),n}function aw(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["contents"]);if(o!=null){let r=Kf(t,o);Array.isArray(r)&&(r=r.map(c=>c)),u(n,["requests[]","content"],r)}const l=a(e,["config"]);l!=null&&lw(l,n);const s=a(e,["model"]);return s!==void 0&&u(n,["requests[]","model"],le(t,s)),n}function rw(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["contents"]);if(o!=null){let s=Kf(t,o);Array.isArray(s)&&(s=s.map(r=>r)),u(n,["instances[]","content"],s)}const l=a(e,["config"]);return l!=null&&sw(l,n),n}function uw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>s)),u(e,["embeddings"],l)}const o=a(t,["metadata"]);return o!=null&&u(e,["metadata"],o),e}function cw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["predictions[]","embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>qx(s))),u(e,["embeddings"],l)}const o=a(t,["metadata"]);return o!=null&&u(e,["metadata"],o),e}function fw(t){const e={},n=a(t,["endpoint"]);n!=null&&u(e,["name"],n);const i=a(t,["deployedModelId"]);return i!=null&&u(e,["deployedModelId"],i),e}function dw(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function pw(t){const e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);const i=a(t,["args"]);i!=null&&u(e,["args"],i);const o=a(t,["name"]);if(o!=null&&u(e,["name"],o),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hw(t){const e={},n=a(t,["mode"]);n!=null&&u(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);if(i!=null&&u(e,["allowedFunctionNames"],i),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function gw(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&u(e,["description"],n);const i=a(t,["name"]);i!=null&&u(e,["name"],i);const o=a(t,["parameters"]);o!=null&&u(e,["parameters"],o);const l=a(t,["parametersJsonSchema"]);l!=null&&u(e,["parametersJsonSchema"],l);const s=a(t,["response"]);s!=null&&u(e,["response"],s);const r=a(t,["responseJsonSchema"]);return r!=null&&u(e,["responseJsonSchema"],r),e}function mw(t,e,n){const i={},o=a(e,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],Cr(Qe(o)));const l=a(e,["temperature"]);l!=null&&u(i,["temperature"],l);const s=a(e,["topP"]);s!=null&&u(i,["topP"],s);const r=a(e,["topK"]);r!=null&&u(i,["topK"],r);const c=a(e,["candidateCount"]);c!=null&&u(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&u(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&u(i,["stopSequences"],d);const h=a(e,["responseLogprobs"]);h!=null&&u(i,["responseLogprobs"],h);const p=a(e,["logprobs"]);p!=null&&u(i,["logprobs"],p);const g=a(e,["presencePenalty"]);g!=null&&u(i,["presencePenalty"],g);const v=a(e,["frequencyPenalty"]);v!=null&&u(i,["frequencyPenalty"],v);const E=a(e,["seed"]);E!=null&&u(i,["seed"],E);const A=a(e,["responseMimeType"]);A!=null&&u(i,["responseMimeType"],A);const y=a(e,["responseSchema"]);y!=null&&u(i,["responseSchema"],$f(y));const m=a(e,["responseJsonSchema"]);if(m!=null&&u(i,["responseJsonSchema"],m),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=a(e,["safetySettings"]);if(n!==void 0&&T!=null){let O=T;Array.isArray(O)&&(O=O.map(ae=>sb(ae))),u(n,["safetySettings"],O)}const C=a(e,["tools"]);if(n!==void 0&&C!=null){let O=rl(C);Array.isArray(O)&&(O=O.map(ae=>pb(al(ae)))),u(n,["tools"],O)}const x=a(e,["toolConfig"]);if(n!==void 0&&x!=null&&u(n,["toolConfig"],db(x)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=a(e,["cachedContent"]);n!==void 0&&M!=null&&u(n,["cachedContent"],kn(t,M));const _=a(e,["responseModalities"]);_!=null&&u(i,["responseModalities"],_);const N=a(e,["mediaResolution"]);N!=null&&u(i,["mediaResolution"],N);const b=a(e,["speechConfig"]);if(b!=null&&u(i,["speechConfig"],Xf(b)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const L=a(e,["thinkingConfig"]);L!=null&&u(i,["thinkingConfig"],L);const z=a(e,["imageConfig"]);z!=null&&u(i,["imageConfig"],qw(z));const se=a(e,["enableEnhancedCivicAnswers"]);return se!=null&&u(i,["enableEnhancedCivicAnswers"],se),i}function yw(t,e,n){const i={},o=a(e,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],Qe(o));const l=a(e,["temperature"]);l!=null&&u(i,["temperature"],l);const s=a(e,["topP"]);s!=null&&u(i,["topP"],s);const r=a(e,["topK"]);r!=null&&u(i,["topK"],r);const c=a(e,["candidateCount"]);c!=null&&u(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&u(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&u(i,["stopSequences"],d);const h=a(e,["responseLogprobs"]);h!=null&&u(i,["responseLogprobs"],h);const p=a(e,["logprobs"]);p!=null&&u(i,["logprobs"],p);const g=a(e,["presencePenalty"]);g!=null&&u(i,["presencePenalty"],g);const v=a(e,["frequencyPenalty"]);v!=null&&u(i,["frequencyPenalty"],v);const E=a(e,["seed"]);E!=null&&u(i,["seed"],E);const A=a(e,["responseMimeType"]);A!=null&&u(i,["responseMimeType"],A);const y=a(e,["responseSchema"]);y!=null&&u(i,["responseSchema"],$f(y));const m=a(e,["responseJsonSchema"]);m!=null&&u(i,["responseJsonSchema"],m);const T=a(e,["routingConfig"]);T!=null&&u(i,["routingConfig"],T);const C=a(e,["modelSelectionConfig"]);C!=null&&u(i,["modelConfig"],C);const x=a(e,["safetySettings"]);if(n!==void 0&&x!=null){let I=x;Array.isArray(I)&&(I=I.map(V=>V)),u(n,["safetySettings"],I)}const M=a(e,["tools"]);if(n!==void 0&&M!=null){let I=rl(M);Array.isArray(I)&&(I=I.map(V=>fv(al(V)))),u(n,["tools"],I)}const _=a(e,["toolConfig"]);n!==void 0&&_!=null&&u(n,["toolConfig"],_);const N=a(e,["labels"]);n!==void 0&&N!=null&&u(n,["labels"],N);const b=a(e,["cachedContent"]);n!==void 0&&b!=null&&u(n,["cachedContent"],kn(t,b));const L=a(e,["responseModalities"]);L!=null&&u(i,["responseModalities"],L);const z=a(e,["mediaResolution"]);z!=null&&u(i,["mediaResolution"],z);const se=a(e,["speechConfig"]);se!=null&&u(i,["speechConfig"],cv(Xf(se)));const O=a(e,["audioTimestamp"]);O!=null&&u(i,["audioTimestamp"],O);const ae=a(e,["thinkingConfig"]);ae!=null&&u(i,["thinkingConfig"],ae);const J=a(e,["imageConfig"]);if(J!=null&&u(i,["imageConfig"],Fw(J)),a(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function Zh(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["contents"]);if(o!=null){let s=Pt(o);Array.isArray(s)&&(s=s.map(r=>Cr(r))),u(n,["contents"],s)}const l=a(e,["config"]);return l!=null&&u(n,["generationConfig"],mw(t,l,n)),n}function Wh(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["contents"]);if(o!=null){let s=Pt(o);Array.isArray(s)&&(s=s.map(r=>r)),u(n,["contents"],s)}const l=a(e,["config"]);return l!=null&&u(n,["generationConfig"],yw(t,l,n)),n}function jh(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>Gx(f))),u(e,["candidates"],c)}const o=a(t,["modelVersion"]);o!=null&&u(e,["modelVersion"],o);const l=a(t,["promptFeedback"]);l!=null&&u(e,["promptFeedback"],l);const s=a(t,["responseId"]);s!=null&&u(e,["responseId"],s);const r=a(t,["usageMetadata"]);return r!=null&&u(e,["usageMetadata"],r),e}function eg(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>d)),u(e,["candidates"],f)}const o=a(t,["createTime"]);o!=null&&u(e,["createTime"],o);const l=a(t,["modelVersion"]);l!=null&&u(e,["modelVersion"],l);const s=a(t,["promptFeedback"]);s!=null&&u(e,["promptFeedback"],s);const r=a(t,["responseId"]);r!=null&&u(e,["responseId"],r);const c=a(t,["usageMetadata"]);return c!=null&&u(e,["usageMetadata"],c),e}function vw(t,e){const n={};if(a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=a(t,["numberOfImages"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);const o=a(t,["aspectRatio"]);e!==void 0&&o!=null&&u(e,["parameters","aspectRatio"],o);const l=a(t,["guidanceScale"]);if(e!==void 0&&l!=null&&u(e,["parameters","guidanceScale"],l),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=a(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&u(e,["parameters","safetySetting"],s);const r=a(t,["personGeneration"]);e!==void 0&&r!=null&&u(e,["parameters","personGeneration"],r);const c=a(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&u(e,["parameters","includeSafetyAttributes"],c);const f=a(t,["includeRaiReason"]);e!==void 0&&f!=null&&u(e,["parameters","includeRaiReason"],f);const d=a(t,["language"]);e!==void 0&&d!=null&&u(e,["parameters","language"],d);const h=a(t,["outputMimeType"]);e!==void 0&&h!=null&&u(e,["parameters","outputOptions","mimeType"],h);const p=a(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&u(e,["parameters","outputOptions","compressionQuality"],p),a(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=a(t,["imageSize"]);if(e!==void 0&&g!=null&&u(e,["parameters","sampleImageSize"],g),a(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Sw(t,e){const n={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);const o=a(t,["negativePrompt"]);e!==void 0&&o!=null&&u(e,["parameters","negativePrompt"],o);const l=a(t,["numberOfImages"]);e!==void 0&&l!=null&&u(e,["parameters","sampleCount"],l);const s=a(t,["aspectRatio"]);e!==void 0&&s!=null&&u(e,["parameters","aspectRatio"],s);const r=a(t,["guidanceScale"]);e!==void 0&&r!=null&&u(e,["parameters","guidanceScale"],r);const c=a(t,["seed"]);e!==void 0&&c!=null&&u(e,["parameters","seed"],c);const f=a(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&u(e,["parameters","safetySetting"],f);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&u(e,["parameters","personGeneration"],d);const h=a(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&u(e,["parameters","includeSafetyAttributes"],h);const p=a(t,["includeRaiReason"]);e!==void 0&&p!=null&&u(e,["parameters","includeRaiReason"],p);const g=a(t,["language"]);e!==void 0&&g!=null&&u(e,["parameters","language"],g);const v=a(t,["outputMimeType"]);e!==void 0&&v!=null&&u(e,["parameters","outputOptions","mimeType"],v);const E=a(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&u(e,["parameters","outputOptions","compressionQuality"],E);const A=a(t,["addWatermark"]);e!==void 0&&A!=null&&u(e,["parameters","addWatermark"],A);const y=a(t,["labels"]);e!==void 0&&y!=null&&u(e,["labels"],y);const m=a(t,["imageSize"]);e!==void 0&&m!=null&&u(e,["parameters","sampleImageSize"],m);const T=a(t,["enhancePrompt"]);return e!==void 0&&T!=null&&u(e,["parameters","enhancePrompt"],T),n}function Tw(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const l=a(e,["config"]);return l!=null&&vw(l,n),n}function Ew(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const l=a(e,["config"]);return l!=null&&Sw(l,n),n}function Cw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>Uw(s))),u(e,["generatedImages"],l)}const o=a(t,["positivePromptSafetyAttributes"]);return o!=null&&u(e,["positivePromptSafetyAttributes"],rv(o)),e}function Aw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>Ar(s))),u(e,["generatedImages"],l)}const o=a(t,["positivePromptSafetyAttributes"]);return o!=null&&u(e,["positivePromptSafetyAttributes"],uv(o)),e}function _w(t,e){const n={},i=a(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i),a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=a(t,["durationSeconds"]);if(e!==void 0&&o!=null&&u(e,["parameters","durationSeconds"],o),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=a(t,["aspectRatio"]);e!==void 0&&l!=null&&u(e,["parameters","aspectRatio"],l);const s=a(t,["resolution"]);e!==void 0&&s!=null&&u(e,["parameters","resolution"],s);const r=a(t,["personGeneration"]);if(e!==void 0&&r!=null&&u(e,["parameters","personGeneration"],r),a(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=a(t,["negativePrompt"]);e!==void 0&&c!=null&&u(e,["parameters","negativePrompt"],c);const f=a(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&u(e,["parameters","enhancePrompt"],f),a(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=a(t,["lastFrame"]);e!==void 0&&d!=null&&u(e,["instances[0]","lastFrame"],_r(d));const h=a(t,["referenceImages"]);if(e!==void 0&&h!=null){let p=h;Array.isArray(p)&&(p=p.map(g=>wb(g))),u(e,["instances[0]","referenceImages"],p)}if(a(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(a(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function xw(t,e){const n={},i=a(t,["numberOfVideos"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);const o=a(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const l=a(t,["fps"]);e!==void 0&&l!=null&&u(e,["parameters","fps"],l);const s=a(t,["durationSeconds"]);e!==void 0&&s!=null&&u(e,["parameters","durationSeconds"],s);const r=a(t,["seed"]);e!==void 0&&r!=null&&u(e,["parameters","seed"],r);const c=a(t,["aspectRatio"]);e!==void 0&&c!=null&&u(e,["parameters","aspectRatio"],c);const f=a(t,["resolution"]);e!==void 0&&f!=null&&u(e,["parameters","resolution"],f);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&u(e,["parameters","personGeneration"],d);const h=a(t,["pubsubTopic"]);e!==void 0&&h!=null&&u(e,["parameters","pubsubTopic"],h);const p=a(t,["negativePrompt"]);e!==void 0&&p!=null&&u(e,["parameters","negativePrompt"],p);const g=a(t,["enhancePrompt"]);e!==void 0&&g!=null&&u(e,["parameters","enhancePrompt"],g);const v=a(t,["generateAudio"]);e!==void 0&&v!=null&&u(e,["parameters","generateAudio"],v);const E=a(t,["lastFrame"]);e!==void 0&&E!=null&&u(e,["instances[0]","lastFrame"],$t(E));const A=a(t,["referenceImages"]);if(e!==void 0&&A!=null){let T=A;Array.isArray(T)&&(T=T.map(C=>bb(C))),u(e,["instances[0]","referenceImages"],T)}const y=a(t,["mask"]);e!==void 0&&y!=null&&u(e,["instances[0]","mask"],xb(y));const m=a(t,["compressionQuality"]);return e!==void 0&&m!=null&&u(e,["parameters","compressionQuality"],m),n}function ww(t){const e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);const i=a(t,["metadata"]);i!=null&&u(e,["metadata"],i);const o=a(t,["done"]);o!=null&&u(e,["done"],o);const l=a(t,["error"]);l!=null&&u(e,["error"],l);const s=a(t,["response","generateVideoResponse"]);return s!=null&&u(e,["response"],Mw(s)),e}function bw(t){const e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);const i=a(t,["metadata"]);i!=null&&u(e,["metadata"],i);const o=a(t,["done"]);o!=null&&u(e,["done"],o);const l=a(t,["error"]);l!=null&&u(e,["error"],l);const s=a(t,["response"]);return s!=null&&u(e,["response"],Iw(s)),e}function Rw(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const l=a(e,["image"]);l!=null&&u(n,["instances[0]","image"],_r(l));const s=a(e,["video"]);s!=null&&u(n,["instances[0]","video"],dv(s));const r=a(e,["source"]);r!=null&&Dw(r,n);const c=a(e,["config"]);return c!=null&&_w(c,n),n}function Nw(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const l=a(e,["image"]);l!=null&&u(n,["instances[0]","image"],$t(l));const s=a(e,["video"]);s!=null&&u(n,["instances[0]","video"],pv(s));const r=a(e,["source"]);r!=null&&Lw(r,n);const c=a(e,["config"]);return c!=null&&xw(c,n),n}function Mw(t){const e={},n=a(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>Ow(s))),u(e,["generatedVideos"],l)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&u(e,["raiMediaFilteredCount"],i);const o=a(t,["raiMediaFilteredReasons"]);return o!=null&&u(e,["raiMediaFilteredReasons"],o),e}function Iw(t){const e={},n=a(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>Pw(s))),u(e,["generatedVideos"],l)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&u(e,["raiMediaFilteredCount"],i);const o=a(t,["raiMediaFilteredReasons"]);return o!=null&&u(e,["raiMediaFilteredReasons"],o),e}function Dw(t,e){const n={},i=a(t,["prompt"]);e!==void 0&&i!=null&&u(e,["instances[0]","prompt"],i);const o=a(t,["image"]);e!==void 0&&o!=null&&u(e,["instances[0]","image"],_r(o));const l=a(t,["video"]);return e!==void 0&&l!=null&&u(e,["instances[0]","video"],dv(l)),n}function Lw(t,e){const n={},i=a(t,["prompt"]);e!==void 0&&i!=null&&u(e,["instances[0]","prompt"],i);const o=a(t,["image"]);e!==void 0&&o!=null&&u(e,["instances[0]","image"],$t(o));const l=a(t,["video"]);return e!==void 0&&l!=null&&u(e,["instances[0]","video"],pv(l)),n}function Uw(t){const e={},n=a(t,["_self"]);n!=null&&u(e,["image"],Jw(n));const i=a(t,["raiFilteredReason"]);i!=null&&u(e,["raiFilteredReason"],i);const o=a(t,["_self"]);return o!=null&&u(e,["safetyAttributes"],rv(o)),e}function Ar(t){const e={},n=a(t,["_self"]);n!=null&&u(e,["image"],av(n));const i=a(t,["raiFilteredReason"]);i!=null&&u(e,["raiFilteredReason"],i);const o=a(t,["_self"]);o!=null&&u(e,["safetyAttributes"],uv(o));const l=a(t,["prompt"]);return l!=null&&u(e,["enhancedPrompt"],l),e}function kw(t){const e={},n=a(t,["_self"]);n!=null&&u(e,["mask"],av(n));const i=a(t,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),u(e,["labels"],o)}return e}function Ow(t){const e={},n=a(t,["video"]);return n!=null&&u(e,["video"],Ab(n)),e}function Pw(t){const e={},n=a(t,["_self"]);return n!=null&&u(e,["video"],_b(n)),e}function Hw(t){const e={},n=a(t,["modelSelectionConfig"]);n!=null&&u(e,["modelConfig"],n);const i=a(t,["responseJsonSchema"]);i!=null&&u(e,["responseJsonSchema"],i);const o=a(t,["audioTimestamp"]);o!=null&&u(e,["audioTimestamp"],o);const l=a(t,["candidateCount"]);l!=null&&u(e,["candidateCount"],l);const s=a(t,["enableAffectiveDialog"]);s!=null&&u(e,["enableAffectiveDialog"],s);const r=a(t,["frequencyPenalty"]);r!=null&&u(e,["frequencyPenalty"],r);const c=a(t,["logprobs"]);c!=null&&u(e,["logprobs"],c);const f=a(t,["maxOutputTokens"]);f!=null&&u(e,["maxOutputTokens"],f);const d=a(t,["mediaResolution"]);d!=null&&u(e,["mediaResolution"],d);const h=a(t,["presencePenalty"]);h!=null&&u(e,["presencePenalty"],h);const p=a(t,["responseLogprobs"]);p!=null&&u(e,["responseLogprobs"],p);const g=a(t,["responseMimeType"]);g!=null&&u(e,["responseMimeType"],g);const v=a(t,["responseModalities"]);v!=null&&u(e,["responseModalities"],v);const E=a(t,["responseSchema"]);E!=null&&u(e,["responseSchema"],E);const A=a(t,["routingConfig"]);A!=null&&u(e,["routingConfig"],A);const y=a(t,["seed"]);y!=null&&u(e,["seed"],y);const m=a(t,["speechConfig"]);m!=null&&u(e,["speechConfig"],cv(m));const T=a(t,["stopSequences"]);T!=null&&u(e,["stopSequences"],T);const C=a(t,["temperature"]);C!=null&&u(e,["temperature"],C);const x=a(t,["thinkingConfig"]);x!=null&&u(e,["thinkingConfig"],x);const M=a(t,["topK"]);M!=null&&u(e,["topK"],M);const _=a(t,["topP"]);if(_!=null&&u(e,["topP"],_),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Gw(t,e){const n={},i=a(e,["model"]);return i!=null&&u(n,["_url","name"],le(t,i)),n}function Vw(t,e){const n={},i=a(e,["model"]);return i!=null&&u(n,["_url","name"],le(t,i)),n}function zw(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function Bw(t){const e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function qw(t){const e={},n=a(t,["aspectRatio"]);n!=null&&u(e,["aspectRatio"],n);const i=a(t,["imageSize"]);if(i!=null&&u(e,["imageSize"],i),a(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Fw(t){const e={},n=a(t,["aspectRatio"]);n!=null&&u(e,["aspectRatio"],n);const i=a(t,["imageSize"]);i!=null&&u(e,["imageSize"],i);const o=a(t,["outputMimeType"]);o!=null&&u(e,["imageOutputOptions","mimeType"],o);const l=a(t,["outputCompressionQuality"]);return l!=null&&u(e,["imageOutputOptions","compressionQuality"],l),e}function Jw(t){const e={},n=a(t,["bytesBase64Encoded"]);n!=null&&u(e,["imageBytes"],yi(n));const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function av(t){const e={},n=a(t,["gcsUri"]);n!=null&&u(e,["gcsUri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&u(e,["imageBytes"],yi(i));const o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function _r(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=a(t,["imageBytes"]);n!=null&&u(e,["bytesBase64Encoded"],yi(n));const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function $t(t){const e={},n=a(t,["gcsUri"]);n!=null&&u(e,["gcsUri"],n);const i=a(t,["imageBytes"]);i!=null&&u(e,["bytesBase64Encoded"],yi(i));const o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Yw(t,e,n){const i={},o=a(e,["pageSize"]);n!==void 0&&o!=null&&u(n,["_query","pageSize"],o);const l=a(e,["pageToken"]);n!==void 0&&l!=null&&u(n,["_query","pageToken"],l);const s=a(e,["filter"]);n!==void 0&&s!=null&&u(n,["_query","filter"],s);const r=a(e,["queryBase"]);return n!==void 0&&r!=null&&u(n,["_url","models_url"],j0(t,r)),i}function Kw(t,e,n){const i={},o=a(e,["pageSize"]);n!==void 0&&o!=null&&u(n,["_query","pageSize"],o);const l=a(e,["pageToken"]);n!==void 0&&l!=null&&u(n,["_query","pageToken"],l);const s=a(e,["filter"]);n!==void 0&&s!=null&&u(n,["_query","filter"],s);const r=a(e,["queryBase"]);return n!==void 0&&r!=null&&u(n,["_url","models_url"],j0(t,r)),i}function $w(t,e){const n={},i=a(e,["config"]);return i!=null&&Yw(t,i,n),n}function Xw(t,e){const n={},i=a(e,["config"]);return i!=null&&Kw(t,i,n),n}function Qw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=a(t,["_self"]);if(o!=null){let l=ev(o);Array.isArray(l)&&(l=l.map(s=>bc(s))),u(e,["models"],l)}return e}function Zw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=a(t,["_self"]);if(o!=null){let l=ev(o);Array.isArray(l)&&(l=l.map(s=>Rc(s))),u(e,["models"],l)}return e}function Ww(t){const e={},n=a(t,["maskMode"]);n!=null&&u(e,["maskMode"],n);const i=a(t,["segmentationClasses"]);i!=null&&u(e,["maskClasses"],i);const o=a(t,["maskDilation"]);return o!=null&&u(e,["dilation"],o),e}function bc(t){const e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);const i=a(t,["displayName"]);i!=null&&u(e,["displayName"],i);const o=a(t,["description"]);o!=null&&u(e,["description"],o);const l=a(t,["version"]);l!=null&&u(e,["version"],l);const s=a(t,["_self"]);s!=null&&u(e,["tunedModelInfo"],hb(s));const r=a(t,["inputTokenLimit"]);r!=null&&u(e,["inputTokenLimit"],r);const c=a(t,["outputTokenLimit"]);c!=null&&u(e,["outputTokenLimit"],c);const f=a(t,["supportedGenerationMethods"]);f!=null&&u(e,["supportedActions"],f);const d=a(t,["temperature"]);d!=null&&u(e,["temperature"],d);const h=a(t,["maxTemperature"]);h!=null&&u(e,["maxTemperature"],h);const p=a(t,["topP"]);p!=null&&u(e,["topP"],p);const g=a(t,["topK"]);g!=null&&u(e,["topK"],g);const v=a(t,["thinking"]);return v!=null&&u(e,["thinking"],v),e}function Rc(t){const e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);const i=a(t,["displayName"]);i!=null&&u(e,["displayName"],i);const o=a(t,["description"]);o!=null&&u(e,["description"],o);const l=a(t,["versionId"]);l!=null&&u(e,["version"],l);const s=a(t,["deployedModels"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(p=>fw(p))),u(e,["endpoints"],h)}const r=a(t,["labels"]);r!=null&&u(e,["labels"],r);const c=a(t,["_self"]);c!=null&&u(e,["tunedModelInfo"],gb(c));const f=a(t,["defaultCheckpointId"]);f!=null&&u(e,["defaultCheckpointId"],f);const d=a(t,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(p=>p)),u(e,["checkpoints"],h)}return e}function jw(t){const e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);const i=a(t,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const o=a(t,["executableCode"]);o!=null&&u(e,["executableCode"],o);const l=a(t,["fileData"]);l!=null&&u(e,["fileData"],dw(l));const s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],pw(s));const r=a(t,["functionResponse"]);r!=null&&u(e,["functionResponse"],r);const c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],Hx(c));const f=a(t,["text"]);f!=null&&u(e,["text"],f);const d=a(t,["thought"]);d!=null&&u(e,["thought"],d);const h=a(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const p=a(t,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function eb(t){const e={},n=a(t,["productImage"]);return n!=null&&u(e,["image"],$t(n)),e}function tb(t,e){const n={},i=a(t,["numberOfImages"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);const o=a(t,["baseSteps"]);e!==void 0&&o!=null&&u(e,["parameters","baseSteps"],o);const l=a(t,["outputGcsUri"]);e!==void 0&&l!=null&&u(e,["parameters","storageUri"],l);const s=a(t,["seed"]);e!==void 0&&s!=null&&u(e,["parameters","seed"],s);const r=a(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&u(e,["parameters","safetySetting"],r);const c=a(t,["personGeneration"]);e!==void 0&&c!=null&&u(e,["parameters","personGeneration"],c);const f=a(t,["addWatermark"]);e!==void 0&&f!=null&&u(e,["parameters","addWatermark"],f);const d=a(t,["outputMimeType"]);e!==void 0&&d!=null&&u(e,["parameters","outputOptions","mimeType"],d);const h=a(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&u(e,["parameters","outputOptions","compressionQuality"],h);const p=a(t,["enhancePrompt"]);e!==void 0&&p!=null&&u(e,["parameters","enhancePrompt"],p);const g=a(t,["labels"]);return e!==void 0&&g!=null&&u(e,["labels"],g),n}function nb(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["source"]);o!=null&&ob(o,n);const l=a(e,["config"]);return l!=null&&tb(l,n),n}function ib(t){const e={},n=a(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ar(o))),u(e,["generatedImages"],i)}return e}function ob(t,e){const n={},i=a(t,["prompt"]);e!==void 0&&i!=null&&u(e,["instances[0]","prompt"],i);const o=a(t,["personImage"]);e!==void 0&&o!=null&&u(e,["instances[0]","personImage","image"],$t(o));const l=a(t,["productImages"]);if(e!==void 0&&l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>eb(r))),u(e,["instances[0]","productImages"],s)}return n}function lb(t){const e={},n=a(t,["referenceImage"]);n!=null&&u(e,["referenceImage"],$t(n));const i=a(t,["referenceId"]);i!=null&&u(e,["referenceId"],i);const o=a(t,["referenceType"]);o!=null&&u(e,["referenceType"],o);const l=a(t,["maskImageConfig"]);l!=null&&u(e,["maskImageConfig"],Ww(l));const s=a(t,["controlImageConfig"]);s!=null&&u(e,["controlImageConfig"],Jx(s));const r=a(t,["styleImageConfig"]);r!=null&&u(e,["styleImageConfig"],r);const c=a(t,["subjectImageConfig"]);return c!=null&&u(e,["subjectImageConfig"],c),e}function rv(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&u(e,["categories"],n);const i=a(t,["safetyAttributes","scores"]);i!=null&&u(e,["scores"],i);const o=a(t,["contentType"]);return o!=null&&u(e,["contentType"],o),e}function uv(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&u(e,["categories"],n);const i=a(t,["safetyAttributes","scores"]);i!=null&&u(e,["scores"],i);const o=a(t,["contentType"]);return o!=null&&u(e,["contentType"],o),e}function sb(t){const e={},n=a(t,["category"]);if(n!=null&&u(e,["category"],n),a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=a(t,["threshold"]);return i!=null&&u(e,["threshold"],i),e}function ab(t){const e={},n=a(t,["image"]);return n!=null&&u(e,["image"],$t(n)),e}function rb(t,e){const n={},i=a(t,["mode"]);e!==void 0&&i!=null&&u(e,["parameters","mode"],i);const o=a(t,["maxPredictions"]);e!==void 0&&o!=null&&u(e,["parameters","maxPredictions"],o);const l=a(t,["confidenceThreshold"]);e!==void 0&&l!=null&&u(e,["parameters","confidenceThreshold"],l);const s=a(t,["maskDilation"]);e!==void 0&&s!=null&&u(e,["parameters","maskDilation"],s);const r=a(t,["binaryColorThreshold"]);e!==void 0&&r!=null&&u(e,["parameters","binaryColorThreshold"],r);const c=a(t,["labels"]);return e!==void 0&&c!=null&&u(e,["labels"],c),n}function ub(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["source"]);o!=null&&fb(o,n);const l=a(e,["config"]);return l!=null&&rb(l,n),n}function cb(t){const e={},n=a(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>kw(o))),u(e,["generatedMasks"],i)}return e}function fb(t,e){const n={},i=a(t,["prompt"]);e!==void 0&&i!=null&&u(e,["instances[0]","prompt"],i);const o=a(t,["image"]);e!==void 0&&o!=null&&u(e,["instances[0]","image"],$t(o));const l=a(t,["scribbleImage"]);return e!==void 0&&l!=null&&u(e,["instances[0]","scribble"],ab(l)),n}function cv(t){const e={},n=a(t,["voiceConfig"]);n!=null&&u(e,["voiceConfig"],n);const i=a(t,["languageCode"]);if(i!=null&&u(e,["languageCode"],i),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function db(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&u(e,["functionCallingConfig"],hw(n));const i=a(t,["retrievalConfig"]);return i!=null&&u(e,["retrievalConfig"],i),e}function pb(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),u(e,["functionDeclarations"],d)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearchRetrieval"]);i!=null&&u(e,["googleSearchRetrieval"],i);const o=a(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);const l=a(t,["fileSearch"]);l!=null&&u(e,["fileSearch"],l);const s=a(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=a(t,["googleMaps"]);r!=null&&u(e,["googleMaps"],zw(r));const c=a(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],Bw(c));const f=a(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function fv(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>gw(p))),u(e,["functionDeclarations"],h)}const i=a(t,["retrieval"]);i!=null&&u(e,["retrieval"],i);const o=a(t,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);const l=a(t,["computerUse"]);if(l!=null&&u(e,["computerUse"],l),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=a(t,["codeExecution"]);s!=null&&u(e,["codeExecution"],s);const r=a(t,["enterpriseWebSearch"]);r!=null&&u(e,["enterpriseWebSearch"],r);const c=a(t,["googleMaps"]);c!=null&&u(e,["googleMaps"],c);const f=a(t,["googleSearch"]);f!=null&&u(e,["googleSearch"],f);const d=a(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function hb(t){const e={},n=a(t,["baseModel"]);n!=null&&u(e,["baseModel"],n);const i=a(t,["createTime"]);i!=null&&u(e,["createTime"],i);const o=a(t,["updateTime"]);return o!=null&&u(e,["updateTime"],o),e}function gb(t){const e={},n=a(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&u(e,["baseModel"],n);const i=a(t,["createTime"]);i!=null&&u(e,["createTime"],i);const o=a(t,["updateTime"]);return o!=null&&u(e,["updateTime"],o),e}function mb(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);const o=a(t,["description"]);e!==void 0&&o!=null&&u(e,["description"],o);const l=a(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&u(e,["defaultCheckpointId"],l),n}function yb(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);const o=a(t,["description"]);e!==void 0&&o!=null&&u(e,["description"],o);const l=a(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&u(e,["defaultCheckpointId"],l),n}function vb(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","name"],le(t,i));const o=a(e,["config"]);return o!=null&&mb(o,n),n}function Sb(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["config"]);return o!=null&&yb(o,n),n}function Tb(t,e){const n={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);const o=a(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&u(e,["parameters","safetySetting"],o);const l=a(t,["personGeneration"]);e!==void 0&&l!=null&&u(e,["parameters","personGeneration"],l);const s=a(t,["includeRaiReason"]);e!==void 0&&s!=null&&u(e,["parameters","includeRaiReason"],s);const r=a(t,["outputMimeType"]);e!==void 0&&r!=null&&u(e,["parameters","outputOptions","mimeType"],r);const c=a(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&u(e,["parameters","outputOptions","compressionQuality"],c);const f=a(t,["enhanceInputImage"]);e!==void 0&&f!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],f);const d=a(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const h=a(t,["labels"]);e!==void 0&&h!=null&&u(e,["labels"],h);const p=a(t,["numberOfImages"]);e!==void 0&&p!=null&&u(e,["parameters","sampleCount"],p);const g=a(t,["mode"]);return e!==void 0&&g!=null&&u(e,["parameters","mode"],g),n}function Eb(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["_url","model"],le(t,i));const o=a(e,["image"]);o!=null&&u(n,["instances[0]","image"],$t(o));const l=a(e,["upscaleFactor"]);l!=null&&u(n,["parameters","upscaleConfig","upscaleFactor"],l);const s=a(e,["config"]);return s!=null&&Tb(s,n),n}function Cb(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Ar(l))),u(e,["generatedImages"],o)}return e}function Ab(t){const e={},n=a(t,["uri"]);n!=null&&u(e,["uri"],n);const i=a(t,["encodedVideo"]);i!=null&&u(e,["videoBytes"],yi(i));const o=a(t,["encoding"]);return o!=null&&u(e,["mimeType"],o),e}function _b(t){const e={},n=a(t,["gcsUri"]);n!=null&&u(e,["uri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&u(e,["videoBytes"],yi(i));const o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function xb(t){const e={},n=a(t,["image"]);n!=null&&u(e,["_self"],$t(n));const i=a(t,["maskMode"]);return i!=null&&u(e,["maskMode"],i),e}function wb(t){const e={},n=a(t,["image"]);n!=null&&u(e,["image"],_r(n));const i=a(t,["referenceType"]);return i!=null&&u(e,["referenceType"],i),e}function bb(t){const e={},n=a(t,["image"]);n!=null&&u(e,["image"],$t(n));const i=a(t,["referenceType"]);return i!=null&&u(e,["referenceType"],i),e}function dv(t){const e={},n=a(t,["uri"]);n!=null&&u(e,["uri"],n);const i=a(t,["videoBytes"]);i!=null&&u(e,["encodedVideo"],yi(i));const o=a(t,["mimeType"]);return o!=null&&u(e,["encoding"],o),e}function pv(t){const e={},n=a(t,["uri"]);n!=null&&u(e,["gcsUri"],n);const i=a(t,["videoBytes"]);i!=null&&u(e,["bytesBase64Encoded"],yi(i));const o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rb(t,e){const n={},i=a(t,["displayName"]);return e!==void 0&&i!=null&&u(e,["displayName"],i),n}function Nb(t){const e={},n=a(t,["config"]);return n!=null&&Rb(n,e),e}function Mb(t,e){const n={},i=a(t,["force"]);return e!==void 0&&i!=null&&u(e,["_query","force"],i),n}function Ib(t){const e={},n=a(t,["name"]);n!=null&&u(e,["_url","name"],n);const i=a(t,["config"]);return i!=null&&Mb(i,e),e}function Db(t){const e={},n=a(t,["name"]);return n!=null&&u(e,["_url","name"],n),e}function Lb(t,e){const n={},i=a(t,["customMetadata"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>s)),u(e,["customMetadata"],l)}const o=a(t,["chunkingConfig"]);return e!==void 0&&o!=null&&u(e,["chunkingConfig"],o),n}function Ub(t){const e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);const i=a(t,["metadata"]);i!=null&&u(e,["metadata"],i);const o=a(t,["done"]);o!=null&&u(e,["done"],o);const l=a(t,["error"]);l!=null&&u(e,["error"],l);const s=a(t,["response"]);return s!=null&&u(e,["response"],Ob(s)),e}function kb(t){const e={},n=a(t,["fileSearchStoreName"]);n!=null&&u(e,["_url","file_search_store_name"],n);const i=a(t,["fileName"]);i!=null&&u(e,["fileName"],i);const o=a(t,["config"]);return o!=null&&Lb(o,e),e}function Ob(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["parent"]);i!=null&&u(e,["parent"],i);const o=a(t,["documentName"]);return o!=null&&u(e,["documentName"],o),e}function Pb(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);return e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),n}function Hb(t){const e={},n=a(t,["config"]);return n!=null&&Pb(n,e),e}function Gb(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=a(t,["fileSearchStores"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(e,["fileSearchStores"],l)}return e}function hv(t,e){const n={},i=a(t,["mimeType"]);e!==void 0&&i!=null&&u(e,["mimeType"],i);const o=a(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const l=a(t,["customMetadata"]);if(e!==void 0&&l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>c)),u(e,["customMetadata"],r)}const s=a(t,["chunkingConfig"]);return e!==void 0&&s!=null&&u(e,["chunkingConfig"],s),n}function Vb(t){const e={},n=a(t,["fileSearchStoreName"]);n!=null&&u(e,["_url","file_search_store_name"],n);const i=a(t,["config"]);return i!=null&&hv(i,e),e}function zb(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bb="Content-Type",qb="X-Server-Timeout",Fb="User-Agent",Nc="x-goog-api-client",Jb="1.33.0",Yb=`google-genai-sdk/${Jb}`,Kb="v1beta1",$b="v1beta";class Xb{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Kb,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:$b,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[s,r]of Object.entries(e.queryParams))o.searchParams.append(s,String(r));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),e.abortSignal),this.unaryApiCall(o,l,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,l]of Object.entries(n))typeof l=="object"?i[o]=Object.assign(Object.assign({},i[o]),l):l!==void 0&&(i[o]=l);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),e.abortSignal),this.streamApiCall(o,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,o){if(n&&n.timeout||o){const l=new AbortController,s=l.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const r=setTimeout(()=>l.abort(),n.timeout);r&&typeof r.unref=="function"&&r.unref()}o&&o.addEventListener("abort",()=>{l.abort()}),e.signal=s}return n&&n.extraBody!==null&&Qb(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await tg(o),new _c(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await tg(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){return Jt(this,arguments,function*(){var i;const o=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let s="";const r="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:d}=yield Y(o.read());if(f){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=l.decode(d,{stream:!0});try{const v=JSON.parse(h);if("error"in v){const E=JSON.parse(JSON.stringify(v.error)),A=E.status,y=E.code,m=`got status: ${A}. ${JSON.stringify(v)}`;if(y>=400&&y<600)throw new Er({message:m,status:y})}}catch(v){if(v.name==="ApiError")throw v}s+=h;let p=-1,g=0;for(;;){p=-1,g=0;for(const A of c){const y=s.indexOf(A);y!==-1&&(p===-1||y<p)&&(p=y,g=A.length)}if(p===-1)break;const v=s.substring(0,p);s=s.substring(p+g);const E=v.trim();if(E.startsWith(r)){const A=E.substring(r.length).trim();try{const y=new Response(A,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Y(new _c(y))}catch(y){throw new Error(`exception parsing stream chunk ${A}. ${y}`)}}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=Yb+" "+this.clientOptions.userAgentExtra;return e[Fb]=n,e[Nc]=n,e[Bb]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[o,l]of Object.entries(e.headers))i.append(o,l);e.timeout&&e.timeout>0&&i.append(qb,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,s=await l.stat(e);o.sizeBytes=String(s.size);const r=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:s.type;if(r===void 0||r==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=r;const c={file:o},f=this.getFileName(e),d=G("upload/v1beta/files",c._url),h=await this.fetchUploadUrl(d,o.sizeBytes,o.mimeType,f,c,n==null?void 0:n.httpOptions);return l.upload(e,h,this)}async uploadFileToFileSearchStore(e,n,i){var o;const l=this.clientOptions.uploader,s=await l.stat(n),r=String(s.size),c=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(n),h={};i!=null&&hv(i,h);const p=await this.fetchUploadUrl(f,r,c,d,h,i==null?void 0:i.httpOptions);return l.uploadToFileSearchStore(n,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,o,l,s){var r;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},o?{"X-Goog-Upload-File-Name":o}:{})};const f=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(r=f==null?void 0:f.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function tg(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new Er({message:o,status:n}):new Error(o)}}function Qb(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(l,s){const r=Object.assign({},l);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const f=s[c],d=r[c];f&&typeof f=="object"&&!Array.isArray(f)&&d&&typeof d=="object"&&!Array.isArray(d)?r[c]=i(d,f):(d&&f&&typeof d!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof f}. Overwriting.`),r[c]=f)}return r}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zb="mcp_used/unknown";let Wb=!1;function gv(t){for(const e of t)if(jb(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Wb}function mv(t){var e;const n=(e=t[Nc])!==null&&e!==void 0?e:"";t[Nc]=(n+` ${Zb}`).trimStart()}function jb(t){return t!==null&&typeof t=="object"&&t instanceof Zf}function e1(t){return Jt(this,arguments,function*(n,i=100){let o,l=0;for(;l<i;){const s=yield Y(n.listTools({cursor:o}));for(const r of s.tools)yield yield Y(r),l++;if(!s.nextCursor)break;o=s.nextCursor}})}class Zf{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Zf(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const l={},s=[];for(const d of this.mcpClients)try{for(var r=!0,c=(n=void 0,Yt(e1(d))),f;f=await c.next(),e=f.done,!e;r=!0){o=f.value,r=!1;const h=o;s.push(h);const p=h.name;if(l[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);l[p]=d}}catch(h){n={error:h}}finally{try{!r&&!e&&(i=c.return)&&await i.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),DA(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const s=await o.callTool({name:i.name,arguments:i.args},void 0,l);n.push({functionResponse:{name:i.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function t1(t,e,n){const i=new _A;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(i,o),e(i)}class n1{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),s=l1(this.apiClient.getDefaultHeaders()),r=this.apiClient.getApiKey(),c=`${o}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${r}`;let f=()=>{};const d=new Promise(T=>{f=T}),h=e.callbacks,p=function(){f({})},g=this.apiClient,v={onopen:p,onmessage:T=>{t1(g,h.onmessage,T)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(T){},onclose:(i=h==null?void 0:h.onclose)!==null&&i!==void 0?i:function(T){}},E=this.webSocketFactory.create(c,o1(s),v);E.connect(),await d;const m={setup:{model:le(this.apiClient,e.model)}};return E.send(JSON.stringify(m)),new i1(E,this.apiClient)}}class i1{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Nx(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Rx(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Io.PLAY)}pause(){this.sendPlaybackControl(Io.PAUSE)}stop(){this.sendPlaybackControl(Io.STOP)}resetContext(){this.sendPlaybackControl(Io.RESET_CONTEXT)}close(){this.conn.close()}}function o1(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function l1(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const s1="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function a1(t,e,n){const i=new AA;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const l=JSON.parse(o);if(t.isVertexAI()){const s=Dx(l);Object.assign(i,s)}else Object.assign(i,l);e(i)}class r1{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new n1(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,l,s,r;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let d;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&gv(e.config.tools)&&mv(h);const p=d1(h);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,d);else{const b=this.apiClient.getApiKey();let L="BidiGenerateContent",z="key";b!=null&&b.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),L="BidiGenerateContentConstrained",z="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${L}?${z}=${b}`}let g=()=>{};const v=new Promise(b=>{g=b}),E=e.callbacks,A=function(){var b;(b=E==null?void 0:E.onopen)===null||b===void 0||b.call(E),g({})},y=this.apiClient,m={onopen:A,onmessage:b=>{a1(y,E.onmessage,b)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(b){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(b){}},T=this.webSocketFactory.create(d,f1(p),m);T.connect(),await v;let C=le(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const b=this.apiClient.getProject(),L=this.apiClient.getLocation();C=`projects/${b}/locations/${L}/`+C}let x={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ya.AUDIO]}:e.config.responseModalities=[Ya.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const M=(r=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&r!==void 0?r:[],_=[];for(const b of M)if(this.isCallableTool(b)){const L=b;_.push(await L.tool())}else _.push(b);_.length>0&&(e.config.tools=_);const N={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?x=bx(this.apiClient,N):x=wx(this.apiClient,N),delete x.config,T.send(JSON.stringify(x)),new c1(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const u1={turnComplete:!0};class c1{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Pt(n.turns),e.isVertexAI()||(i=i.map(o=>Cr(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const l of i){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(s1)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},u1),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Ix(e)}:n={realtimeInput:Mx(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function f1(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function d1(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ng=10;function ig(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(zo(s)){o=!0;break}if(!o)return!0;const l=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function zo(t){return"callTool"in t&&typeof t.callTool=="function"}function p1(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>zo(o)))!==null&&i!==void 0?i:!1}function og(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,o)=>{if(zo(i))return;const l=i;l.functionDeclarations&&l.functionDeclarations.length>0&&n.push(o)}),n}function lg(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h1 extends Un{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,l,s,r;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!p1(n)||ig(n.config))return await this.generateContentInternal(c);const f=og(n);if(f.length>0){const E=f.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let d,h;const p=Pt(c.contents),g=(l=(o=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:ng;let v=0;for(;v<g&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const E=d.candidates[0].content,A=[];for(const y of(r=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&r!==void 0?r:[])if(zo(y)){const T=await y.callTool(d.functionCalls);A.push(...T)}v++,h={role:"user",parts:A},c.contents=Pt(c.contents),c.contents.push(E),c.contents.push(h),lg(c.config)&&(p.push(E),p.push(h))}return lg(c.config)&&(d.automaticFunctionCallingHistory=p),d},this.generateContentStream=async n=>{var i,o,l,s,r;if(this.maybeMoveToResponseJsonSchem(n),ig(n.config)){const h=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(h)}const c=og(n);if(c.length>0){const h=c.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(l=(o=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,d=(r=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.disable;if(f&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let l;const s=[];if(i!=null&&i.generatedImages)for(const c of i.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((o=c==null?void 0:c.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=c==null?void 0:c.safetyAttributes:s.push(c);let r;return l?r={generatedImages:s,positivePromptSafetyAttributes:l,sdkHttpResponse:i.sdkHttpResponse}:r={generatedImages:s,sdkHttpResponse:i.sdkHttpResponse},r}),this.list=async n=>{var i;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((i=s.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Wi(Dn.PAGED_ITEM_MODELS,r=>this.listInternal(r),await this.listInternal(s),s)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var i,o,l,s,r,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(l=n.source)===null||l===void 0?void 0:l.video)===null||s===void 0)&&s.uri&&(!((c=(r=n.source)===null||r===void 0?void 0:r.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,o;const l=(n=e.config)===null||n===void 0?void 0:n.tools;if(!l)return e;const s=await Promise.all(l.map(async c=>zo(c)?await c.tool():c)),r={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(r.config.tools=s,e.config&&e.config.tools&&gv(e.config.tools)){const c=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),mv(f),r.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return r}async initAfcToolsMap(e){var n,i,o;const l=new Map;for(const s of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(zo(s)){const r=s,c=await r.tool();for(const f of(o=c.functionDeclarations)!==null&&o!==void 0?o:[]){if(!f.name)throw new Error("Function declaration name is required.");if(l.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);l.set(f.name,r)}}return l}async processAfcStream(e){var n,i,o;const l=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:ng;let s=!1,r=0;const c=await this.initAfcToolsMap(e);return function(f,d,h){return Jt(this,arguments,function*(){for(var p,g,v,E,A,y;r<l;){s&&(r++,s=!1);const x=yield Y(f.processParamsMaybeAddMcpUsage(h)),M=yield Y(f.generateContentStreamInternal(x)),_=[],N=[];try{for(var m=!0,T=(g=void 0,Yt(M)),C;C=yield Y(T.next()),p=C.done,!p;m=!0){E=C.value,m=!1;const b=E;if(yield yield Y(b),b.candidates&&(!((A=b.candidates[0])===null||A===void 0)&&A.content)){N.push(b.candidates[0].content);for(const L of(y=b.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(r<l&&L.functionCall){if(!L.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(L.functionCall.name)){const z=yield Y(d.get(L.functionCall.name).callTool([L.functionCall]));_.push(...z)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${L.functionCall.name}`)}}}}catch(b){g={error:b}}finally{try{!m&&!p&&(v=T.return)&&(yield Y(v.call(T)))}finally{if(g)throw g.error}}if(_.length>0){s=!0;const b=new Rl;b.candidates=[{content:{role:"user",parts:_}}],yield yield Y(b);const L=[];L.push(...N),L.push({role:"user",parts:_});const z=Pt(h.contents).concat(L);h.contents=z}else break}})}(this,c,e)}async generateContentInternal(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=Wh(this.apiClient,e);return r=G("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=eg(d),p=new Rl;return Object.assign(p,h),p})}else{const f=Zh(this.apiClient,e);return r=G("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=jh(d),p=new Rl;return Object.assign(p,h),p})}}async generateContentStreamInternal(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=Wh(this.apiClient,e);return r=G("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(h){return Jt(this,arguments,function*(){var p,g,v,E;try{for(var A=!0,y=Yt(h),m;m=yield Y(y.next()),p=m.done,!p;A=!0){E=m.value,A=!1;const T=E,C=eg(yield Y(T.json()));C.sdkHttpResponse={headers:T.headers};const x=new Rl;Object.assign(x,C),yield yield Y(x)}}catch(T){g={error:T}}finally{try{!A&&!p&&(v=y.return)&&(yield Y(v.call(y)))}finally{if(g)throw g.error}}})})}else{const f=Zh(this.apiClient,e);return r=G("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),s.then(function(h){return Jt(this,arguments,function*(){var p,g,v,E;try{for(var A=!0,y=Yt(h),m;m=yield Y(y.next()),p=m.done,!p;A=!0){E=m.value,A=!1;const T=E,C=jh(yield Y(T.json()));C.sdkHttpResponse={headers:T.headers};const x=new Rl;Object.assign(x,C),yield yield Y(x)}}catch(T){g={error:T}}finally{try{!A&&!p&&(v=y.return)&&(yield Y(v.call(y)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=rw(this.apiClient,e);return r=G("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=cw(d),p=new Uh;return Object.assign(p,h),p})}else{const f=aw(this.apiClient,e);return r=G("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=uw(d),p=new Uh;return Object.assign(p,h),p})}}async generateImagesInternal(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=Ew(this.apiClient,e);return r=G("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=Aw(d),p=new kh;return Object.assign(p,h),p})}else{const f=Tw(this.apiClient,e);return r=G("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=Cw(d),p=new kh;return Object.assign(p,h),p})}}async editImageInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const r=iw(this.apiClient,e);return l=G("{model}:predict",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=ow(c),d=new dA;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const r=Eb(this.apiClient,e);return l=G("{model}:predict",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=Cb(c),d=new pA;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const r=nb(this.apiClient,e);return l=G("{model}:predict",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=ib(c),d=new hA;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const r=ub(this.apiClient,e);return l=G("{model}:predict",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=cb(c),d=new gA;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=Vw(this.apiClient,e);return r=G("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>Rc(d))}else{const f=Gw(this.apiClient,e);return r=G("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>bc(d))}}async listInternal(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=Xw(this.apiClient,e);return r=G("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=Zw(d),p=new Oh;return Object.assign(p,h),p})}else{const f=$w(this.apiClient,e);return r=G("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=Qw(d),p=new Oh;return Object.assign(p,h),p})}}async update(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=Sb(this.apiClient,e);return r=G("{model}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>Rc(d))}else{const f=vb(this.apiClient,e);return r=G("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>bc(d))}}async delete(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=jx(this.apiClient,e);return r=G("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=tw(d),p=new Ph;return Object.assign(p,h),p})}else{const f=Wx(this.apiClient,e);return r=G("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=ew(d),p=new Ph;return Object.assign(p,h),p})}}async countTokens(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=Xx(this.apiClient,e);return r=G("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=Zx(d),p=new Hh;return Object.assign(p,h),p})}else{const f=$x(this.apiClient,e);return r=G("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=Qx(d),p=new Hh;return Object.assign(p,h),p})}}async computeTokens(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const r=zx(this.apiClient,e);return l=G("{model}:computeTokens",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=Bx(c),d=new mA;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=Nw(this.apiClient,e);return r=G("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const h=bw(d),p=new Ka;return Object.assign(p,h),p})}else{const f=Rw(this.apiClient,e);return r=G("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>{const h=ww(d),p=new Ka;return Object.assign(p,h),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g1 extends Un{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=sA(e);return r=G("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s}else{const f=lA(e);return r=G("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s}}async fetchPredictVideosOperationInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const r=WC(e);return l=G("{resourceName}:fetchPredictOperation",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function m1(t){const e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function y1(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>w1(l))),u(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&u(e,["role"],i),e}function v1(t,e,n){const i={},o=a(e,["expireTime"]);n!==void 0&&o!=null&&u(n,["expireTime"],o);const l=a(e,["newSessionExpireTime"]);n!==void 0&&l!=null&&u(n,["newSessionExpireTime"],l);const s=a(e,["uses"]);n!==void 0&&s!=null&&u(n,["uses"],s);const r=a(e,["liveConnectConstraints"]);n!==void 0&&r!=null&&u(n,["bidiGenerateContentSetup"],x1(t,r));const c=a(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&u(n,["fieldMask"],c),i}function S1(t,e){const n={},i=a(e,["config"]);return i!=null&&u(n,["config"],v1(t,i,n)),n}function T1(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function E1(t){const e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);const i=a(t,["args"]);i!=null&&u(e,["args"],i);const o=a(t,["name"]);if(o!=null&&u(e,["name"],o),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function C1(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function A1(t){const e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function _1(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig"],i);const o=a(t,["responseModalities"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig","responseModalities"],o);const l=a(t,["temperature"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","temperature"],l);const s=a(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);const r=a(t,["topK"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","topK"],r);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","mediaResolution"],f);const d=a(t,["seed"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","seed"],d);const h=a(t,["speechConfig"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","speechConfig"],Qf(h));const p=a(t,["thinkingConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","thinkingConfig"],p);const g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=a(t,["systemInstruction"]);e!==void 0&&v!=null&&u(e,["setup","systemInstruction"],y1(Qe(v)));const E=a(t,["tools"]);if(e!==void 0&&E!=null){let M=rl(E);Array.isArray(M)&&(M=M.map(_=>R1(al(_)))),u(e,["setup","tools"],M)}const A=a(t,["sessionResumption"]);e!==void 0&&A!=null&&u(e,["setup","sessionResumption"],b1(A));const y=a(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&u(e,["setup","inputAudioTranscription"],y);const m=a(t,["outputAudioTranscription"]);e!==void 0&&m!=null&&u(e,["setup","outputAudioTranscription"],m);const T=a(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&u(e,["setup","realtimeInputConfig"],T);const C=a(t,["contextWindowCompression"]);e!==void 0&&C!=null&&u(e,["setup","contextWindowCompression"],C);const x=a(t,["proactivity"]);if(e!==void 0&&x!=null&&u(e,["setup","proactivity"],x),a(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function x1(t,e){const n={},i=a(e,["model"]);i!=null&&u(n,["setup","model"],le(t,i));const o=a(e,["config"]);return o!=null&&u(n,["config"],_1(o,n)),n}function w1(t){const e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);const i=a(t,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const o=a(t,["executableCode"]);o!=null&&u(e,["executableCode"],o);const l=a(t,["fileData"]);l!=null&&u(e,["fileData"],T1(l));const s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],E1(s));const r=a(t,["functionResponse"]);r!=null&&u(e,["functionResponse"],r);const c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],m1(c));const f=a(t,["text"]);f!=null&&u(e,["text"],f);const d=a(t,["thought"]);d!=null&&u(e,["thought"],d);const h=a(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const p=a(t,["videoMetadata"]);return p!=null&&u(e,["videoMetadata"],p),e}function b1(t){const e={},n=a(t,["handle"]);if(n!=null&&u(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function R1(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),u(e,["functionDeclarations"],d)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearchRetrieval"]);i!=null&&u(e,["googleSearchRetrieval"],i);const o=a(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);const l=a(t,["fileSearch"]);l!=null&&u(e,["fileSearch"],l);const s=a(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=a(t,["googleMaps"]);r!=null&&u(e,["googleMaps"],C1(r));const c=a(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],A1(c));const f=a(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N1(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(l=>`${n}.${l}`);e.push(...o)}else e.push(n)}return e.join(",")}function M1(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const l=i.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,n=l):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const l=N1(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let r=[];o.length>0&&(r=o.map(f=>s.includes(f)?`generationConfig.${f}`:f));const c=[];l&&c.push(l),r.length>0&&c.push(...r),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class I1 extends Un{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const r=S1(this.apiClient,e);l=G("auth_tokens",r._url),s=r._query,delete r.config,delete r._url,delete r._query;const c=M1(r,e.config);return o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D1(t,e){const n={},i=a(t,["force"]);return e!==void 0&&i!=null&&u(e,["_query","force"],i),n}function L1(t){const e={},n=a(t,["name"]);n!=null&&u(e,["_url","name"],n);const i=a(t,["config"]);return i!=null&&D1(i,e),e}function U1(t){const e={},n=a(t,["name"]);return n!=null&&u(e,["_url","name"],n),e}function k1(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);return e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),n}function O1(t){const e={},n=a(t,["parent"]);n!=null&&u(e,["_url","parent"],n);const i=a(t,["config"]);return i!=null&&k1(i,e),e}function P1(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=a(t,["documents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class H1 extends Un{constructor(e){super(),this.apiClient=e,this.list=async n=>new Wi(Dn.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=U1(e);return l=G("{name}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(e){var n,i;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=L1(e);o=G("{name}",s._url),l=s._query,delete s._url,delete s._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=O1(e);return l=G("{parent}/documents",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=P1(c),d=new yA;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class G1 extends Un{constructor(e,n=new H1(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new Wi(Dn.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=Nb(e);return l=G("fileSearchStores",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async get(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=Db(e);return l=G("{name}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(e){var n,i;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Ib(e);o=G("{name}",s._url),l=s._query,delete s._url,delete s._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=Hb(e);return l=G("fileSearchStores",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=Gb(c),d=new vA;return Object.assign(d,f),d})}}async uploadToFileSearchStoreInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=Vb(e);return l=G("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=zb(c),d=new SA;return Object.assign(d,f),d})}}async importFile(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=kb(e);return l=G("{file_search_store_name}:importFile",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=Ub(c),d=new Jf;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let yv=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return yv=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const V1=()=>yv();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mc(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Ic=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gt extends Error{}class ot extends Gt{constructor(e,n,i,o){super(`${ot.makeMessage(e,n,i)}`),this.status=e,this.headers=o,this.error=n}static makeMessage(e,n,i){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,n,i,o){if(!e||!o)return new xr({message:i,cause:Ic(n)});const l=n;return e===400?new Sv(e,l,i,o):e===401?new Tv(e,l,i,o):e===403?new Ev(e,l,i,o):e===404?new Cv(e,l,i,o):e===409?new Av(e,l,i,o):e===422?new _v(e,l,i,o):e===429?new xv(e,l,i,o):e>=500?new wv(e,l,i,o):new ot(e,l,i,o)}}class Dc extends ot{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class xr extends ot{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class vv extends xr{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Sv extends ot{}class Tv extends ot{}class Ev extends ot{}class Cv extends ot{}class Av extends ot{}class _v extends ot{}class xv extends ot{}class wv extends ot{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const z1=/^[a-z][a-z0-9+.-]*:/i,B1=t=>z1.test(t);let Lc=t=>(Lc=Array.isArray,Lc(t));const q1=Lc;let F1=q1;const sg=F1;function J1(t){if(!t)return!0;for(const e in t)return!1;return!0}function Y1(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const K1=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Gt(`${t} must be an integer`);if(e<0)throw new Gt(`${t} must be a positive integer`);return e},$1=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const X1=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q1(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Z1=()=>{var t,e,n,i,o;const l=Q1();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":rg(Deno.build.os),"X-Stainless-Arch":ag(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":rg((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":ag((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const s=W1();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function W1(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const o=i[1]||0,l=i[2]||0,s=i[3]||0;return{browser:e,version:`${o}.${l}.${s}`}}}return null}const ag=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",rg=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Js;const j1=()=>Js??(Js=Z1());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eR(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function bv(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function tR(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return bv({start(){},async pull(n){const{done:i,value:o}=await e.next();i?n.close():n.enqueue(o)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Rv(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function nR(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const i=t.getReader(),o=i.cancel();i.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iR=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nv=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function mu(t,e,n){return Nv(),new File(t,e??"unknown_file",n)}function oR(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const lR=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mv=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",sR=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Mv(t),aR=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function rR(t,e,n){if(Nv(),t=await t,sR(t))return t instanceof File?t:mu([await t.arrayBuffer()],t.name);if(aR(t)){const o=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),mu(await Uc(o),e,n)}const i=await Uc(t);if(e||(e=oR(t)),!(n!=null&&n.type)){const o=i.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return mu(i,e,n)}async function Uc(t){var e,n,i,o,l;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(Mv(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(lR(t))try{for(var r=!0,c=Yt(t),f;f=await c.next(),e=f.done,!e;r=!0){o=f.value,r=!1;const d=o;s.push(...await Uc(d))}}catch(d){n={error:d}}finally{try{!r&&!e&&(i=c.return)&&await i.call(c)}finally{if(n)throw n.error}}else{const d=(l=t==null?void 0:t.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof t}${d?`; constructor: ${d}`:""}${uR(t)}`)}return s}function uR(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Iv{constructor(e){this._client=e}}Iv._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dv(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const ug=Object.freeze(Object.create(null)),cR=(t=Dv)=>function(n,...i){if(n.length===1)return n[0];let o=!1;const l=[],s=n.reduce((d,h,p)=>{var g,v,E;/[?#]/.test(h)&&(o=!0);const A=i[p];let y=(o?encodeURIComponent:t)(""+A);return p!==i.length&&(A==null||typeof A=="object"&&A.toString===((E=Object.getPrototypeOf((v=Object.getPrototypeOf((g=A.hasOwnProperty)!==null&&g!==void 0?g:ug))!==null&&v!==void 0?v:ug))===null||E===void 0?void 0:E.toString))&&(y=A+"",l.push({start:d.length+h.length,length:y.length,error:`Value of type ${Object.prototype.toString.call(A).slice(8,-1)} is not a valid path parameter`})),d+h+(p===i.length?"":y)},""),r=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=c.exec(r))!==null;)l.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(l.sort((d,h)=>d.start-h.start),l.length>0){let d=0;const h=l.reduce((p,g)=>{const v=" ".repeat(g.start-d),E="^".repeat(g.length);return d=g.start+g.length,p+v+E},"");throw new Gt(`Path parameters result in path with invalid segments:
${l.map(p=>p.error).join(`
`)}
${s}
${h}`)}return s},Ys=cR(Dv);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lv extends Iv{create(e,n){var i;const{api_version:o=this._client.apiVersion}=e,l=Xa(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new Gt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new Gt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ys`/${o}/interactions`,Object.assign(Object.assign({body:l},n),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,n={},i){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(Ys`/${o}/interactions/${e}`,i)}cancel(e,n={},i){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(Ys`/${o}/interactions/${e}/cancel`,i)}get(e,n={},i){var o;const l=n??{},{api_version:s=this._client.apiVersion}=l,r=Xa(l,["api_version"]);return this._client.get(Ys`/${s}/interactions/${e}`,Object.assign(Object.assign({query:r},i),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}Lv._key=Object.freeze(["interactions"]);class Uv extends Lv{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fR(t){let e=0;for(const o of t)e+=o.length;const n=new Uint8Array(e);let i=0;for(const o of t)n.set(o,i),i+=o.length;return n}let Ks;function Wf(t){let e;return(Ks??(e=new globalThis.TextEncoder,Ks=e.encode.bind(e)))(t)}let $s;function cg(t){let e;return($s??(e=new globalThis.TextDecoder,$s=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wr{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Wf(e):e;this.buffer=fR([this.buffer,n]);const i=[];let o;for(;(o=dR(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){i.push(cg(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,s=cg(this.buffer.subarray(0,l));i.push(s),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}wr.NEWLINE_CHARS=new Set([`
`,"\r"]);wr.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function dR(t,e){for(let o=e??0;o<t.length;o++){if(t[o]===10)return{preceding:o,index:o+1,carriage:!1};if(t[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function pR(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qa={off:0,error:200,warn:300,info:400,debug:500},fg=(t,e,n)=>{if(t){if(Y1(Qa,t))return t;nt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Qa))}`)}};function Ol(){}function Xs(t,e,n){return!e||Qa[t]>Qa[n]?Ol:e[t].bind(e)}const hR={error:Ol,warn:Ol,info:Ol,debug:Ol};let dg=new WeakMap;function nt(t){var e;const n=t.logger,i=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return hR;const o=dg.get(n);if(o&&o[0]===i)return o[1];const l={error:Xs("error",n,i),warn:Xs("warn",n,i),info:Xs("info",n,i),debug:Xs("debug",n,i)};return dg.set(n,[i,l]),l}const Li=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Do{constructor(e,n,i){this.iterator=e,this.controller=n,this.client=i}static fromSSEResponse(e,n,i){let o=!1;const l=i?nt(i):console;function s(){return Jt(this,arguments,function*(){var c,f,d,h;if(o)throw new Gt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let p=!1;try{try{for(var g=!0,v=Yt(gR(e,n)),E;E=yield Y(v.next()),c=E.done,!c;g=!0){h=E.value,g=!1;const A=h;if(!p)if(A.data.startsWith("[DONE]")){p=!0;continue}else try{yield yield Y(JSON.parse(A.data))}catch(y){throw l.error("Could not parse message into JSON:",A.data),l.error("From chunk:",A.raw),y}}}catch(A){f={error:A}}finally{try{!g&&!c&&(d=v.return)&&(yield Y(d.call(v)))}finally{if(f)throw f.error}}p=!0}catch(A){if(Mc(A))return yield Y(void 0);throw A}finally{p||n.abort()}})}return new Do(s,n,i)}static fromReadableStream(e,n,i){let o=!1;function l(){return Jt(this,arguments,function*(){var c,f,d,h;const p=new wr,g=Rv(e);try{for(var v=!0,E=Yt(g),A;A=yield Y(E.next()),c=A.done,!c;v=!0){h=A.value,v=!1;const y=h;for(const m of p.decode(y))yield yield Y(m)}}catch(y){f={error:y}}finally{try{!v&&!c&&(d=E.return)&&(yield Y(d.call(E)))}finally{if(f)throw f.error}}for(const y of p.flush())yield yield Y(y)})}function s(){return Jt(this,arguments,function*(){var c,f,d,h;if(o)throw new Gt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let p=!1;try{try{for(var g=!0,v=Yt(l()),E;E=yield Y(v.next()),c=E.done,!c;g=!0){h=E.value,g=!1;const A=h;p||A&&(yield yield Y(JSON.parse(A)))}}catch(A){f={error:A}}finally{try{!g&&!c&&(d=v.return)&&(yield Y(d.call(v)))}finally{if(f)throw f.error}}p=!0}catch(A){if(Mc(A))return yield Y(void 0);throw A}finally{p||n.abort()}})}return new Do(s,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),o=l=>({next:()=>{if(l.length===0){const s=i.next();e.push(s),n.push(s)}return l.shift()}});return[new Do(()=>o(e),this.controller,this.client),new Do(()=>o(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return bv({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:o,done:l}=await n.next();if(l)return i.close();const s=Wf(JSON.stringify(o)+`
`);i.enqueue(s)}catch(o){i.error(o)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function gR(t,e){return Jt(this,arguments,function*(){var i,o,l,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Gt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Gt("Attempted to iterate over a response with no body");const r=new yR,c=new wr,f=Rv(t.body);try{for(var d=!0,h=Yt(mR(f)),p;p=yield Y(h.next()),i=p.done,!i;d=!0){s=p.value,d=!1;const g=s;for(const v of c.decode(g)){const E=r.decode(v);E&&(yield yield Y(E))}}}catch(g){o={error:g}}finally{try{!d&&!i&&(l=h.return)&&(yield Y(l.call(h)))}finally{if(o)throw o.error}}for(const g of c.flush()){const v=r.decode(g);v&&(yield yield Y(v))}})}function mR(t){return Jt(this,arguments,function*(){var n,i,o,l;let s=new Uint8Array;try{for(var r=!0,c=Yt(t),f;f=yield Y(c.next()),n=f.done,!n;r=!0){l=f.value,r=!1;const d=l;if(d==null)continue;const h=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?Wf(d):d;let p=new Uint8Array(s.length+h.length);p.set(s),p.set(h,s.length),s=p;let g;for(;(g=pR(s))!==-1;)yield yield Y(s.slice(0,g)),s=s.slice(g)}}catch(d){i={error:d}}finally{try{!r&&!n&&(o=c.return)&&(yield Y(o.call(c)))}finally{if(i)throw i.error}}s.length>0&&(yield yield Y(s))})}class yR{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,o]=vR(e,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function vR(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function SR(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:o,startTime:l}=e,s=await(async()=>{var r;if(e.options.stream)return nt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Do.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),f=(r=c==null?void 0:c.split(";")[0])===null||r===void 0?void 0:r.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return nt(t).debug(`[${i}] response parsed`,Li({retryOfRequestLogID:o,url:n.url,status:n.status,body:s,durationMs:Date.now()-l})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jf extends Promise{constructor(e,n,i=SR){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new jf(this.client,this.responsePromise,async(n,i)=>e(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kv=Symbol("brand.privateNullableHeaders");function*TR(t){if(!t)return;if(kv in t){const{values:i,nulls:o}=t;yield*i.entries();for(const l of o)yield[l,null];return}let e=!1,n;t instanceof Headers?n=t.entries():sg(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const o=i[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const l=sg(i[1])?i[1]:[i[1]];let s=!1;for(const r of l)r!==void 0&&(e&&!s&&(s=!0,yield[o,null]),yield[o,r])}}const yu=t=>{const e=new Headers,n=new Set;for(const i of t){const o=new Set;for(const[l,s]of TR(i)){const r=l.toLowerCase();o.has(r)||(e.delete(l),o.add(r)),s===null?(e.delete(l),n.add(r)):(e.append(l,s),n.delete(r))}}return{[kv]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vu=t=>{var e,n,i,o,l,s;if(typeof globalThis.process<"u")return(i=(n=(e=YC)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(s=(l=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||l===void 0?void 0:l.call(o,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ov;class br{constructor(e){var n,i,o,l,s,r,c,f=e===void 0?{}:e,{baseURL:d=vu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=vu("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=f,g=Xa(f,["baseURL","apiKey","apiVersion"]);const v=Object.assign(Object.assign({apiKey:h,apiVersion:p},g),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=v.baseURL,this.timeout=(i=v.timeout)!==null&&i!==void 0?i:br.DEFAULT_TIMEOUT,this.logger=(o=v.logger)!==null&&o!==void 0?o:console;const E="warn";this.logLevel=E,this.logLevel=(s=(l=fg(v.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:fg(vu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:E,this.fetchOptions=v.fetchOptions,this.maxRetries=(r=v.maxRetries)!==null&&r!==void 0?r:2,this.fetch=(c=v.fetch)!==null&&c!==void 0?c:eR(),this.encoder=iR,this._options=v,this.apiKey=h,this.apiVersion=p}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){if(this.apiKey!=null)return yu([{"x-goog-api-key":this.apiKey}])}stringifyQuery(e){return Object.entries(e).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new Gt(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${vo}`}defaultIdempotencyKey(){return`stainless-node-retry-${V1()}`}makeStatusError(e,n,i,o){return ot.generate(e,n,i,o)}buildURL(e,n,i){const o=!this.baseURLOverridden()&&i||this.baseURL,l=B1(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return J1(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(l.search=this.stringifyQuery(n)),l.toString()}async prepareOptions(e){}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(o=>Object.assign({method:e,path:n},o)))}request(e,n=null){return new jf(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){var o,l,s;const r=await e,c=(o=r.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=c),await this.prepareOptions(r);const{req:f,url:d,timeout:h}=await this.buildRequest(r,{retryCount:c-n});await this.prepareRequest(f,{url:d,options:r});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=i===void 0?"":`, retryOf: ${i}`,v=Date.now();if(nt(this).debug(`[${p}] sending request`,Li({retryOfRequestLogID:i,method:r.method,url:d,options:r,headers:f.headers})),!((l=r.signal)===null||l===void 0)&&l.aborted)throw new Dc;const E=new AbortController,A=await this.fetchWithTimeout(d,f,h,E).catch(Ic),y=Date.now();if(A instanceof globalThis.Error){const T=`retrying, ${n} attempts remaining`;if(!((s=r.signal)===null||s===void 0)&&s.aborted)throw new Dc;const C=Mc(A)||/timed? ?out/i.test(String(A)+("cause"in A?String(A.cause):""));if(n)return nt(this).info(`[${p}] connection ${C?"timed out":"failed"} - ${T}`),nt(this).debug(`[${p}] connection ${C?"timed out":"failed"} (${T})`,Li({retryOfRequestLogID:i,url:d,durationMs:y-v,message:A.message})),this.retryRequest(r,n,i??p);throw nt(this).info(`[${p}] connection ${C?"timed out":"failed"} - error; no more retries left`),nt(this).debug(`[${p}] connection ${C?"timed out":"failed"} (error; no more retries left)`,Li({retryOfRequestLogID:i,url:d,durationMs:y-v,message:A.message})),C?new vv:new xr({cause:A})}const m=`[${p}${g}] ${f.method} ${d} ${A.ok?"succeeded":"failed"} with status ${A.status} in ${y-v}ms`;if(!A.ok){const T=await this.shouldRetry(A);if(n&&T){const b=`retrying, ${n} attempts remaining`;return await nR(A.body),nt(this).info(`${m} - ${b}`),nt(this).debug(`[${p}] response error (${b})`,Li({retryOfRequestLogID:i,url:A.url,status:A.status,headers:A.headers,durationMs:y-v})),this.retryRequest(r,n,i??p,A.headers)}const C=T?"error; no more retries left":"error; not retryable";nt(this).info(`${m} - ${C}`);const x=await A.text().catch(b=>Ic(b).message),M=$1(x),_=M?void 0:x;throw nt(this).debug(`[${p}] response error (${C})`,Li({retryOfRequestLogID:i,url:A.url,status:A.status,headers:A.headers,message:_,durationMs:Date.now()-v})),this.makeStatusError(A.status,M,_,A.headers)}return nt(this).info(m),nt(this).debug(`[${p}] response start`,Li({retryOfRequestLogID:i,url:A.url,status:A.status,headers:A.headers,durationMs:y-v})),{response:A,options:r,controller:E,requestLogID:p,retryOfRequestLogID:i,startTime:v}}async fetchWithTimeout(e,n,i,o){const l=n||{},{signal:s,method:r}=l,c=Xa(l,["signal","method"]);s&&s.addEventListener("abort",()=>o.abort());const f=setTimeout(()=>o.abort(),i),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,h=Object.assign(Object.assign(Object.assign({signal:o.signal},d?{duplex:"half"}:{}),{method:"GET"}),c);r&&(h.method=r.toUpperCase());try{return await this.fetch.call(void 0,e,h)}finally{clearTimeout(f)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,o){var l;let s;const r=o==null?void 0:o.get("retry-after-ms");if(r){const f=parseFloat(r);Number.isNaN(f)||(s=f)}const c=o==null?void 0:o.get("retry-after");if(c&&!s){const f=parseFloat(c);Number.isNaN(f)?s=Date.parse(c)-Date.now():s=f*1e3}if(!(s&&0<=s&&s<60*1e3)){const f=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,f)}return await X1(s),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const l=n-e,s=Math.min(.5*Math.pow(2,l),8),r=1-Math.random()*.25;return s*r*1e3}async buildRequest(e,{retryCount:n=0}={}){var i,o,l;const s=Object.assign({},e),{method:r,path:c,query:f,defaultBaseURL:d}=s,h=this.buildURL(c,f,d);"timeout"in s&&K1("timeout",s.timeout),s.timeout=(i=s.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:p,body:g}=this.buildBody({options:s}),v=await this.buildHeaders({options:e,method:r,bodyHeaders:p,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:r,headers:v},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(l=s.fetchOptions)!==null&&l!==void 0?l:{}),url:h,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:o}){let l={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const s=yu([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),j1()),await this.authHeaders(e),this._options.defaultHeaders,i,e.headers]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=yu([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:tR(e)}:this.encoder({body:e,headers:i})}}br.DEFAULT_TIMEOUT=6e4;class Be extends br{constructor(){super(...arguments),this.interactions=new Uv(this)}}Ov=Be;Be.GeminiNextGenAPIClient=Ov;Be.GeminiNextGenAPIClientError=Gt;Be.APIError=ot;Be.APIConnectionError=xr;Be.APIConnectionTimeoutError=vv;Be.APIUserAbortError=Dc;Be.NotFoundError=Cv;Be.ConflictError=Av;Be.RateLimitError=xv;Be.BadRequestError=Sv;Be.AuthenticationError=Tv;Be.InternalServerError=wv;Be.PermissionDeniedError=Ev;Be.UnprocessableEntityError=_v;Be.toFile=rR;Be.Interactions=Uv;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ER(t,e){const n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],i),n}function CR(t,e){const n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],i),n}function AR(t,e){const n={},i=a(t,["sdkHttpResponse"]);return i!=null&&u(n,["sdkHttpResponse"],i),n}function _R(t,e){const n={},i=a(t,["sdkHttpResponse"]);return i!=null&&u(n,["sdkHttpResponse"],i),n}function xR(t,e,n){const i={};if(a(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=a(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&u(e,["displayName"],o),a(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=a(t,["epochCount"]);e!==void 0&&l!=null&&u(e,["tuningTask","hyperparameters","epochCount"],l);const s=a(t,["learningRateMultiplier"]);if(s!=null&&u(i,["tuningTask","hyperparameters","learningRateMultiplier"],s),a(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const r=a(t,["batchSize"]);e!==void 0&&r!=null&&u(e,["tuningTask","hyperparameters","batchSize"],r);const c=a(t,["learningRate"]);if(e!==void 0&&c!=null&&u(e,["tuningTask","hyperparameters","learningRate"],c),a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(a(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function wR(t,e,n){const i={};let o=a(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const g=a(t,["validationDataset"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec"],pg(g))}else if(o==="PREFERENCE_TUNING"){const g=a(t,["validationDataset"]);e!==void 0&&g!=null&&u(e,["preferenceOptimizationSpec"],pg(g))}const l=a(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&u(e,["tunedModelDisplayName"],l);const s=a(t,["description"]);e!==void 0&&s!=null&&u(e,["description"],s);let r=a(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const g=a(t,["epochCount"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(r==="PREFERENCE_TUNING"){const g=a(t,["epochCount"]);e!==void 0&&g!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let c=a(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=a(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(c==="PREFERENCE_TUNING"){const g=a(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let f=a(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const g=a(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(f==="PREFERENCE_TUNING"){const g=a(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&u(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let d=a(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const g=a(t,["adapterSize"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(d==="PREFERENCE_TUNING"){const g=a(t,["adapterSize"]);e!==void 0&&g!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(a(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=a(t,["labels"]);e!==void 0&&h!=null&&u(e,["labels"],h);const p=a(t,["beta"]);return e!==void 0&&p!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","beta"],p),i}function bR(t,e){const n={},i=a(t,["baseModel"]);i!=null&&u(n,["baseModel"],i);const o=a(t,["preTunedModel"]);o!=null&&u(n,["preTunedModel"],o);const l=a(t,["trainingDataset"]);l!=null&&HR(l);const s=a(t,["config"]);return s!=null&&xR(s,n),n}function RR(t,e){const n={},i=a(t,["baseModel"]);i!=null&&u(n,["baseModel"],i);const o=a(t,["preTunedModel"]);o!=null&&u(n,["preTunedModel"],o);const l=a(t,["trainingDataset"]);l!=null&&GR(l,n,e);const s=a(t,["config"]);return s!=null&&wR(s,n,e),n}function NR(t,e){const n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],i),n}function MR(t,e){const n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],i),n}function IR(t,e,n){const i={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const l=a(t,["pageToken"]);e!==void 0&&l!=null&&u(e,["_query","pageToken"],l);const s=a(t,["filter"]);return e!==void 0&&s!=null&&u(e,["_query","filter"],s),i}function DR(t,e,n){const i={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const l=a(t,["pageToken"]);e!==void 0&&l!=null&&u(e,["_query","pageToken"],l);const s=a(t,["filter"]);return e!==void 0&&s!=null&&u(e,["_query","filter"],s),i}function LR(t,e){const n={},i=a(t,["config"]);return i!=null&&IR(i,n),n}function UR(t,e){const n={},i=a(t,["config"]);return i!=null&&DR(i,n),n}function kR(t,e){const n={},i=a(t,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);const o=a(t,["nextPageToken"]);o!=null&&u(n,["nextPageToken"],o);const l=a(t,["tunedModels"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>Pv(r))),u(n,["tuningJobs"],s)}return n}function OR(t,e){const n={},i=a(t,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);const o=a(t,["nextPageToken"]);o!=null&&u(n,["nextPageToken"],o);const l=a(t,["tuningJobs"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>kc(r))),u(n,["tuningJobs"],s)}return n}function PR(t,e){const n={},i=a(t,["name"]);i!=null&&u(n,["model"],i);const o=a(t,["name"]);return o!=null&&u(n,["endpoint"],o),n}function HR(t,e){const n={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=a(t,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),u(n,["examples","examples"],o)}return n}function GR(t,e,n){const i={};let o=a(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=a(t,["gcsUri"]);e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=a(t,["gcsUri"]);e!==void 0&&s!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let l=a(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const s=a(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(l==="PREFERENCE_TUNING"){const s=a(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(a(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function Pv(t,e){const n={},i=a(t,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);const o=a(t,["name"]);o!=null&&u(n,["name"],o);const l=a(t,["state"]);l!=null&&u(n,["state"],Z0(l));const s=a(t,["createTime"]);s!=null&&u(n,["createTime"],s);const r=a(t,["tuningTask","startTime"]);r!=null&&u(n,["startTime"],r);const c=a(t,["tuningTask","completeTime"]);c!=null&&u(n,["endTime"],c);const f=a(t,["updateTime"]);f!=null&&u(n,["updateTime"],f);const d=a(t,["description"]);d!=null&&u(n,["description"],d);const h=a(t,["baseModel"]);h!=null&&u(n,["baseModel"],h);const p=a(t,["_self"]);return p!=null&&u(n,["tunedModel"],PR(p)),n}function kc(t,e){const n={},i=a(t,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);const o=a(t,["name"]);o!=null&&u(n,["name"],o);const l=a(t,["state"]);l!=null&&u(n,["state"],Z0(l));const s=a(t,["createTime"]);s!=null&&u(n,["createTime"],s);const r=a(t,["startTime"]);r!=null&&u(n,["startTime"],r);const c=a(t,["endTime"]);c!=null&&u(n,["endTime"],c);const f=a(t,["updateTime"]);f!=null&&u(n,["updateTime"],f);const d=a(t,["error"]);d!=null&&u(n,["error"],d);const h=a(t,["description"]);h!=null&&u(n,["description"],h);const p=a(t,["baseModel"]);p!=null&&u(n,["baseModel"],p);const g=a(t,["tunedModel"]);g!=null&&u(n,["tunedModel"],g);const v=a(t,["preTunedModel"]);v!=null&&u(n,["preTunedModel"],v);const E=a(t,["supervisedTuningSpec"]);E!=null&&u(n,["supervisedTuningSpec"],E);const A=a(t,["preferenceOptimizationSpec"]);A!=null&&u(n,["preferenceOptimizationSpec"],A);const y=a(t,["tuningDataStats"]);y!=null&&u(n,["tuningDataStats"],y);const m=a(t,["encryptionSpec"]);m!=null&&u(n,["encryptionSpec"],m);const T=a(t,["partnerModelTuningSpec"]);T!=null&&u(n,["partnerModelTuningSpec"],T);const C=a(t,["customBaseModel"]);C!=null&&u(n,["customBaseModel"],C);const x=a(t,["experiment"]);x!=null&&u(n,["experiment"],x);const M=a(t,["labels"]);M!=null&&u(n,["labels"],M);const _=a(t,["outputUri"]);_!=null&&u(n,["outputUri"],_);const N=a(t,["pipelineJob"]);N!=null&&u(n,["pipelineJob"],N);const b=a(t,["serviceAccount"]);b!=null&&u(n,["serviceAccount"],b);const L=a(t,["tunedModelDisplayName"]);L!=null&&u(n,["tunedModelDisplayName"],L);const z=a(t,["veoTuningSpec"]);return z!=null&&u(n,["veoTuningSpec"],z),n}function VR(t,e){const n={},i=a(t,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);const o=a(t,["name"]);o!=null&&u(n,["name"],o);const l=a(t,["metadata"]);l!=null&&u(n,["metadata"],l);const s=a(t,["done"]);s!=null&&u(n,["done"],s);const r=a(t,["error"]);return r!=null&&u(n,["error"],r),n}function pg(t,e){const n={},i=a(t,["gcsUri"]);i!=null&&u(n,["validationDatasetUri"],i);const o=a(t,["vertexDatasetResource"]);return o!=null&&u(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zR extends Un{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Wi(Dn.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:o});return l.baseModel=void 0,await this.tuneInternal(l)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),l=await this.tuneMldevInternal(o);let s="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?s=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(s=l.name.split("/operations/")[0]),{name:s,state:Ac.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=MR(e);return r=G("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>kc(d))}else{const f=NR(e);return r=G("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>Pv(d))}}async listInternal(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=UR(e);return r=G("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=OR(d),p=new Gh;return Object.assign(p,h),p})}else{const f=LR(e);return r=G("tunedModels",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=kR(d),p=new Gh;return Object.assign(p,h),p})}}async cancel(e){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=CR(e);return r=G("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=_R(d),p=new Vh;return Object.assign(p,h),p})}else{const f=ER(e);return r=G("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=AR(d),p=new Vh;return Object.assign(p,h),p})}}async tuneInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const r=RR(e,e);return l=G("tuningJobs",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>kc(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=bR(e);return l=G("tunedModels",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>VR(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BR{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const qR=1024*1024*8,FR=3,JR=1e3,YR=2,Za="x-goog-upload-status";async function KR(t,e,n){var i;const o=await Hv(t,e,n),l=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[Za])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function $R(t,e,n){var i;const o=await Hv(t,e,n),l=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[Za])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=J0(l),r=new Yf;return Object.assign(r,s),r}async function Hv(t,e,n){var i,o;let l=0,s=0,r=new _c(new Response),c="upload";for(l=t.size;s<l;){const f=Math.min(qR,l-s),d=t.slice(s,s+f);s+f>=l&&(c+=", finalize");let h=0,p=JR;for(;h<FR&&(r=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((i=r==null?void 0:r.headers)===null||i===void 0)&&i[Za]));)h++,await QR(p),p=p*YR;if(s+=f,((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Za])!=="active")break;if(l<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return r}async function XR(t){return{size:t.size,type:t.type}}function QR(t){return new Promise(e=>setTimeout(e,t))}class ZR{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await KR(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await $R(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await XR(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WR{create(e,n,i){return new jR(e,n,i)}}class jR{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hg="x-goog-api-key";class eN{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(hg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(hg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tN="gl-node/";class Gv{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Be({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=QC(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const o=new eN(this.apiKey);this.apiClient=new Xb({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:tN+"web",uploader:new ZR,downloader:new BR}),this.models=new h1(this.apiClient),this.live=new r1(this.apiClient,o,new WR),this.batches=new x_(this.apiClient),this.chats=new sx(this.models,this.apiClient),this.caches=new ix(this.apiClient),this.files=new mx(this.apiClient),this.operations=new g1(this.apiClient),this.authTokens=new I1(this.apiClient),this.tunings=new zR(this.apiClient),this.fileSearchStores=new G1(this.apiClient)}}const nN=async(t,e,n,i,o,l,s)=>{if(!i)throw new Error("Gemini API Key is not set. Please add it in the settings.");if(!o)throw new Error("Model Name is not configured. Please add it in the settings.");try{const r=new Gv({apiKey:i}),f=`${e==="Auto Detect"?"First, auto-detect the source language of the following text.":`The source language is ${e}.`} Then, translate the text to ${n}.
Do not add any extra explanations, comments, or annotations. Return only the translated text.`,d=await r.models.generateContentStream({model:o,contents:t,config:{systemInstruction:f,thinkingConfig:{thinkingBudget:0}}});let h="";for await(const p of d){if(s.aborted)throw new DOMException("Translation cancelled by user.","AbortError");const g=p.text;g&&(h+=g,l(g))}return h.trim()}catch(r){throw console.error("Error translating text:",r),r instanceof DOMException&&r.name==="AbortError"?r:new Error("Gemini API request failed.")}},iN=async(t,e,n,i)=>{if(!n)throw new Error("Gemini API Key is not set. Please add it in the settings.");const o=new Gv({apiKey:n}),l=t.match(/^data:(image\/\w+);base64,(.*)$/);if(!l)throw new Error("Invalid image data URL format.");const s=l[1],r=l[2],c={inlineData:{mimeType:s,data:r}},f={text:`1. First, accurately extract all text from the provided image.
2. Then, translate the extracted text into ${e}.
3. Finally, return a single JSON object with two keys: "sourceText" containing the exact extracted text, and "translatedText" containing the translation. Do not include any other explanations or markdown formatting.`};try{const h=(await o.models.generateContent({model:i,contents:{parts:[f,c]},config:{responseMimeType:"application/json",responseSchema:{type:Ft.OBJECT,properties:{sourceText:{type:Ft.STRING,description:"The text extracted from the image."},translatedText:{type:Ft.STRING,description:"The translated text."}},required:["sourceText","translatedText"]}}})).text.trim(),p=JSON.parse(h);if(typeof p.sourceText=="string"&&typeof p.translatedText=="string")return p;throw new Error("Invalid JSON structure in API response.")}catch(d){throw console.error("Error translating image:",d),d instanceof SyntaxError?new Error("Failed to parse the response from the Gemini API. The response was not valid JSON."):new Error("Gemini API request for image translation failed.")}},oN=async(t,e,n,i,o,l,s,r)=>{var d,h,p,g;if(!i)throw new Error("OpenAI API Key is not set.");if(!o)throw new Error("Model Name is not configured.");if(!l)throw new Error("OpenAI API URL is not set.");const f=`${e==="Auto Detect"?"First, auto-detect the source language of the following text.":`The source language is ${e}.`} Then, translate the text to ${n}. Do not add any extra explanations, comments, or annotations. Return only the translated text.`;try{const v=await fetch(`${l}/v1/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify({model:o,messages:[{role:"system",content:f},{role:"user",content:t}],temperature:1,stream:!0}),signal:r});if(!v.ok){if(r.aborted)throw new DOMException("Request aborted by user","AbortError");const m=await v.json();throw new Error(((d=m.error)==null?void 0:d.message)||`OpenAI API request failed with status ${v.status}`)}if(!v.body)throw new Error("Response body is null, cannot stream.");const E=v.body.getReader(),A=new TextDecoder;let y="";for(;;){const{done:m,value:T}=await E.read();if(m)break;const x=A.decode(T,{stream:!0}).split(`
`).filter(M=>M.trim().startsWith("data:"));for(const M of x){const _=M.replace(/^data: /,"").trim();if(_==="[DONE]")break;try{const b=(g=(p=(h=JSON.parse(_).choices)==null?void 0:h[0])==null?void 0:p.delta)==null?void 0:g.content;b&&(y+=b,s(b))}catch{}}}return y.trim()}catch(v){throw console.error("Error translating text with OpenAI:",v),v instanceof Error&&v.name==="AbortError"?v:new Error("OpenAI API request failed.")}},lN=async(t,e,n,i,o)=>{var s,r,c;if(!n)throw new Error("OpenAI API Key is not set.");if(!o)throw new Error("OpenAI API URL is not set.");if(!t.startsWith("data:image/")||!t.includes(";base64,"))throw new Error("Invalid image data URL format. It must be a base64 encoded image data URL.");const l=`1. First, accurately extract all text from the provided image.
2. Then, translate the extracted text into ${e}.
3. Finally, return a single JSON object with two keys: "sourceText" containing the exact extracted text, and "translatedText" containing the translation. Do not include any other explanations, markdown formatting, or code fences.`;try{const f=await fetch(`${o}/v1/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({model:i,messages:[{role:"user",content:[{type:"text",text:l},{type:"image_url",image_url:{url:t}}]}],max_tokens:2048,response_format:{type:"json_object"},stream:!1})});if(!f.ok){const g=await f.json();throw new Error(((s=g.error)==null?void 0:s.message)||`OpenAI API image request failed with status ${f.status}`)}const h=(c=(r=(await f.json()).choices[0])==null?void 0:r.message)==null?void 0:c.content;if(!h)throw new Error("No content in OpenAI API response.");const p=JSON.parse(h);if(typeof p.sourceText=="string"&&typeof p.translatedText=="string")return p;throw new Error("Invalid JSON structure in API response.")}catch(f){throw console.error("Error translating image with OpenAI:",f),f instanceof SyntaxError?new Error("Failed to parse the response from the OpenAI API. The response was not valid JSON."):f instanceof Error?f:new Error("OpenAI API request for image translation failed.")}},Oc=(t,e)=>e.some(n=>t instanceof n);let gg,mg;function sN(){return gg||(gg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aN(){return mg||(mg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pc=new WeakMap,Su=new WeakMap,Rr=new WeakMap;function rN(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",s)},l=()=>{n(Vi(t.result)),o()},s=()=>{i(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",s)});return Rr.set(e,t),e}function uN(t){if(Pc.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",s),t.removeEventListener("abort",s)},l=()=>{n(),o()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",s),t.addEventListener("abort",s)});Pc.set(t,e)}let Hc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pc.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Vv(t){Hc=t(Hc)}function cN(t){return aN().includes(t)?function(...e){return t.apply(Gc(this),e),Vi(this.request)}:function(...e){return Vi(t.apply(Gc(this),e))}}function fN(t){return typeof t=="function"?cN(t):(t instanceof IDBTransaction&&uN(t),Oc(t,sN())?new Proxy(t,Hc):t)}function Vi(t){if(t instanceof IDBRequest)return rN(t);if(Su.has(t))return Su.get(t);const e=fN(t);return e!==t&&(Su.set(t,e),Rr.set(e,t)),e}const Gc=t=>Rr.get(t);function dN(t,e,{blocked:n,upgrade:i,blocking:o,terminated:l}={}){const s=indexedDB.open(t,e),r=Vi(s);return i&&s.addEventListener("upgradeneeded",c=>{i(Vi(s.result),c.oldVersion,c.newVersion,Vi(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),r.then(c=>{l&&c.addEventListener("close",()=>l()),o&&c.addEventListener("versionchange",f=>o(f.oldVersion,f.newVersion,f))}).catch(()=>{}),r}const pN=["get","getKey","getAll","getAllKeys","count"],hN=["put","add","delete","clear"],Tu=new Map;function yg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tu.get(e))return Tu.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=hN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||pN.includes(n)))return;const l=async function(s,...r){const c=this.transaction(s,o?"readwrite":"readonly");let f=c.store;return i&&(f=f.index(r.shift())),(await Promise.all([f[n](...r),o&&c.done]))[0]};return Tu.set(e,l),l}Vv(t=>({...t,get:(e,n,i)=>yg(e,n)||t.get(e,n,i),has:(e,n)=>!!yg(e,n)||t.has(e,n)}));const gN=["continue","continuePrimaryKey","advance"],vg={},Vc=new WeakMap,zv=new WeakMap,mN={get(t,e){if(!gN.includes(e))return t[e];let n=vg[e];return n||(n=vg[e]=function(...i){Vc.set(this,zv.get(this)[e](...i))}),n}};async function*yN(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,mN);for(zv.set(n,e),Rr.set(n,Gc(e));e;)yield n,e=await(Vc.get(n)||e.continue()),Vc.delete(n)}function Sg(t,e){return e===Symbol.asyncIterator&&Oc(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Oc(t,[IDBIndex,IDBObjectStore])}Vv(t=>({...t,get(e,n,i){return Sg(e,n)?yN:t.get(e,n,i)},has(e,n){return Sg(e,n)||t.has(e,n)}}));const vN="offline-model-db",en="model-chunks",et="model-meta",Nl="consolidated-models",SN=3;class TN{constructor(){Tl(this,"dbPromise");Tl(this,"controllers",new Map);Tl(this,"isOpfsSupported");Tl(this,"opfsRootPromise");this.dbPromise=dN(vN,SN,{upgrade(e){e.objectStoreNames.contains(en)||e.createObjectStore(en,{keyPath:["modelName","chunkIndex"]}).createIndex("modelName","modelName",{unique:!1}),e.objectStoreNames.contains(et)||e.createObjectStore(et,{keyPath:"modelName"}),e.objectStoreNames.contains(Nl)||e.createObjectStore(Nl,{keyPath:"modelName"})}}),this.isOpfsSupported="getDirectory"in navigator.storage,this.opfsRootPromise=this.isOpfsSupported?navigator.storage.getDirectory().catch(e=>(console.error("Failed to get OPFS root directory:",e),null)):Promise.resolve(null),this.isOpfsSupported?console.log("Origin Private File System is supported and will be used for model storage."):console.log("Origin Private File System not supported, falling back to IndexedDB.")}async getOpfsRoot(){return this.opfsRootPromise}async startDownload(e,n,i,o){if(this.controllers.has(e)){console.warn(`Download for ${e} is already in progress.`);return}this.isOpfsSupported?await this.runOpfsDownload(e,n,i,o,!1):await this.runIdbDownload(e,n,i,o,!1)}async resumeDownload(e,n,i,o){this.controllers.has(e)||(this.isOpfsSupported?await this.runOpfsDownload(e,n,i,o,!0):await this.runIdbDownload(e,n,i,o,!0))}async runOpfsDownload(e,n,i,o,l){const s=new AbortController;this.controllers.set(e,s);let r=0,c=0;try{const f=await this.getOpfsRoot();if(!f)throw new Error("Could not access OPFS.");const d=await f.getFileHandle(e,{create:!0}),h=await this.getDb(),p=await h.get(et,e);if(l&&p&&p.total>0&&(c=p.total,r=(await d.getFile()).size,r>=c&&(console.warn(`Resuming download for ${e}, but existing file is complete or corrupt. Restarting.`),r=0)),c===0){const v=await fetch(n,{method:"HEAD",signal:s.signal});if(!v.ok)throw new Error(`Failed to get model info. Status: ${v.status}`);if(c=Number(v.headers.get("Content-Length")),isNaN(c)||c===0)throw new Error("Could not determine file size.");r=0}if(await h.put(et,{modelName:e,total:c,status:"downloading"}),o({downloaded:r,total:c,percent:c>0?r/c*100:0,status:"downloading"}),r<c){const v=await fetch(n,{headers:{Range:`bytes=${r}-`},signal:s.signal});if(!v.ok||!v.body)throw new Error(`Download request failed. Status: ${v.status}`);const E=await d.createWritable({keepExistingData:!0});await E.seek(r);const A=v.body.getReader();for(;;){const{done:y,value:m}=await A.read();if(y)break;await E.write(m),r+=m.length,o({downloaded:r,total:c,percent:r/c*100,status:"downloading"})}await E.close()}const g=await d.getFile();if(g.size!==c)throw new Error(`Final file size ${g.size} does not match expected size ${c}`);await h.put(et,{modelName:e,total:c,status:"completed"}),o({downloaded:c,total:c,percent:100,status:"completed"}),console.log(`Model ${e} downloaded to OPFS successfully.`)}catch(f){this.handleDownloadError(f,e,r,c,o)}finally{this.controllers.delete(e)}}async runIdbDownload(e,n,i,o,l){const s=new AbortController;this.controllers.set(e,s);let r=0,c=0,f=0;const d=5*1024*1024;try{const h=await this.getDb();if(l){const p=await h.get(et,e);if(!p||!p.total)return this.runIdbDownload(e,n,i,o,!1);c=p.total;const g=await h.getAllFromIndex(en,"modelName",e);r=g.reduce((v,E)=>v+E.data.byteLength,0),f=g.length}else{await this.deleteModel(e);const p=await fetch(n,{method:"HEAD",signal:s.signal});if(!p.ok)throw new Error(`Failed to get model info. Status: ${p.status}`);if(c=Number(p.headers.get("Content-Length")),isNaN(c)||c===0)throw new Error("Could not determine file size.")}for(await h.put(et,{modelName:e,total:c,status:"downloading"});r<c;){const p=r,g=Math.min(r+d-1,c-1),v=await fetch(n,{headers:{Range:`bytes=${p}-${g}`},signal:s.signal});if(!v.ok)throw new Error(`Chunk download failed. Status: ${v.status}`);const E=await v.arrayBuffer();await h.put(en,{modelName:e,chunkIndex:f,data:E}),r+=E.byteLength,f++,o({downloaded:r,total:c,percent:r/c*100,status:"downloading"})}await this._consolidateModel(e,o)}catch(h){this.handleDownloadError(h,e,r,c,o)}finally{this.controllers.delete(e)}}handleDownloadError(e,n,i,o,l){if(e instanceof DOMException&&e.name==="AbortError")console.log(`Download for ${n} was paused.`),this.getDb().then(s=>s.put(et,{modelName:n,total:o,status:"paused",downloaded:i})),l({downloaded:i,total:o,percent:o>0?i/o*100:0,status:"paused"});else{const s=e instanceof Error?e.message:"Unknown download error";console.error(`Download error for ${n}:`,e),this.getDb().then(r=>r.put(et,{modelName:n,status:"error",error:s,total:o})),l({downloaded:i,total:o,percent:o>0?i/o*100:0,status:"error",error:s})}}async _consolidateModel(e,n){const i=await this.getDb(),o=await i.get(et,e);if(!o)return;const l=o.total||0,s=o.downloaded||l;try{n({downloaded:s,total:l,percent:100,status:"consolidating"});const r=await this.getModelFromChunksAsStream(e);if(!r)throw new Error("Failed to reconstruct model from chunks.");await i.put(Nl,{modelName:e,blob:r}),await this._deleteChunks(e),await i.put(et,{modelName:e,total:l,status:"completed",downloaded:l}),n({downloaded:l,total:l,percent:100,status:"completed"}),console.log(`Model ${e} consolidated successfully.`)}catch(r){const c=r instanceof Error?r.message:"Unknown consolidation error";console.error(`Consolidation error for ${e}:`,r),await i.put(et,{modelName:e,status:"error",error:c,total:l}),n({downloaded:s,total:l,percent:s/l*100,status:"error",error:`Consolidation failed: ${c}`})}}async _deleteChunks(e){const i=(await this.getDb()).transaction(en,"readwrite");let l=await i.objectStore(en).index("modelName").openCursor(IDBKeyRange.only(e));for(;l;)l.delete(),l=await l.continue();await i.done}pauseDownload(e){const n=this.controllers.get(e);n&&(n.abort(),this.controllers.delete(e))}async deleteModel(e){if(this.pauseDownload(e),this.isOpfsSupported)try{const i=await this.getOpfsRoot();i&&await i.removeEntry(e)}catch(i){i instanceof DOMException&&i.name==="NotFoundError"||console.error(`Error deleting ${e} from OPFS:`,i)}const n=await this.getDb();await n.delete(et,e),await n.delete(Nl,e),await this._deleteChunks(e)}async getStatus(e){const n=await this.getDb(),i=await n.get(et,e);if(!i)return{downloaded:0,total:0,percent:0,status:"not_started"};const o=i.total||0;if(i.status==="completed")return{downloaded:o,total:o,percent:100,status:"completed"};let l=0;if(this.isOpfsSupported)try{const s=await this.getOpfsRoot();s&&(l=(await(await s.getFileHandle(e)).getFile()).size)}catch{}else l=(await n.getAllFromIndex(en,"modelName",e)).reduce((r,c)=>r+c.data.byteLength,0);return{downloaded:l,total:o,percent:o>0?l/o*100:0,status:i.status,error:i.error}}async getModelAsBlob(e){const n=await this.getDb(),i=await n.get(et,e);if(!i||i.status!=="completed")return null;if(this.isOpfsSupported)try{const l=await this.getOpfsRoot();if(l){const r=await(await l.getFileHandle(e)).getFile();return r.size===i.total?r:(console.error(`OPFS file for ${e} is incomplete. Expected ${i.total}, found ${r.size}.`),null)}}catch(l){console.warn(`Could not get model ${e} from OPFS, will check IndexedDB.`,l)}const o=await n.get(Nl,e);return o&&o.blob?o.blob:(console.warn(`Consolidated model for ${e} not found in store. Reconstructing from chunks as a fallback.`),this.getModelFromChunksAsStream(e))}async getModelFromChunksAsStream(e){const n=await this.getDb();if(!await n.getFromIndex(en,"modelName",e))return null;const o=new ReadableStream({async start(l){let c=await n.transaction(en,"readonly").objectStore(en).index("modelName").openCursor(IDBKeyRange.only(e));for(;c;)l.enqueue(new Uint8Array(c.value.data)),c=await c.continue();l.close()}});try{return await new Response(o).blob()}catch{return null}}getDb(){return this.dbPromise}}const uo=new TN,Qs=window.SpeechRecognition||window.webkitSpeechRecognition,Tg=t=>{let e;if(t.numberOfChannels>1){e=new Float32Array(t.length);for(let d=0;d<t.length;d++){let h=0;for(let p=0;p<t.numberOfChannels;p++)h+=t.getChannelData(p)[d];e[d]=h/t.numberOfChannels}}else e=t.getChannelData(0);const n=1,i=e.length*n*2+44,o=new ArrayBuffer(i),l=new DataView(o);let s=0;const r=d=>{l.setUint16(s,d,!0),s+=2},c=d=>{l.setUint32(s,d,!0),s+=4},f=d=>{for(let h=0;h<d.length;h++)l.setUint8(s+h,d.charCodeAt(h));s+=d.length};f("RIFF"),c(i-8),f("WAVE"),f("fmt "),c(16),r(1),r(n),c(t.sampleRate),c(t.sampleRate*2*n),r(n*2),r(16),f("data"),c(e.length*2);for(let d=0;d<e.length;d++){let h=Math.max(-1,Math.min(1,e[d]));l.setInt16(s,h<0?h*32768:h*32767,!0),s+=2}return new Blob([l],{type:"audio/wav"})},EN=()=>{var id;const{t,i18n:e}=Zi(),[n,i]=w.useState(""),[o,l]=w.useState(""),[s,r]=w.useState(Fa[0]),[c,f]=w.useState(Fa[6]),[d,h]=w.useState(!1),[p,g]=w.useState(!1),[v,E]=w.useState(!1),[A,y]=w.useState(!1),[m,T]=w.useState(!1),[C,x]=w.useState(!1),[M,_]=w.useState([]),[N,b]=w.useState(""),[L,z]=w.useState("gemini-2.5-flash"),[se,O]=w.useState("gemini"),[ae,J]=w.useState(""),[I,V]=w.useState(""),[k,W]=w.useState(""),[ne,ke]=w.useState(!1),[st,On]=w.useState([]),[we,un]=w.useState(navigator.onLine),[ji,vi]=w.useState(!1),[Si,eo]=w.useState(null),[Xt,cl]=w.useState(!1),[Ti,fl]=w.useState(""),[Ei,Pn]=w.useState(1),[Hn,dl]=w.useState(1),[be,pl]=w.useState(!1),[to,no]=w.useState({}),[Gn,cn]=w.useState(!1),[io,Vn]=w.useState(!1),[Ci,hl]=w.useState(4096),[Ai,gl]=w.useState(40),[_i,ml]=w.useState(.3),[xi,yl]=w.useState(101),[wi,ws]=w.useState(!1),[vl,bs]=w.useState(1),[zn,oo]=w.useState(null),[Sl,Bn]=w.useState(null),fn=w.useRef(null),U=w.useRef(null),Z=w.useRef(D=>{}),q=w.useCallback((D,H="error")=>{fn.current&&clearTimeout(fn.current),Bn({message:D,type:H}),fn.current=window.setTimeout(()=>{Bn(null)},5e3)},[]),We=w.useRef(null),Xe=w.useRef(null),Qt=w.useRef(""),xt=w.useRef(null),Zt=w.useRef(null),wt=w.useRef([]),bt=w.useRef(null),qn=w.useRef(null),lo=w.useRef(null);w.useEffect(()=>{Z.current=D=>{const{type:H,payload:P}=D.data;switch(H){case"init_done":Vn(!0),q(t("notifications.offlineModelInitSuccess",{modelIdentifier:P.modelIdentifier}),"success"),cn(!1);break;case"init_error":Vn(!1),q(P.error||t("notifications.offlineModelInitFailed"),"error"),console.error("Offline model init failed via worker:",P.error),cn(!1);break;case"unload_done":Vn(!1),cn(!1);break;case"translation_chunk":l(B=>B.length===0?P.chunk.trimStart():B+P.chunk);break;case"translation_done":{const B={id:Date.now(),inputText:n,translatedText:P.result,sourceLang:s,targetLang:c};_($=>{const oe=[B,...$].slice(0,50);return localStorage.setItem("translation-history",JSON.stringify(oe)),oe}),h(!1);break}case"translation_error":q(t("notifications.translationFailed",{errorMessage:P.error}),"error"),h(!1);break;case"translation_cancelled":h(!1);break;case"extract_text_done":i(P.text),l(""),P.text.trim()||q(t("notifications.noTextInImage"),"error"),h(!1);break;case"extract_text_error":q(t("notifications.imageProcessingFailed",{errorMessage:P.error}),"error"),i(""),h(!1);break;case"transcribe_done":i(P.text),h(!1),P.audioUrl&&URL.revokeObjectURL(P.audioUrl);break;case"transcribe_error":q(t("notifications.transcriptionFailed",{errorMessage:P.error}),"error"),i(""),h(!1),P.audioUrl&&URL.revokeObjectURL(P.audioUrl);break}}},[t,q,n,s,c]),w.useEffect(()=>{const D=new Worker(new URL("/Gemini-AI-Translator/assets/offline.worker-BWhcjzzY.js",import.meta.url),{type:"module"});U.current=D;const H=P=>Z.current(P);return D.addEventListener("message",H),D.onerror=P=>{console.error("Worker error:",P),q(`A critical worker error occurred: ${P.message}`,"error"),cn(!1),h(!1)},()=>{D.removeEventListener("message",H),D.terminate(),U.current=null}},[q]),w.useEffect(()=>{(async()=>{const H={};for(const P of Ja)P.value&&(H[P.value]=await uo.getStatus(P.value));no(H)})()},[]),w.useEffect(()=>{const D=()=>un(!0),H=()=>un(!1);return window.addEventListener("online",D),window.addEventListener("offline",H),()=>{window.removeEventListener("online",D),window.removeEventListener("offline",H)}},[]),w.useEffect(()=>{const D=localStorage.getItem("api-key");D&&b(D);const H=localStorage.getItem("model-name");H&&z(H);const P=localStorage.getItem("online-provider");P&&O(P);const B=localStorage.getItem("openai-api-url");B&&J(B);const $=localStorage.getItem("hf-api-key");$&&V($);const oe=localStorage.getItem("offline-model-name");oe&&W(oe);const Ce=localStorage.getItem("offline-mode-enabled");Ce&&pl(JSON.parse(Ce));const Oe=localStorage.getItem("is-two-step-jp-cn-enabled");Oe&&ke(JSON.parse(Oe));const ce=localStorage.getItem("tts-enabled");ce&&cl(JSON.parse(ce));const Ae=localStorage.getItem("tts-voice-uri");Ae&&fl(Ae);const Vt=localStorage.getItem("tts-rate");Vt&&Pn(JSON.parse(Vt));const je=localStorage.getItem("tts-pitch");je&&dl(JSON.parse(je));const Re=localStorage.getItem("offline-max-tokens");Re&&hl(JSON.parse(Re));const ht=localStorage.getItem("offline-top-k");ht&&gl(JSON.parse(ht));const zt=localStorage.getItem("offline-temperature");zt&&ml(JSON.parse(zt));const dn=localStorage.getItem("offline-random-seed");dn&&yl(JSON.parse(dn));const pn=localStorage.getItem("offline-support-audio");pn&&ws(JSON.parse(pn));const jt=localStorage.getItem("offline-max-num-images");jt&&bs(JSON.parse(jt));try{const qe=localStorage.getItem("translation-history");qe&&_(JSON.parse(qe))}catch(qe){console.error("Failed to load translation history:",qe)}},[]),w.useEffect(()=>{const D=()=>On(window.speechSynthesis.getVoices());window.speechSynthesis.onvoiceschanged=D,D()},[]);const Mr=be&&!!k&&((id=to[k])==null?void 0:id.status)==="completed",Wt=Mr&&io;w.useEffect(()=>{var P;const D=Mr?k:null;if(!be||!D){(io||Gn)&&((P=U.current)==null||P.postMessage({type:"unload"}));return}const H=async()=>{var B;cn(!0),Vn(!1);try{const $=await uo.getModelAsBlob(D);if(!$)throw new Error(`Model blob for ${D} not found.`);const oe={maxTokens:Ci,topK:Ai,temperature:_i,randomSeed:xi,supportAudio:wi,maxNumImages:vl};(B=U.current)==null||B.postMessage({type:"init",payload:{modelBlob:$,modelSource:D,options:oe}})}catch($){const oe=$ instanceof Error?$.message:t("notifications.offlineModelInitFailed");q(oe,"error"),console.error("Offline model init failed (main thread):",$),Vn(!1),cn(!1)}};U.current&&H()},[Mr,k,be,q,t,Ci,Ai,_i,xi,wi,vl]);const so=w.useCallback(async D=>{var P;if(!D.trim()){l("");return}lo.current&&lo.current.abort();const H=new AbortController;lo.current=H,h(!0),l("");try{const B=e.t(s.name,{lng:"en"}),$=e.t(c.name,{lng:"en"});if(be){if(!k)throw new Error("Please select an offline model in settings.");if(Gn)throw new Error("Offline model is still initializing.");if(!Wt)throw new Error("Selected offline model is not ready.");(P=U.current)==null||P.postMessage({type:"translate",payload:{text:D,sourceLang:B,targetLang:$,sourceLangCode:s.code,targetLangCode:c.code,isTwoStepEnabled:ne}})}else{if(!we)throw new Error("You are offline. Enable offline mode or connect to the internet.");let oe="";const Ce=ce=>{oe+=ce,l(Ae=>Ae.length===0?ce.trimStart():Ae+ce)};if(se==="openai"){if(!N)throw new Error("OpenAI API Key is not set. Please add it in the settings.");if(!ae)throw new Error("OpenAI API URL is not set. Please add it in the settings.");oe=await oN(D,B,$,N,L,ae,Ce,H.signal)}else{if(!N)throw new Error("Gemini API Key is not set. Please add it in the settings.");oe=await nN(D,B,$,N,L,Ce,H.signal)}const Oe={id:Date.now(),inputText:D,translatedText:oe,sourceLang:s,targetLang:c};_(ce=>{const Ae=[Oe,...ce].slice(0,50);return localStorage.setItem("translation-history",JSON.stringify(Ae)),Ae}),h(!1)}}catch(B){if(B instanceof DOMException&&B.name==="AbortError"){console.log("Translation cancelled by user."),h(!1);return}const $=B instanceof Error?B.message:"An unknown error occurred.";q(t("notifications.translationFailed",{errorMessage:$}),"error"),B instanceof Error&&(B.message.includes("select an offline model")||B.message.includes("API Key is not set")||B.message.includes("API URL is not set"))&&T(!0),console.error(B),h(!1)}finally{!be&&lo.current===H&&(lo.current=null)}},[s,c,N,L,we,be,k,Wt,Gn,q,se,ae,ne,t,e]),$v=w.useCallback(()=>{so(n)},[n,so]),Xv=w.useCallback(()=>{var D,H;be?(D=U.current)==null||D.postMessage({type:"cancel_translation"}):(H=lo.current)==null||H.abort()},[be]),Qv=w.useCallback(()=>{s.code!=="auto"&&(r(c),f(s),i(o),l(n))},[s,c,n,o]),Zv=w.useCallback(D=>{if(!o||!("speechSynthesis"in window)||window.speechSynthesis.speaking&&(window.speechSynthesis.cancel(),ji&&(Xt||Si===D)))return;const H=new SpeechSynthesisUtterance(o);if(H.lang=c.code,Xt){const P=st.find(B=>B.voiceURI===Ti);P&&(H.voice=P),H.rate=Ei,H.pitch=Hn}else{const P=st.filter(B=>B.lang.startsWith(c.code));if(P.length>0){const B=P.find(Ce=>/female|women|girl|mei-jia|zira|ayumi|kyoko/i.test(Ce.name)),$=P.find(Ce=>/male|men|boy|liang|ichiro/i.test(Ce.name));let oe;D==="female"?oe=B||P.find(Ce=>Ce!==$)||P[0]:oe=$||P.find(Ce=>Ce!==B)||P[0],H.voice=oe}}H.onstart=()=>{vi(!0),eo(Xt?null:D)},H.onend=()=>{vi(!1),eo(null)},H.onerror=P=>{console.error("SpeechSynthesisUtterance.onerror",P),q(t("notifications.speechError",{error:P.error}),"error"),vi(!1),eo(null)},window.speechSynthesis.speak(H)},[o,c,st,ji,Si,q,Xt,Ti,Ei,Hn,t]);w.useEffect(()=>{if(!Qs)return;const D=new Qs;return D.continuous=!0,D.interimResults=!0,D.lang=s.code==="auto"?"en-US":s.code,D.onresult=H=>i(Array.from(H.results).map(P=>P[0].transcript).join("")),D.onerror=H=>q(t("notifications.speechRecognitionError",{error:H.error}),"error"),D.onend=()=>g(!1),We.current=D,()=>D.stop()},[s.code,q,t]),w.useEffect(()=>{if(!Qs||s.code==="auto")return;const D=new Qs;return D.continuous=!0,D.interimResults=!0,D.lang=s.code,D.onresult=H=>{const P=Array.from(H.results).map(B=>B[0].transcript).join("");Qt.current=P,i(`[Speech] ${P}`)},D.onerror=H=>{q(t("notifications.speechRecognitionError",{error:H.error}),"error"),E(!1)},D.onend=()=>{E(!1);const H=Qt.current.trim();H?(i(H),so(H)):i("")},Xe.current=D,()=>D.stop()},[s.code,q,so,t]);const ed=w.useCallback(()=>{We.current&&(p?We.current.stop():(i(""),l(""),We.current.start()),g(!p))},[p]),Rs=w.useCallback(async()=>{if(p)qn.current&&(clearInterval(qn.current),qn.current=null),oo(null),Zt.current&&Zt.current.state==="recording"&&Zt.current.stop(),xt.current&&(xt.current.getTracks().forEach(D=>D.stop()),xt.current=null),bt.current&&bt.current.state!=="closed"&&(bt.current.close(),bt.current=null),g(!1);else try{i(""),l("");const D=await navigator.mediaDevices.getUserMedia({audio:!0}),H=new(window.AudioContext||window.webkitAudioContext);bt.current=H;const P=H.createMediaStreamSource(D),B=H.createBiquadFilter();B.type="highpass",B.frequency.value=150;const $=H.createDynamicsCompressor();$.threshold.value=-50,$.knee.value=40,$.ratio.value=12,$.attack.value=0,$.release.value=.25;const oe=H.createMediaStreamDestination();P.connect(B),B.connect($),$.connect(oe);const Ce=oe.stream;if(xt.current=D,typeof MediaRecorder>"u"){q(t("notifications.mediaRecorderUnsupported"),"error"),D.getTracks().forEach(ce=>ce.stop()),H.close();return}const Oe=new MediaRecorder(Ce);Zt.current=Oe,wt.current=[],Oe.ondataavailable=ce=>{ce.data.size>0&&wt.current.push(ce.data)},Oe.onstop=async()=>{var Vt;if(h(!0),i(t("notifications.processingAudio")),l(""),wt.current.length===0){h(!1),i(""),q(t("notifications.noAudioRecorded"),"error");return}const ce=new Blob(wt.current,{type:Oe.mimeType});wt.current=[];let Ae=null;try{Ae=new(window.AudioContext||window.webkitAudioContext);const je=await ce.arrayBuffer(),Re=await Ae.decodeAudioData(je),ht=16e3;let zt=Re;if(Re.sampleRate!==ht){const jt=Re.length*ht/Re.sampleRate,qe=new OfflineAudioContext(1,jt,ht),bi=qe.createBufferSource();bi.buffer=Re,bi.connect(qe.destination),bi.start(),zt=await qe.startRendering()}const dn=Tg(zt),pn=URL.createObjectURL(dn);(Vt=U.current)==null||Vt.postMessage({type:"transcribe",payload:{audioUrl:pn,sourceLang:e.t(s.name,{lng:"en"})}})}catch(je){const Re=je instanceof Error?je.message:"An unknown error occurred while processing audio.";q(t("notifications.transcriptionFailed",{errorMessage:Re}),"error"),i(""),h(!1)}finally{Ae&&Ae.state!=="closed"&&Ae.close()}},qn.current&&clearInterval(qn.current),oo(30),qn.current=window.setInterval(()=>{oo(ce=>ce!==null&&ce>0?ce-1:0)},1e3),Oe.start(),g(!0)}catch(D){q(t("notifications.micPermissionError"),"error"),console.error("Error starting offline recording:",D)}},[p,s,q,t,e]);w.useEffect(()=>{zn===0&&Rs()},[zn,Rs]);const Wv=w.useCallback(()=>{be?Wt?Rs():q(t("notifications.offlineModelNotReadyRecording"),"error"):we?ed():q(t("notifications.offlineSRError"),"error")},[be,Wt,we,Rs,ed,q,t]),td=w.useCallback(()=>{Xe.current&&(v?Xe.current.stop():(i(""),l(""),Qt.current="",Xe.current.start(),E(!0)))},[v]),nd=w.useCallback(async()=>{if(v)Zt.current&&Zt.current.state==="recording"&&Zt.current.stop(),xt.current&&(xt.current.getTracks().forEach(D=>D.stop()),xt.current=null),bt.current&&bt.current.state!=="closed"&&(bt.current.close(),bt.current=null),E(!1);else try{i(""),l("");const D=await navigator.mediaDevices.getUserMedia({audio:!0}),H=new(window.AudioContext||window.webkitAudioContext);bt.current=H;const P=H.createMediaStreamSource(D),B=H.createBiquadFilter();B.type="highpass",B.frequency.value=150;const $=H.createDynamicsCompressor();$.threshold.value=-50,$.knee.value=40,$.ratio.value=12,$.attack.value=0,$.release.value=.25;const oe=H.createMediaStreamDestination();P.connect(B),B.connect($),$.connect(oe);const Ce=oe.stream;if(xt.current=D,typeof MediaRecorder>"u"){q(t("notifications.mediaRecorderUnsupported"),"error"),D.getTracks().forEach(ce=>ce.stop()),H.close();return}const Oe=new MediaRecorder(Ce);Zt.current=Oe,wt.current=[],Oe.ondataavailable=ce=>{ce.data.size>0&&wt.current.push(ce.data)},Oe.onstop=async()=>{var Vt;if(h(!0),i(t("notifications.processingAudio")),l(""),wt.current.length===0){h(!1),i(""),q(t("notifications.noAudioRecorded"),"error");return}const ce=new Blob(wt.current,{type:Oe.mimeType});wt.current=[];let Ae=null;try{Ae=new(window.AudioContext||window.webkitAudioContext);const je=await ce.arrayBuffer(),Re=await Ae.decodeAudioData(je),ht=16e3;let zt=Re;if(Re.sampleRate!==ht){const qe=Re.length*ht/Re.sampleRate,bi=new OfflineAudioContext(1,qe,ht),Dr=bi.createBufferSource();Dr.buffer=Re,Dr.connect(bi.destination),Dr.start(),zt=await bi.startRendering()}const dn=Tg(zt),pn=URL.createObjectURL(dn);(Vt=U.current)==null||Vt.postMessage({type:"transcribe",payload:{audioUrl:pn,sourceLang:e.t(s.name,{lng:"en"})}});const jt=Z.current;Z.current=qe=>{qe.data.type==="transcribe_done"?(i(qe.data.payload.text),so(qe.data.payload.text),qe.data.payload.audioUrl&&URL.revokeObjectURL(qe.data.payload.audioUrl),Z.current=jt):jt(qe)}}catch(je){const Re=je instanceof Error?je.message:"An unknown error occurred during speech translation.";q(t("notifications.astFailed",{errorMessage:Re}),"error"),i("")}finally{Ae&&Ae.state!=="closed"&&Ae.close()}},Oe.start(),E(!0)}catch(D){q(t("notifications.micPermissionError"),"error"),console.error("Error starting offline AST recording:",D)}},[v,s.name,q,so,t,e]),jv=w.useCallback(()=>{if(s.code==="auto"){q(t("notifications.astSelectLanguage"),"error");return}be?Wt?nd():q(t("notifications.astOfflineModelNotReady"),"error"):we?td():q(t("notifications.astOfflineError"),"error")},[s.code,be,Wt,we,nd,td,q,t]),eS=w.useCallback(async D=>{var H;y(!1),h(!0),i(t("notifications.processingImage")),l("");try{if(be){if(!Wt)throw new Error(t("notifications.offlineImageError"));const P=await new Promise((B,$)=>{const oe=new Image;oe.onload=()=>{createImageBitmap(oe).then(B).catch($)},oe.onerror=()=>$(new Error("Failed to load image for bitmap creation.")),oe.src=D});(H=U.current)==null||H.postMessage({type:"extractText",payload:{imageBitmap:P}},[P])}else{if(!we)throw new Error(t("notifications.offlineImageTranslateError"));let P;const B=e.t(c.name,{lng:"en"});if(se==="openai"){if(!N)throw new Error("OpenAI API Key is not set. Please add it in the settings.");if(!ae)throw new Error("OpenAI API URL is not set. Please add it in the settings.");P=await lN(D,B,N,L,ae)}else{if(!N)throw new Error("Gemini API Key is not set. Please add it in the settings.");P=await iN(D,B,N,L)}i(P.sourceText),l(P.translatedText);const $={id:Date.now(),inputText:P.sourceText,translatedText:P.translatedText,sourceLang:s,targetLang:c};_(oe=>{const Ce=[$,...oe].slice(0,50);return localStorage.setItem("translation-history",JSON.stringify(Ce)),Ce}),h(!1)}}catch(P){const B=P instanceof Error?P.message:"An unknown error occurred.";q(t("notifications.imageProcessingFailed",{errorMessage:B}),"error"),i(""),h(!1)}},[be,Wt,we,N,L,c,s,q,se,ae,t,e]),tS=(D,H,P,B,$,oe,Ce,Oe,ce,Ae,Vt,je,Re,ht,zt,dn,pn,jt)=>{b(D),z(H),O(oe),J(Ce),V(P),W(B),pl($),ke(je),cl(Oe),fl(ce),Pn(Ae),dl(Vt),hl(Re),gl(ht),ml(zt),yl(dn),ws(pn),bs(jt),localStorage.setItem("api-key",D),localStorage.setItem("model-name",H),localStorage.setItem("online-provider",oe),localStorage.setItem("openai-api-url",Ce),localStorage.setItem("hf-api-key",P),localStorage.setItem("offline-model-name",B),localStorage.setItem("offline-mode-enabled",JSON.stringify($)),localStorage.setItem("is-two-step-jp-cn-enabled",JSON.stringify(je)),localStorage.setItem("tts-enabled",JSON.stringify(Oe)),localStorage.setItem("tts-voice-uri",ce),localStorage.setItem("tts-rate",JSON.stringify(Ae)),localStorage.setItem("tts-pitch",JSON.stringify(Vt)),localStorage.setItem("offline-max-tokens",JSON.stringify(Re)),localStorage.setItem("offline-top-k",JSON.stringify(ht)),localStorage.setItem("offline-temperature",JSON.stringify(zt)),localStorage.setItem("offline-random-seed",JSON.stringify(dn)),localStorage.setItem("offline-support-audio",JSON.stringify(pn)),localStorage.setItem("offline-max-num-images",JSON.stringify(jt))},nS=D=>{i(D.inputText),l(D.translatedText),r(D.sourceLang),f(D.targetLang),x(!1)},iS=()=>{_([]),localStorage.removeItem("translation-history")},Ir=(D,H)=>{no(P=>({...P,[D]:H}))},oS=(D,H)=>uo.startDownload(D,H,I,P=>Ir(D,P)),lS=(D,H)=>uo.resumeDownload(D,H,I,P=>Ir(D,P)),sS=D=>uo.pauseDownload(D),aS=async D=>{await uo.deleteModel(D),Ir(D,{downloaded:0,total:0,percent:0,status:"not_started"})};return S.jsxs("div",{className:"bg-slate-100 h-full flex flex-col",children:[S.jsxs("div",{className:"w-full h-full max-w-6xl mx-auto flex-grow flex flex-col landscape:flex-row p-2 landscape:p-4 gap-4",children:[S.jsx("main",{className:"flex-1 landscape:h-full flex flex-col min-h-0 min-w-0",children:S.jsx(BC,{translatedText:o,targetLang:c,setTargetLang:f,isLoading:d,onSpeak:Zv,onSwapLanguages:Qv,onOpenHistory:()=>x(!0),onClearText:()=>l(""),isOfflineModeEnabled:be,isOfflineModelInitializing:Gn,isOfflineModelReady:Wt,offlineModelName:k,isSpeaking:ji,speakingGender:Si,onlineProvider:se,isOfflineTtsEnabled:Xt,isAstRecording:v,onToggleAstRecording:jv})}),S.jsx("div",{className:"flex-1 landscape:h-full flex flex-col min-h-0 min-w-0",children:S.jsx(zC,{inputText:n,setInputText:i,sourceLang:s,setSourceLang:r,isLoading:d||Gn,onTranslate:$v,onCancel:Xv,isRecording:p,onToggleRecording:Wv,onOpenCamera:()=>y(!0),onOpenSettings:()=>T(!0),isOnline:we,isOfflineModeEnabled:be,isOfflineModelReady:Wt,recordingCountdown:zn})})]}),Sl&&S.jsx("div",{className:`fixed top-5 left-1/2 -translate-x-1/2 px-4 py-3 rounded z-20 shadow-lg text-white ${Sl.type==="error"?"bg-red-500":"bg-green-500"}`,role:"alert",children:Sl.message}),A&&S.jsx(qC,{onClose:()=>y(!1),onImageCaptured:eS}),S.jsx(FC,{isOpen:m,onClose:()=>T(!1),onSave:tS,currentApiKey:N,currentModelName:L,currentOnlineProvider:se,currentOpenaiApiUrl:ae,currentHuggingFaceApiKey:I,currentOfflineModelName:k,currentIsOfflineModeEnabled:be,currentIsTwoStepJpCnEnabled:ne,downloadProgress:to,onStartDownload:oS,onResumeDownload:lS,onPauseDownload:sS,onDeleteModel:aS,isOfflineModelInitializing:Gn,voices:st,targetLang:c,currentIsOfflineTtsEnabled:Xt,currentOfflineTtsVoiceURI:Ti,currentOfflineTtsRate:Ei,currentOfflineTtsPitch:Hn,currentOfflineMaxTokens:Ci,currentOfflineTopK:Ai,currentOfflineTemperature:_i,currentOfflineRandomSeed:xi,currentOfflineSupportAudio:wi,currentOfflineMaxNumImages:vl}),S.jsx(JC,{isOpen:C,onClose:()=>x(!1),history:M,onSelectHistory:nS,onClearHistory:iS})]})},K=t=>typeof t=="string",Ml=()=>{let t,e;const n=new Promise((i,o)=>{t=i,e=o});return n.resolve=t,n.reject=e,n},Eg=t=>t==null?"":""+t,CN=(t,e,n)=>{t.forEach(i=>{e[i]&&(n[i]=e[i])})},AN=/###/g,Cg=t=>t&&t.indexOf("###")>-1?t.replace(AN,"."):t,Ag=t=>!t||K(t),Zl=(t,e,n)=>{const i=K(e)?e.split("."):e;let o=0;for(;o<i.length-1;){if(Ag(t))return{};const l=Cg(i[o]);!t[l]&&n&&(t[l]=new n),Object.prototype.hasOwnProperty.call(t,l)?t=t[l]:t={},++o}return Ag(t)?{}:{obj:t,k:Cg(i[o])}},_g=(t,e,n)=>{const{obj:i,k:o}=Zl(t,e,Object);if(i!==void 0||e.length===1){i[o]=n;return}let l=e[e.length-1],s=e.slice(0,e.length-1),r=Zl(t,s,Object);for(;r.obj===void 0&&s.length;)l=`${s[s.length-1]}.${l}`,s=s.slice(0,s.length-1),r=Zl(t,s,Object),r&&r.obj&&typeof r.obj[`${r.k}.${l}`]<"u"&&(r.obj=void 0);r.obj[`${r.k}.${l}`]=n},_N=(t,e,n,i)=>{const{obj:o,k:l}=Zl(t,e,Object);o[l]=o[l]||[],o[l].push(n)},Wa=(t,e)=>{const{obj:n,k:i}=Zl(t,e);if(n)return n[i]},xN=(t,e,n)=>{const i=Wa(t,n);return i!==void 0?i:Wa(e,n)},Bv=(t,e,n)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in t?K(t[i])||t[i]instanceof String||K(e[i])||e[i]instanceof String?n&&(t[i]=e[i]):Bv(t[i],e[i],n):t[i]=e[i]);return t},co=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var wN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const bN=t=>K(t)?t.replace(/[&<>"'\/]/g,e=>wN[e]):t;class RN{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const NN=[" ",",","?","!",";"],MN=new RN(20),IN=(t,e,n)=>{e=e||"",n=n||"";const i=NN.filter(s=>e.indexOf(s)<0&&n.indexOf(s)<0);if(i.length===0)return!0;const o=MN.getRegExp(`(${i.map(s=>s==="?"?"\\?":s).join("|")})`);let l=!o.test(t);if(!l){const s=t.indexOf(n);s>0&&!o.test(t.substring(0,s))&&(l=!0)}return l},zc=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const i=e.split(n);let o=t;for(let l=0;l<i.length;){if(!o||typeof o!="object")return;let s,r="";for(let c=l;c<i.length;++c)if(c!==l&&(r+=n),r+=i[c],s=o[r],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&c<i.length-1)continue;l+=c-l+1;break}o=s}return o},ja=t=>t&&t.replace("_","-"),DN={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class er{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||DN,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,i,o){return o&&!this.debug?null:(K(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new er(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new er(this.logger,e)}}var ln=new er;class Nr{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const o=this.observers[i].get(n)||0;this.observers[i].set(n,o+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(s=>{let[r,c]=s;for(let f=0;f<c;f++)r(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(s=>{let[r,c]=s;for(let f=0;f<c;f++)r.apply(r,[e,...i])})}}class xg extends Nr{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,s=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let r;e.indexOf(".")>-1?r=e.split("."):(r=[e,n],i&&(Array.isArray(i)?r.push(...i):K(i)&&l?r.push(...i.split(l)):r.push(i)));const c=Wa(this.data,r);return!c&&!n&&!i&&e.indexOf(".")>-1&&(e=r[0],n=r[1],i=r.slice(2).join(".")),c||!s||!K(i)?c:zc(this.data&&this.data[e]&&this.data[e][n],i,l)}addResource(e,n,i,o){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let r=[e,n];i&&(r=r.concat(s?i.split(s):i)),e.indexOf(".")>-1&&(r=e.split("."),o=n,n=r[1]),this.addNamespaces(n),_g(this.data,r,o),l.silent||this.emit("added",e,n,i,o)}addResources(e,n,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const l in i)(K(i[l])||Array.isArray(i[l]))&&this.addResource(e,n,l,i[l],{silent:!0});o.silent||this.emit("added",e,n,i)}addResourceBundle(e,n,i,o,l){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},r=[e,n];e.indexOf(".")>-1&&(r=e.split("."),o=i,i=n,n=r[1]),this.addNamespaces(n);let c=Wa(this.data,r)||{};s.skipCopy||(i=JSON.parse(JSON.stringify(i))),o?Bv(c,i,l):c={...c,...i},_g(this.data,r,c),s.silent||this.emit("added",e,n,i)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(o=>n[o]&&Object.keys(n[o]).length>0)}toJSON(){return this.data}}var qv={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,i,o){return t.forEach(l=>{this.processors[l]&&(e=this.processors[l].process(e,n,i,o))}),e}};const wg={};class tr extends Nr{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),CN(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ln.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const i=this.resolve(e,n);return i&&i.res!==void 0}extractFromKey(e,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let l=n.ns||this.options.defaultNS||[];const s=i&&e.indexOf(i)>-1,r=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!IN(e,i,o);if(s&&!r){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:K(l)?[l]:l};const f=e.split(i);(i!==o||i===o&&this.options.ns.indexOf(f[0])>-1)&&(l=f.shift()),e=f.join(o)}return{key:e,namespaces:K(l)?[l]:l}}translate(e,n,i){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,l=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:s,namespaces:r}=this.extractFromKey(e[e.length-1],n),c=r[r.length-1],f=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&f.toLowerCase()==="cimode"){if(d){const C=n.nsSeparator||this.options.nsSeparator;return o?{res:`${c}${C}${s}`,usedKey:s,exactUsedKey:s,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:`${c}${C}${s}`}return o?{res:s,usedKey:s,exactUsedKey:s,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:s}const h=this.resolve(e,n);let p=h&&h.res;const g=h&&h.usedKey||s,v=h&&h.exactUsedKey||s,E=Object.prototype.toString.apply(p),A=["[object Number]","[object Function]","[object RegExp]"],y=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject,T=!K(p)&&typeof p!="boolean"&&typeof p!="number";if(m&&p&&T&&A.indexOf(E)<0&&!(K(y)&&Array.isArray(p))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,p,{...n,ns:r}):`key '${s} (${this.language})' returned an object instead of string.`;return o?(h.res=C,h.usedParams=this.getUsedParamsDetails(n),h):C}if(l){const C=Array.isArray(p),x=C?[]:{},M=C?v:g;for(const _ in p)if(Object.prototype.hasOwnProperty.call(p,_)){const N=`${M}${l}${_}`;x[_]=this.translate(N,{...n,joinArrays:!1,ns:r}),x[_]===N&&(x[_]=p[_])}p=x}}else if(m&&K(y)&&Array.isArray(p))p=p.join(y),p&&(p=this.extendTranslation(p,e,n,i));else{let C=!1,x=!1;const M=n.count!==void 0&&!K(n.count),_=tr.hasDefaultValue(n),N=M?this.pluralResolver.getSuffix(f,n.count,n):"",b=n.ordinal&&M?this.pluralResolver.getSuffix(f,n.count,{ordinal:!1}):"",L=M&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),z=L&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${N}`]||n[`defaultValue${b}`]||n.defaultValue;!this.isValidLookup(p)&&_&&(C=!0,p=z),this.isValidLookup(p)||(x=!0,p=s);const O=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&x?void 0:p,ae=_&&z!==p&&this.options.updateMissing;if(x||C||ae){if(this.logger.log(ae?"updateKey":"missingKey",f,c,s,ae?z:p),l){const k=this.resolve(s,{...n,keySeparator:!1});k&&k.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let J=[];const I=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&I&&I[0])for(let k=0;k<I.length;k++)J.push(I[k]);else this.options.saveMissingTo==="all"?J=this.languageUtils.toResolveHierarchy(n.lng||this.language):J.push(n.lng||this.language);const V=(k,W,ne)=>{const ke=_&&ne!==p?ne:O;this.options.missingKeyHandler?this.options.missingKeyHandler(k,c,W,ke,ae,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(k,c,W,ke,ae,n),this.emit("missingKey",k,c,W,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&M?J.forEach(k=>{const W=this.pluralResolver.getSuffixes(k,n);L&&n[`defaultValue${this.options.pluralSeparator}zero`]&&W.indexOf(`${this.options.pluralSeparator}zero`)<0&&W.push(`${this.options.pluralSeparator}zero`),W.forEach(ne=>{V([k],s+ne,n[`defaultValue${ne}`]||z)})}):V(J,s,z))}p=this.extendTranslation(p,e,n,h,i),x&&p===s&&this.options.appendNamespaceToMissingKey&&(p=`${c}:${s}`),(x||C)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${s}`:s,C?p:void 0):p=this.options.parseMissingKeyHandler(p))}return o?(h.res=p,h.usedParams=this.getUsedParamsDetails(n),h):p}extendTranslation(e,n,i,o,l){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const f=K(e)&&(i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(f){const p=e.match(this.interpolator.nestingRegexp);d=p&&p.length}let h=i.replace&&!K(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,i.lng||this.language||o.usedLng,i),f){const p=e.match(this.interpolator.nestingRegexp),g=p&&p.length;d<g&&(i.nest=!1)}!i.lng&&this.options.compatibilityAPI!=="v1"&&o&&o.res&&(i.lng=this.language||o.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var p=arguments.length,g=new Array(p),v=0;v<p;v++)g[v]=arguments[v];return l&&l[0]===g[0]&&!i.context?(s.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${n[0]}`),null):s.translate(...g,n)},i)),i.interpolation&&this.interpolator.reset()}const r=i.postProcess||this.options.postProcess,c=K(r)?[r]:r;return e!=null&&c&&c.length&&i.applyPostProcessor!==!1&&(e=qv.handle(c,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,o,l,s,r;return K(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(i))return;const f=this.extractFromKey(c,n),d=f.key;o=d;let h=f.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const p=n.count!==void 0&&!K(n.count),g=p&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),v=n.context!==void 0&&(K(n.context)||typeof n.context=="number")&&n.context!=="",E=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(A=>{this.isValidLookup(i)||(r=A,!wg[`${E[0]}-${A}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(r)&&(wg[`${E[0]}-${A}`]=!0,this.logger.warn(`key "${o}" for languages "${E.join(", ")}" won't get resolved as namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),E.forEach(y=>{if(this.isValidLookup(i))return;s=y;const m=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(m,d,y,A,n);else{let C;p&&(C=this.pluralResolver.getSuffix(y,n.count,n));const x=`${this.options.pluralSeparator}zero`,M=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(m.push(d+C),n.ordinal&&C.indexOf(M)===0&&m.push(d+C.replace(M,this.options.pluralSeparator)),g&&m.push(d+x)),v){const _=`${d}${this.options.contextSeparator}${n.context}`;m.push(_),p&&(m.push(_+C),n.ordinal&&C.indexOf(M)===0&&m.push(_+C.replace(M,this.options.pluralSeparator)),g&&m.push(_+x))}}let T;for(;T=m.pop();)this.isValidLookup(i)||(l=T,i=this.getResource(y,A,T,n))}))})}),{res:i,usedKey:o,exactUsedKey:l,usedLng:s,usedNS:r}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,i,o):this.resourceStore.getResource(e,n,i,o)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!K(e.replace);let o=i?e.replace:e;if(i&&typeof e.count<"u"&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!i){o={...o};for(const l of n)delete o[l]}return o}static hasDefaultValue(e){const n="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&n===i.substring(0,n.length)&&e[i]!==void 0)return!0;return!1}}const Eu=t=>t.charAt(0).toUpperCase()+t.slice(1);class bg{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ln.create("languageUtils")}getScriptPartFromCode(e){if(e=ja(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=ja(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(K(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let o=Intl.getCanonicalLocales(e)[0];if(o&&this.options.lowerCaseLng&&(o=o.toLowerCase()),o)return o}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let i=e.split("-");return this.options.lowerCaseLng?i=i.map(o=>o.toLowerCase()):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=Eu(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=Eu(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=Eu(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(i=>{if(n)return;const o=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(o))&&(n=o)}),!n&&this.options.supportedLngs&&e.forEach(i=>{if(n)return;const o=this.getLanguagePartFromCode(i);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(l=>{if(l===o)return l;if(!(l.indexOf("-")<0&&o.indexOf("-")<0)&&(l.indexOf("-")>0&&o.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===o||l.indexOf(o)===0&&o.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),K(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let i=e[n];return i||(i=e[this.getScriptPartFromCode(n)]),i||(i=e[this.formatLanguageCode(n)]),i||(i=e[this.getLanguagePartFromCode(n)]),i||(i=e.default),i||[]}toResolveHierarchy(e,n){const i=this.getFallbackCodes(n||this.options.fallbackLng||[],e),o=[],l=s=>{s&&(this.isSupportedCode(s)?o.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return K(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(e))):K(e)&&l(this.formatLanguageCode(e)),i.forEach(s=>{o.indexOf(s)<0&&l(this.formatLanguageCode(s))}),o}}let LN=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],UN={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const kN=["v1","v2","v3"],ON=["v4"],Rg={zero:0,one:1,two:2,few:3,many:4,other:5},PN=()=>{const t={};return LN.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:UN[e.fc]}})}),t};class HN{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=ln.create("pluralResolver"),(!this.options.compatibilityJSON||ON.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=PN(),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const i=ja(e==="dev"?"en":e),o=n.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:i,type:o});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let s;try{s=new Intl.PluralRules(i,{type:o})}catch{if(!e.match(/-|_/))return;const c=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(c,n)}return this.pluralRulesCache[l]=s,s}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,i).map(o=>`${n}${o}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((o,l)=>Rg[o]-Rg[l]).map(o=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${o}`):i.numbers.map(o=>this.getSuffix(e,o,n)):[]}getSuffix(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=this.getRule(e,i);return o?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${o.select(n)}`:this.getSuffixRetroCompatible(o,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const i=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let o=e.numbers[i];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));const l=()=>this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString();return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?`_plural_${o.toString()}`:l():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?l():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!kN.includes(this.options.compatibilityJSON)}}const Ng=function(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=xN(t,e,n);return!l&&o&&K(n)&&(l=zc(t,n,i),l===void 0&&(l=zc(e,n,i))),l},Cu=t=>t.replace(/\$/g,"$$$$");class GN{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ln.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:i,useRawValueToEscape:o,prefix:l,prefixEscaped:s,suffix:r,suffixEscaped:c,formatSeparator:f,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:p,nestingPrefixEscaped:g,nestingSuffix:v,nestingSuffixEscaped:E,nestingOptionsSeparator:A,maxReplaces:y,alwaysFormat:m}=e.interpolation;this.escape=n!==void 0?n:bN,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=l?co(l):s||"{{",this.suffix=r?co(r):c||"}}",this.formatSeparator=f||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=p?co(p):g||co("$t("),this.nestingSuffix=v?co(v):E||co(")"),this.nestingOptionsSeparator=A||",",this.maxReplaces=y||1e3,this.alwaysFormat=m!==void 0?m:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,i)=>n&&n.source===i?(n.lastIndex=0,n):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,i,o){let l,s,r;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=g=>{if(g.indexOf(this.formatSeparator)<0){const y=Ng(n,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,i,{...o,...n,interpolationkey:g}):y}const v=g.split(this.formatSeparator),E=v.shift().trim(),A=v.join(this.formatSeparator).trim();return this.format(Ng(n,c,E,this.options.keySeparator,this.options.ignoreJSONStructure),A,i,{...o,...n,interpolationkey:E})};this.resetRegExp();const d=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,h=o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Cu(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Cu(this.escape(g)):Cu(g)}].forEach(g=>{for(r=0;l=g.regex.exec(e);){const v=l[1].trim();if(s=f(v),s===void 0)if(typeof d=="function"){const A=d(e,l,o);s=K(A)?A:""}else if(o&&Object.prototype.hasOwnProperty.call(o,v))s="";else if(h){s=l[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${e}`),s="";else!K(s)&&!this.useRawValueToEscape&&(s=Eg(s));const E=g.safeValue(s);if(e=e.replace(l[0],E),h?(g.regex.lastIndex+=s.length,g.regex.lastIndex-=l[0].length):g.regex.lastIndex=0,r++,r>=this.maxReplaces)break}}),e}nest(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,l,s;const r=(c,f)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const h=c.split(new RegExp(`${d}[ ]*{`));let p=`{${h[1]}`;c=h[0],p=this.interpolate(p,s);const g=p.match(/'/g),v=p.match(/"/g);(g&&g.length%2===0&&!v||v.length%2!==0)&&(p=p.replace(/'/g,'"'));try{s=JSON.parse(p),f&&(s={...f,...s})}catch(E){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,E),`${c}${d}${p}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,c};for(;o=this.nestingRegexp.exec(e);){let c=[];s={...i},s=s.replace&&!K(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let f=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){const d=o[1].split(this.formatSeparator).map(h=>h.trim());o[1]=d.shift(),c=d,f=!0}if(l=n(r.call(this,o[1].trim(),s),s),l&&o[0]===e&&!K(l))return l;K(l)||(l=Eg(l)),l||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),l=""),f&&(l=c.reduce((d,h)=>this.format(d,h,i.lng,{...i,interpolationkey:o[1].trim()}),l.trim())),e=e.replace(o[0],l),this.regexp.lastIndex=0}return e}}const VN=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const i=t.split("(");e=i[0].toLowerCase().trim();const o=i[1].substring(0,i[1].length-1);e==="currency"&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach(s=>{if(s){const[r,...c]=s.split(":"),f=c.join(":").trim().replace(/^'+|'+$/g,""),d=r.trim();n[d]||(n[d]=f),f==="false"&&(n[d]=!1),f==="true"&&(n[d]=!0),isNaN(f)||(n[d]=parseInt(f,10))}})}return{formatName:e,formatOptions:n}},fo=t=>{const e={};return(n,i,o)=>{let l=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(l={...l,[o.interpolationkey]:void 0});const s=i+JSON.stringify(l);let r=e[s];return r||(r=t(ja(i),o),e[s]=r),r(n)}};class zN{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ln.create("formatter"),this.options=e,this.formats={number:fo((n,i)=>{const o=new Intl.NumberFormat(n,{...i});return l=>o.format(l)}),currency:fo((n,i)=>{const o=new Intl.NumberFormat(n,{...i,style:"currency"});return l=>o.format(l)}),datetime:fo((n,i)=>{const o=new Intl.DateTimeFormat(n,{...i});return l=>o.format(l)}),relativetime:fo((n,i)=>{const o=new Intl.RelativeTimeFormat(n,{...i});return l=>o.format(l,i.range||"day")}),list:fo((n,i)=>{const o=new Intl.ListFormat(n,{...i});return l=>o.format(l)})},this.init(e)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=fo(n)}format(e,n,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const l=n.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(r=>r.indexOf(")")>-1)){const r=l.findIndex(c=>c.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,r)].join(this.formatSeparator)}return l.reduce((r,c)=>{const{formatName:f,formatOptions:d}=VN(c);if(this.formats[f]){let h=r;try{const p=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},g=p.locale||p.lng||o.locale||o.lng||i;h=this.formats[f](r,g,{...d,...o,...p})}catch(p){this.logger.warn(p)}return h}else this.logger.warn(`there was no format function for ${f}`);return r},e)}}const BN=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class qN extends Nr{constructor(e,n,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=o,this.logger=ln.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,o.backend,o)}queueLoad(e,n,i,o){const l={},s={},r={},c={};return e.forEach(f=>{let d=!0;n.forEach(h=>{const p=`${f}|${h}`;!i.reload&&this.store.hasResourceBundle(f,h)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?s[p]===void 0&&(s[p]=!0):(this.state[p]=1,d=!1,s[p]===void 0&&(s[p]=!0),l[p]===void 0&&(l[p]=!0),c[h]===void 0&&(c[h]=!0)))}),d||(r[f]=!0)}),(Object.keys(l).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(l),pending:Object.keys(s),toLoadLanguages:Object.keys(r),toLoadNamespaces:Object.keys(c)}}loaded(e,n,i){const o=e.split("|"),l=o[0],s=o[1];n&&this.emit("failedLoading",l,s,n),!n&&i&&this.store.addResourceBundle(l,s,i,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&i&&(this.state[e]=0);const r={};this.queue.forEach(c=>{_N(c.loaded,[l],s),BN(c,e),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(f=>{r[f]||(r[f]={});const d=c.loaded[f];d.length&&d.forEach(h=>{r[f][h]===void 0&&(r[f][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",r),this.queue=this.queue.filter(c=>!c.done)}read(e,n,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:i,tried:o,wait:l,callback:s});return}this.readingCalls++;const r=(f,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(f&&d&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,i,o+1,l*2,s)},l);return}s(f,d)},c=this.backend[i].bind(this.backend);if(c.length===2){try{const f=c(e,n);f&&typeof f.then=="function"?f.then(d=>r(null,d)).catch(r):r(null,f)}catch(f){r(f)}return}return c(e,n,r)}prepareLoading(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();K(e)&&(e=this.languageUtils.toResolveHierarchy(e)),K(n)&&(n=[n]);const l=this.queueLoad(e,n,i,o);if(!l.toLoad.length)return l.pending.length||o(),null;l.toLoad.forEach(s=>{this.loadOne(s)})}load(e,n,i){this.prepareLoading(e,n,{},i)}reload(e,n,i){this.prepareLoading(e,n,{reload:!0},i)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=e.split("|"),o=i[0],l=i[1];this.read(o,l,"read",void 0,void 0,(s,r)=>{s&&this.logger.warn(`${n}loading namespace ${l} for language ${o} failed`,s),!s&&r&&this.logger.log(`${n}loaded namespace ${l} for language ${o}`,r),this.loaded(e,s,r)})}saveMissing(e,n,i,o,l){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},r=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend&&this.backend.create){const c={...s,isUpdate:l},f=this.backend.create.bind(this.backend);if(f.length<6)try{let d;f.length===5?d=f(e,n,i,o,c):d=f(e,n,i,o),d&&typeof d.then=="function"?d.then(h=>r(null,h)).catch(r):r(null,d)}catch(d){r(d)}else f(e,n,i,o,r,c)}!e||!e[0]||this.store.addResource(e[0],n,i,o)}}}const Mg=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),K(t[1])&&(e.defaultValue=t[1]),K(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(i=>{e[i]=n[i]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Ig=t=>(K(t.ns)&&(t.ns=[t.ns]),K(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),K(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),Zs=()=>{},FN=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class ds extends Nr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Ig(e),this.services={},this.logger=ln,this.modules={external:[]},FN(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(i=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(K(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const o=Mg();this.options={...o,...this.options,...Ig(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...o.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const l=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?ln.init(l(this.modules.logger),this.options):ln.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=zN);const h=new bg(this.options);this.store=new xg(this.options.resources,this.options);const p=this.services;p.logger=ln,p.resourceStore=this.store,p.languageUtils=h,p.pluralResolver=new HN(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(p.formatter=l(d),p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new GN(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new qN(l(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(g){for(var v=arguments.length,E=new Array(v>1?v-1:0),A=1;A<v;A++)E[A-1]=arguments[A];e.emit(g,...E)}),this.modules.languageDetector&&(p.languageDetector=l(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=l(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new tr(this.services,this.options),this.translator.on("*",function(g){for(var v=arguments.length,E=new Array(v>1?v-1:0),A=1;A<v;A++)E[A-1]=arguments[A];e.emit(g,...E)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,i||(i=Zs),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const c=Ml(),f=()=>{const d=(h,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(p),i(h,p)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),c}loadResources(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Zs;const o=K(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(o&&o.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const l=[],s=r=>{if(!r||r==="cimode")return;this.services.languageUtils.toResolveHierarchy(r).forEach(f=>{f!=="cimode"&&l.indexOf(f)<0&&l.push(f)})};o?s(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>s(c)),this.options.preload&&this.options.preload.forEach(r=>s(r)),this.services.backendConnector.load(l,this.options.ns,r=>{!r&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(r)})}else i(null)}reloadResources(e,n,i){const o=Ml();return typeof e=="function"&&(i=e,e=void 0),typeof n=="function"&&(i=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),i||(i=Zs),this.services.backendConnector.reload(e,n,l=>{o.resolve(),i(l)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&qv.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(e,n){var i=this;this.isLanguageChangingTo=e;const o=Ml();this.emit("languageChanging",e);const l=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},s=(c,f)=>{f?(l(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,o.resolve(function(){return i.t(...arguments)}),n&&n(c,function(){return i.t(...arguments)})},r=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const f=K(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);f&&(this.language||l(f),this.translator.language||this.translator.changeLanguage(f),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(f)),this.loadResources(f,d=>{s(d,f)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?r(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(r):this.services.languageDetector.detect(r):r(e),o}getFixedT(e,n,i){var o=this;const l=function(s,r){let c;if(typeof r!="object"){for(var f=arguments.length,d=new Array(f>2?f-2:0),h=2;h<f;h++)d[h-2]=arguments[h];c=o.options.overloadTranslationOptionHandler([s,r].concat(d))}else c={...r};c.lng=c.lng||l.lng,c.lngs=c.lngs||l.lngs,c.ns=c.ns||l.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||i||l.keyPrefix);const p=o.options.keySeparator||".";let g;return c.keyPrefix&&Array.isArray(s)?g=s.map(v=>`${c.keyPrefix}${p}${v}`):g=c.keyPrefix?`${c.keyPrefix}${p}${s}`:s,o.t(g,c)};return K(e)?l.lng=e:l.lngs=e,l.ns=n,l.keyPrefix=i,l}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=n.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const s=(r,c)=>{const f=this.services.backendConnector.state[`${r}|${c}`];return f===-1||f===0||f===2};if(n.precheck){const r=n.precheck(this,s);if(r!==void 0)return r}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(i,e)&&(!o||s(l,e)))}loadNamespaces(e,n){const i=Ml();return this.options.ns?(K(e)&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{i.resolve(),n&&n(o)}),i):(n&&n(),Promise.resolve())}loadLanguages(e,n){const i=Ml();K(e)&&(e=[e]);const o=this.options.preload||[],l=e.filter(s=>o.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return l.length?(this.options.preload=o.concat(l),this.loadResources(s=>{i.resolve(),n&&n(s)}),i):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services&&this.services.languageUtils||new bg(Mg());return n.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new ds(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Zs;const i=e.forkResourceStore;i&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},l=new ds(o);return(e.debug!==void 0||e.prefix!==void 0)&&(l.logger=l.logger.clone(e)),["store","services","language"].forEach(r=>{l[r]=this[r]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},i&&(l.store=new xg(this.store.data,o),l.services.resourceStore=l.store),l.translator=new tr(l.services,o),l.translator.on("*",function(r){for(var c=arguments.length,f=new Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];l.emit(r,...f)}),l.init(o,n),l.translator.options=o,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ze=ds.createInstance();Ze.createInstance=ds.createInstance;Ze.createInstance;Ze.dir;Ze.init;Ze.loadResources;Ze.reloadResources;Ze.use;Ze.changeLanguage;Ze.getFixedT;Ze.t;Ze.exists;Ze.setDefaultNamespace;Ze.hasLoadedNamespace;Ze.loadNamespaces;Ze.loadLanguages;const{slice:JN,forEach:YN}=[];function KN(t){return YN.call(JN.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function $N(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const Dg=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,XN=function(t,e){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},o=encodeURIComponent(e);let l=`${t}=${o}`;if(i.maxAge>0){const s=i.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");l+=`; Max-Age=${Math.floor(s)}`}if(i.domain){if(!Dg.test(i.domain))throw new TypeError("option domain is invalid");l+=`; Domain=${i.domain}`}if(i.path){if(!Dg.test(i.path))throw new TypeError("option path is invalid");l+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");l+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(l+="; HttpOnly"),i.secure&&(l+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(l+="; Partitioned"),l},Lg={create(t,e,n,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+n*60*1e3)),i&&(o.domain=i),document.cookie=XN(t,e,o)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let i=0;i<n.length;i++){let o=n[i];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(e)===0)return o.substring(e.length,o.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var QN={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return Lg.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:i,cookieDomain:o,cookieOptions:l}=e;n&&typeof document<"u"&&Lg.create(n,t,i,o,l)}},ZN={name:"querystring",lookup(t){var i;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:o}=window.location;!window.location.search&&((i=window.location.hash)==null?void 0:i.indexOf("?"))>-1&&(o=window.location.hash.substring(window.location.hash.indexOf("?")));const s=o.substring(1).split("&");for(let r=0;r<s.length;r++){const c=s[r].indexOf("=");c>0&&s[r].substring(0,c)===e&&(n=s[r].substring(c+1))}}return n}},WN={name:"hash",lookup(t){var o;let{lookupHash:e,lookupFromHashIndex:n}=t,i;if(typeof window<"u"){const{hash:l}=window.location;if(l&&l.length>2){const s=l.substring(1);if(e){const r=s.split("&");for(let c=0;c<r.length;c++){const f=r[c].indexOf("=");f>0&&r[c].substring(0,f)===e&&(i=r[c].substring(f+1))}}if(i)return i;if(!i&&n>-1){const r=l.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?(o=r[typeof n=="number"?n:0])==null?void 0:o.replace("/",""):void 0}}}return i}};let po=null;const Ug=()=>{if(po!==null)return po;try{if(po=typeof window<"u"&&window.localStorage!==null,!po)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{po=!1}return po};var jN={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&Ug())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&Ug()&&window.localStorage.setItem(n,t)}};let ho=null;const kg=()=>{if(ho!==null)return ho;try{if(ho=typeof window<"u"&&window.sessionStorage!==null,!ho)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{ho=!1}return ho};var eM={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&kg())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&kg()&&window.sessionStorage.setItem(n,t)}},tM={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:i,language:o}=navigator;if(n)for(let l=0;l<n.length;l++)e.push(n[l]);i&&e.push(i),o&&e.push(o)}return e.length>0?e:void 0}},nM={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const i=e||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(n=i.getAttribute("lang")),n}},iM={name:"path",lookup(t){var o;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(o=n[typeof e=="number"?e:0])==null?void 0:o.replace("/",""):void 0}},oM={name:"subdomain",lookup(t){var o,l;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,i=typeof window<"u"&&((l=(o=window.location)==null?void 0:o.hostname)==null?void 0:l.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(i)return i[n]}};let Fv=!1;try{document.cookie,Fv=!0}catch{}const Jv=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Fv||Jv.splice(1,1);const lM=()=>({order:Jv,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class Yv{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=KN(n,this.options||{},lM()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=o=>o.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(QN),this.addDetector(ZN),this.addDetector(jN),this.addDetector(eM),this.addDetector(tM),this.addDetector(nM),this.addDetector(iM),this.addDetector(oM),this.addDetector(WN)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(i=>{if(this.detectors[i]){let o=this.detectors[i].lookup(this.options);o&&typeof o=="string"&&(o=[o]),o&&(n=n.concat(o))}}),n=n.filter(i=>i!=null&&!$N(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(e,this.options)}))}}Yv.type="languageDetector";const sM={en:{translation:{languages:{autoDetect:"Auto Detect",english:"English",chineseTraditional:"Chinese (Traditional)",chineseTraditionalHK:"Chinese (Traditional) HK",chineseSimplified:"Chinese (Simplified)",spanish:"Spanish",japanese:"Japanese",french:"French",german:"German",korean:"Korean",russian:"Russian",portuguese:"Portuguese",italian:"Italian"},translationInput:{online:"Online",offline:"Offline",cameraAriaLabel:"Translate from camera",settingsAriaLabel:"Open settings",placeholderListening:"Listening...",placeholderEnterText:"Enter text to translate",clearText:"Clear text",countdownPrefix:"0:",recordingStop:"Stop recording",recordingStart:"Start recording",cancelTranslation:"Cancel Translation",translateOffline:"Translate using offline model",translate:"Translate"},translationOutput:{modeOnline:"Mode: Online ({{provider}})",modeOfflineInitializing:"Mode: Offline ({{modelName}}) - Initializing...",modeOfflineReady:"Mode: Offline ({{modelName}})",modeOfflineNotReady:"Mode: Offline ({{modelName}}) - Model not ready",modeOfflineNoModel:"Mode: Offline - No model selected",flipScreenAriaLabel:"Flip screen",copyAriaLabel:"Copy translated text",historyAriaLabel:"View translation history",clearAriaLabel:"Clear translated text",placeholder:"Translation",speakStop:"Stop speaking",speakCustomVoice:"Speak with custom voice",speakFemale:"Speak with female voice",speakMale:"Speak with male voice",astStop:"Stop speech translation",astStart:"Start speech translation",astTitle:"Automatic Speech Translation"},settings:{title:"Settings",closeAriaLabel:"Close settings",tabOnline:"Online",tabOffline:"Offline",tabTts:"Offline TTS",tabOfflineParams:"Offline Params",providerLabel:"Provider",providerGemini:"Gemini",providerOpenAI:"OpenAI",openaiUrlLabel:"OpenAI API URL",openaiUrlPlaceholder:"e.g., https://api.openai.com",apiKeyLabel:"API Key",apiKeyPlaceholder:"Enter your Gemini or OpenAI API Key",modelNameLabel:"Model Name",modelNameGeminiPlaceholder:"e.g., gemini-2.5-flash",modelNameOpenAIPlaceholder:"e.g., gpt-4o",hfApiKeyLabel:"Hugging Face API Key",hfApiKeyPlaceholder:"Required to download models",hfApiKeyDescription:"A key is required for model downloads from Hugging Face.",manageModelsLabel:"Manage Offline Models",download:"Download",pause:"Pause",resume:"Resume",retry:"Retry",deleteModelAriaLabel:"Delete {{modelName}}",statusInitializing:"Initializing...",statusError:"Error: {{error}}",enableOfflineLabel:"Enable Offline Translation",enableOfflineDescription:"Use local model for translations.",enableTwoStepLabel:"High-Accuracy JPZH Mode",enableTwoStepDescription:"Improves Japanese to Chinese translation via English.",enableCustomTtsLabel:"Enable Custom Offline TTS",enableCustomTtsDescription:"Customize the voice for text-to-speech.",voiceLabel:"Voice",voicePlaceholder:"No voices available for {{languageName}}",rateLabel:"Rate",pitchLabel:"Pitch",offlineParamsDescription:"Advanced parameters for the local offline model. Changes will require the model to be re-initialized.",maxTokensLabel:"Max Tokens",topKLabel:"Top K",temperatureLabel:"Temperature",randomSeedLabel:"Random Seed",supportAudioLabel:"Enable Audio Input (for transcription)",supportAudioDescription:"Allows the model to process audio files.",maxNumImagesLabel:"Enable Image Input (for OCR)",maxNumImagesDescription:"Allows the model to process one image.",clearSettingsButton:"Clear Settings",saveSettingsButton:"Save Settings",languageLabel:"UI Language"},history:{title:"Translation History",closeAriaLabel:"Close history",empty:"No history yet.",selectAriaLabel:"Select translation from {{sourceLang}} to {{targetLang}}",clearAriaLabel:"Clear all translation history",clearButton:"Clear History"},camera:{title:"Camera Translation View",closeAriaLabel:"Close camera view",errorAccess:"Could not access the camera. Please ensure permissions are granted.",errorCapture:"Failed to capture image: {{message}}",errorLoad:"Failed to load image: {{message}}",zoomAriaLabel:"Zoom camera",galleryAriaLabel:"Import from gallery",captureAriaLabel:"Capture and process image",processingAriaLabel:"Processing image",flashOffAriaLabel:"Turn on flash",flashOnAriaLabel:"Turn off flash"},notifications:{offlineModelInitSuccess:"Offline model {{modelIdentifier}} initialized successfully.",offlineModelInitFailed:"Failed to load offline model.",translationFailed:"Translation Failed: {{errorMessage}}",speechError:"Speech synthesis error: {{error}}",speechRecognitionError:"Speech recognition error: {{error}}",mediaRecorderUnsupported:"MediaRecorder API is not supported in this browser.",processingAudio:"[Processing audio...]",noAudioRecorded:"No audio was recorded.",transcriptionFailed:"Transcription Failed: {{errorMessage}}",micPermissionError:"Could not start recording. Please grant microphone permissions.",offlineModelNotReadyRecording:"Offline model is not ready for recording.",offlineSRError:"You are offline. Cannot use online speech recognition.",astFailed:"AST Failed: {{errorMessage}}",astSelectLanguage:"Please select a source language before using speech translation.",astOfflineModelNotReady:"Offline model is not ready for speech translation.",astOfflineError:"You are offline. Cannot use online speech translation.",processingImage:"[Processing image...]",offlineImageError:"Offline model is not ready for image processing.",noTextInImage:"No text found in the image.",offlineImageTranslateError:"You are offline. Cannot use online image translation.",imageProcessingFailed:"Image Processing Failed: {{errorMessage}}"},common:{status:{not_started:"Not Started",downloading:"Downloading",paused:"Paused",completed:"Completed",error:"Error",consolidating:"Consolidating...",initializing:"Initializing..."}}}},"zh-TW":{translation:{languages:{autoDetect:"",english:"",chineseTraditional:"",chineseTraditionalHK:" ()",chineseSimplified:"",spanish:"",japanese:"",french:"",german:"",korean:"",russian:"",portuguese:"",italian:""},translationInput:{online:"",offline:"",cameraAriaLabel:"",settingsAriaLabel:"",placeholderListening:"...",placeholderEnterText:"",clearText:"",countdownPrefix:"0:",recordingStop:"",recordingStart:"",cancelTranslation:"",translateOffline:"",translate:""},translationOutput:{modeOnline:" ({{provider}})",modeOfflineInitializing:" ({{modelName}}) - ...",modeOfflineReady:" ({{modelName}})",modeOfflineNotReady:" ({{modelName}}) - ",modeOfflineNoModel:" - ",flipScreenAriaLabel:"",copyAriaLabel:"",historyAriaLabel:"",clearAriaLabel:"",placeholder:"",speakStop:"",speakCustomVoice:"",speakFemale:"",speakMale:"",astStop:"",astStart:"",astTitle:""},settings:{title:"",closeAriaLabel:"",tabOnline:"",tabOffline:"",tabTts:" TTS",tabOfflineParams:"",providerLabel:"",providerGemini:"Gemini",providerOpenAI:"OpenAI",openaiUrlLabel:"OpenAI API URL",openaiUrlPlaceholder:"https://api.openai.com",apiKeyLabel:"API ",apiKeyPlaceholder:" Gemini  OpenAI API ",modelNameLabel:"",modelNameGeminiPlaceholder:"gemini-2.5-flash",modelNameOpenAIPlaceholder:"gpt-4o",hfApiKeyLabel:"Hugging Face API ",hfApiKeyPlaceholder:"",hfApiKeyDescription:" Hugging Face ",manageModelsLabel:"",download:"",pause:"",resume:"",retry:"",deleteModelAriaLabel:" {{modelName}}",statusInitializing:"...",statusError:"{{error}}",enableOfflineLabel:"",enableOfflineDescription:"",enableTwoStepLabel:"  ",enableTwoStepDescription:"",enableCustomTtsLabel:" TTS",enableCustomTtsDescription:"",voiceLabel:"",voicePlaceholder:" {{languageName}} ",rateLabel:"",pitchLabel:"",offlineParamsDescription:"",maxTokensLabel:" (Max Tokens)",topKLabel:"Top K",temperatureLabel:" (Temperature)",randomSeedLabel:" (Random Seed)",supportAudioLabel:" ()",supportAudioDescription:"",maxNumImagesLabel:" ()",maxNumImagesDescription:"",clearSettingsButton:"",saveSettingsButton:"",languageLabel:""},history:{title:"",closeAriaLabel:"",empty:"",selectAriaLabel:" {{sourceLang}}  {{targetLang}} ",clearAriaLabel:"",clearButton:""},camera:{title:"",closeAriaLabel:"",errorAccess:"",errorCapture:"{{message}}",errorLoad:"{{message}}",zoomAriaLabel:"",galleryAriaLabel:"",captureAriaLabel:"",processingAriaLabel:"",flashOffAriaLabel:"",flashOnAriaLabel:""},notifications:{offlineModelInitSuccess:" {{modelIdentifier}} ",offlineModelInitFailed:"",translationFailed:"{{errorMessage}}",speechError:"{{error}}",speechRecognitionError:"{{error}}",mediaRecorderUnsupported:" MediaRecorder API",processingAudio:"[...]",noAudioRecorded:"",transcriptionFailed:"{{errorMessage}}",micPermissionError:"",offlineModelNotReadyRecording:"",offlineSRError:"",astFailed:"{{errorMessage}}",astSelectLanguage:"",astOfflineModelNotReady:"",astOfflineError:"",processingImage:"[...]",offlineImageError:"",noTextInImage:"",offlineImageTranslateError:"",imageProcessingFailed:"{{errorMessage}}"},common:{status:{not_started:"",downloading:"",paused:"",completed:"",error:"",consolidating:"...",initializing:"..."}}}}};Ze.use(Yv).use(SC).init({resources:sM,fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});const Kv=document.getElementById("root");if(!Kv)throw new Error("Could not find root element to mount to");const aM=aC.createRoot(Kv);aM.render(S.jsx(rd.StrictMode,{children:S.jsx(rd.Suspense,{fallback:"Loading...",children:S.jsx(EN,{})})}));
